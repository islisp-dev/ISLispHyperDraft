<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" type="text/css" href="stylesheet.css" />
  <title>Programming Language ISLISP Working Draft 23.0</title>
</head>

<body>
  <div id="sidebar">
        <h2>Contents</h2>
        <ol>
            <li><a href="#scope">Scope</a></li>
            <li><a href="#normative_references">Normative references</a></li>
            <li><a href="#compliance">Compliance of ISLisp processors and text</a></li>
            <li><a href="#terms_and_definitions">Terms and definitions</a></li>
            <li><a href="#notation_and_conventions">Notation and conventions</a></li>
            <li><a href="#lexemes">Lexemes</a>
                <ol>
                    <li><a href="#separators">Separators</a></li>
                    <li><a href="#comments">Comments</a></li>
                </ol>
            </li>
            <li><a href="#textual_representation">Textual representation</a></li>
            <li><a href="#reserved_identifiers">Reserved identifiers</a></li>
            <li><a href="#errors">Errors</a>
                <ol>
                    <li><a href="#classes_of_error_specification">Classes of error specification</a></li>
                    <li><a href="#pervasive_error_types">Pervasive error types</a></li>
                </ol>
            </li>
            <li><a href="#classes">Classes</a>
                <ol>
                    <li><a href="#metaclasses">Metaclasses</a></li>
                    <li><a href="#predefined_classes">Predefined classes</a></li>
                    <li><a href="#standard_classes">Standard classes</a>
                        <ol>
                            <li><a href="#slots">Slots</a></li>
                            <li><a href="#creating_instances">Creating instances of classes</a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li><a href="#scope_and_extent">Scope and extent</a>
                <ol>
                    <li><a href="#the_lexical_principle">The lexical principle</a></li>
                    <li><a href="#scope_of_identifiers">Scope of identifiers</a></li>
                    <li><a href="#some_specific_scope_rules">Some specific scope rules</a></li>
                    <li><a href="#extent">Extent</a></li>
                </ol>
            </li>
            <li><a href="#forms_and_evaluation">Forms and evaluation</a>
                <ol>
                    <li><a href="#forms">Forms</a></li>
                    <li><a href="#function_application_forms">Function application forms</a></li>
                    <li><a href="#special_forms">Special forms</a></li>
                    <li><a href="#defining_forms">Defining forms</a></li>
                    <li><a href="#macro_forms">Macro forms</a></li>
                    <li><a href="#the_evaluation_model">The evaluation model</a></li>
                    <li><a href="#functions">Functions</a></li>
                    <li><a href="#defining_operators">Defining operators</a></li>
                </ol>
            </li>
            <li><a href="#predicates">Predicates</a>
                <ol>
                    <li><a href="#boolean_values">Boolean values</a></li>
                    <li><a href="#class_predicates">Class predicates</a></li>
                    <li><a href="#equality">Equality</a></li>
                    <li><a href="#logical_connectives">Logical connectives</a></li>
                </ol>
            </li>
            <li><a href="#control_structure">Control structure</a>
                <ol>
                    <li><a href="#constants">Constants</a></li>
                    <li><a href="#variables">Variables</a></li>
                    <li><a href="#dynamic_variables">Dynamic variables</a></li>
                    <li><a href="#conditional_expressions">Conditional expressions</a></li>
                    <li><a href="#sequencing_forms">Sequencing forms</a></li>
                    <li><a href="#iteration">Iteration</a></li>
                    <li><a href="#non_local_exits">Non-local exits</a></li>
                    <li><a href="#establishing_and_invoking_non_local_exits">Establishing and invoking non-local exits</a></li>
                    <li><a href="#assuring_data_consistency">Assuring data consistency during non-local exits</a></li>
                </ol>
            </li>
            <li><a href="#objects">Objects</a>
                <ol>
                    <li><a href="#defining_classes">Defining classes</a>
                        <ol>
                            <li><a href="#determining_the_class_precedence">Determining the class precedence list</a></li>
                            <li><a href="#accessing_slots">Accessing slots</a></li>
                            <li><a href="#inheritance_of_slots">Inheritance of slots and slot options</a></li>
                        </ol>
                    </li>
                    <li><a href="#generic_functions">Generic functions</a>
                        <ol>
                            <li><a href="#defining_generic_functions">Defining generic functions</a></li>
                            <li><a href="#defining_methods">Defining methods for generic functions</a>
                                <ol>
                                    <li><a href="#agreement_on_parameter_specializers">Agreement on parameter specializers and qualifiers</a></li>
                                    <li><a href="#congruent_lambda_lists">Congruent lambda-lists for all methods of a generic function</a></li>
                                </ol>
                            </li>
                            <li><a href="#inheritance_of_methods">Inheritance of methods</a></li>
                        </ol>
                    </li>
                    <li><a href="#calling_generic_functions">Calling generic functions</a>
                        <ol>
                            <li><a href="#selecting_the_applicable_methods">Selecting the applicable methods</a></li>
                            <li><a href="#sorting_the_applicable_methods">Sorting the applicable methods</a></li>
                            <li><a href="#applying_methods">Applying methods</a>
                                <ol>
                                    <li><a href="#simple_method_combination">Simple method combination</a></li>
                                    <li><a href="#standard_method_combination">Standard method combination</a></li>
                                </ol>
                            </li>
                            <li><a href="#calling_more_general_methods">Calling more general methods</a></li>
                        </ol>
                    </li>
                    <li><a href="#object_creation">Object creation and initialization</a>
                        <ol>
                            <li><a href="#initialize_object">Initialize-object</a></li>
                        </ol>
                    </li>
                    <li><a href="#class_enquiry">Class enquiry</a></li>
                </ol>
            </li>
            <li><a href="#macros">Macros</a></li>
            <li><a href="#declarations_and_coercions">Declarations and coercions</a></li>
            <li><a href="#symbol_class">Symbol class</a>
                <ol>
                    <li><a href="#symbol_names">Symbol names</a>
                        <ol>
                            <li><a href="#notation_for_symbols">Notation for symbols</a></li>
                            <li><a href="#alphabetic_case_in_symbol_names">Alphabetic case in symbol names</a></li>
                            <li><a href="#nil_and">nil and ()</a></li>
                        </ol>
                    </li>
                    <li><a href="#symbol_properties">Symbol properties</a></li>
                    <li><a href="#unnamed_symbols">Unnamed symbols</a></li>
                </ol>
            </li>
            <li><a href="#number_class">Number class</a>
                <ol>
                    <li><a href="#number_class_2">Number class</a></li>
                    <li><a href="#float_class">Float class</a></li>
                    <li><a href="#integer_class">Integer class</a></li>
                </ol>
            </li>
            <li><a href="#character_class">Character class</a></li>
            <li><a href="#list_class">List class</a>
                <ol>
                    <li><a href="#cons">Cons</a></li>
                    <li><a href="#null_class">Null class</a></li>
                    <li><a href="#list_operations">List operations</a></li>
                </ol>
            </li>
            <li><a href="#arrays">Arrays</a>
                <ol>
                    <li><a href="#array_classes">Array classes</a></li>
                    <li><a href="#general_arrays">General arrays</a></li>
                    <li><a href="#array_operations">Array operations</a></li>
                </ol>
            </li>
            <li><a href="#vectors">Vectors</a></li>
            <li><a href="#string_class">String class</a></li>
            <li><a href="#sequence_functions">Sequence functions</a></li>
            <li><a href="#stream_class">Stream class</a>
                <ol>
                    <li><a href="#streams_to_files">Streams to files</a></li>
                    <li><a href="#other_streams">Other streams</a></li>
                </ol>
            </li>
            <li><a href="#input_and_output">Input and output</a>
                <ol>
                    <li><a href="#argument_conventions">Argument conventions for input functions</a></li>
                    <li><a href="#character_io">Character I/O</a></li>
                    <li><a href="#binary_io">Binary I/O</a></li>
                </ol>
            </li>
            <li><a href="#files">Files</a></li>
            <li><a href="#condition_system">Condition system</a>
                <ol>
                    <li><a href="#conditions">Conditions</a></li>
                    <li><a href="#signaling_and_handling">Signaling and handling conditions</a>
                        <ol>
                            <li><a href="#operations_relating_to_condition_signaling">Operations relating to condition signaling</a></li>
                            <li><a href="#operations_relating_to_condition_handling">Operations relating to condition handling</a></li>
                        </ol>
                    </li>
                    <li><a href="#data_associated_with_condition_classes">Data associated with condition classes</a>
                        <ol>
                            <li><a href="#arithmetic_errors">Arithmetic errors</a></li>
                            <li><a href="#domain_errors">Domain errors</a></li>
                            <li><a href="#parse_errors">Parse errors</a></li>
                            <li><a href="#simple_errors">Simple errors</a></li>
                            <li><a href="#stream_errors">Stream errors</a></li>
                            <li><a href="#undefined_entity_errors">Undefined entity errors</a></li>
                        </ol>
                    </li>
                    <li><a href="#error_identification">Error identification</a></li>
                </ol>
            </li>
            <li><a href="#miscellaneous">Miscellaneous</a></li>
            <li><a href="#index">Index</a></li>
        </ol>
    </div>
    <main id="content">
        <h1>Programming Language ISLISP</h1>
        <div>ISLISP Working Draft 23.0</div>
        
        <p>This document was created Thu 17-Mar-2007 00:10am JST.</p>
        <p>Permission to copy all or part of the material in this document, ISLISP Working Draft 23.0, without fee is granted provided that either it is reproduced without modification, or else the portion to be copied no longer identifies itself (through its title or any running headers) as ISLISP Working Draft 23.0.</p>
        <p>
            The textual material that makes up this document, excluding the cover and any running headers that establish the identity of the document itself as ISLISP Working Draft 23.0, is expressly dedicated to the Public Domain, from which individual, copyrighted works (including any
            <a href="https://www.iso.org/obp/ui/#iso:std:iso-iec:13816:ed-2:v1:en">resulting ISO standard</a>) may be non-exclusively derived without fee or other restriction.
        </p>
        
        <p>
            <a href="https://github.com/nenbutsu">Yuji Minejima</a> (yuji@minejima.jp) is in charge of this HTML version. (2017 Jul.)
        </p>
        
        <p>
            Acknowledgment:
            <a href="https://github.com/SaitoAtsushi">Atsushi Saito</a> did the first tagging of HTML version. (2017 Jul.)
        </p>
        <p>
            ChangeLog:
            <a href="https:///github.com/ta2gch">Masaya Taniguchi</a> added sidebar. (2017/07/30)
        </p>
        <h2>Introduction</h2>
        <p><a href="https://en.wikipedia.org/wiki/ISLISP">The programming language ISLISP</a> is a member of the <a href="https://en.wikipedia.org/wiki/Lisp_(programming_language)">LISP family</a>.</p>
        <p>The following factors inﬂuenced the establishment of design goals for ISLISP:</p>
        <ol>
            <li>A desire of the international LISP community to standardize on those features of LISP upon which there is widespread agreement.</li>
            <li>The existence of the incompatible dialects <a href="https://en.wikipedia.org/wiki/Common_Lisp">COMMON-LISP</a>, <a href="https://en.wikipedia.org/wiki/EuLisp">EULISP</a>, <a href="https://en.wikipedia.org/wiki/Le_Lisp">LE-LISP</a>, and <a href="https://en.wikipedia.org/wiki/Scheme_(programming_language)">SCHEME</a> (mentioned in alphabetical order).</li>
            <li>A desire to affirm LISP as an industrial language.</li>
        </ol>
        <p>This led to the following design goals for ISLISP:</p>
        <ol>
            <li>ISLISP shall be compatible with existing LISP dialects where feasible.</li>
            <li>ISLISP shall have as a primary goal to provide basic functionality.</li>
            <li>ISLISP shall be <a href="https://en.wikipedia.org/wiki/Object-oriented_programming">object-oriented</a>.</li>
            <li>ISLISP shall be designed with extensibility in mind.</li>
            <li>ISLISP shall give priority to industrial needs over academic needs.</li>
            <li>ISLISP shall promote efficient implementations and applications.</li>
        </ol>
        
        <h2>Programming Language ISLISP</h2>
        
        <h3 id="scope">Scope</h3>
        
        <p>This document specifies syntax and semantics of the computer programming language ISLISP by specifying requirements for a conforming ISLISP processor and a conforming ISLISP text.</p>
        <p>This document does not specify:</p>
        <ul>
            <li>the size or complexity of an ISLISP text that exceeds the capacity of any specific data processing system or the capacity of a particular processor, nor the actions to be taken when the corresponding limits are exceeded;</li>
            <li>the minimal requirements of a data processing system that is capable of supporting an implementation of a processor for ISLISP;</li>
            <li>the method of preparation of an ISLISP text for execution and the method of activation of this ISLISP text, prepared for execution;</li>
            <li>the typographical presentation of an ISLISP text published for human reading.</li>
            <li>extensions that might or might not be provided by the implementation.</li>
        </ul>
        
        <h3 id="normative_references">Normative references</h3>
        
        <p>The following referenced documents are indispensable for the application of this document. For dated references, only the edition cited applies. For undated references, the latest edition of the referenced document (including any amendments) applies.</p>
        <ul>
            <li>ISO/IEC TR 10034:1990, <span class="standard_title">Guidelines for the preparation of conformity clauses in programming language standards.</span></li>
            <li>IEEE standard 754-1985. <span class="standard_title">Standard for binary floating point arithmetic.</span></li>
        </ul>
        
        <h3 id="compliance">Compliance of ISLisp processors and text</h3>
        
        <p>An ISLISP processor complying with the requirements of this document shall</p>
        <ul>
            <li>accept and implement all features of ISLISP specified in this document.</li>
            <li>reject any text that contains any textual usage which this document explicitly defines to be a violation (see <a href="#errors">§9</a>).</li>
            <li>be accompanied by a document that provides the definitions of all <a href="#td_implementation_defined">implementation-defined</a> features.</li>
            <li>be accompanied by a document that separately describes any features accepted by the processor that are not specified in this document; these extensions shall be described as being <q>extensions to ISLISP as
                specified by ISLISP Working Draft 23.0.</q></li>
            </ul>
            <p>A complying ISLISP text shall not rely on <a href="#td_implementation_dependent">implementation-dependent</a> features. However, a complying ISLISP text may rely on <a href="#td_implementation_defined">implementation-defined</a> features required by this document.</p>
            <p>A complying ISLISP text shall not attempt to create a lexical variable binding for any named constant defined in this document. It is a violation if any such attempt is made.</p>
            
            <h3 id="terms_and_definitions">Terms and definitions</h3>
            
            <p>For the purposes of this document, the following terms and definitions apply.</p>
            
            <h4 id="td_abstract_class" class="term">abstract class</h4>
            <p>class that by definition has no direct instances</p>
            
            <h4 id="td_activation" class="term">activation</h4>
            <p>computation of a function</p>
            
            <div class="note">Note: Every activation has an activation point, an activation period, and an activation end. The activator, which is a function application form prepared for execution, starts the activation at the activation point.</div>
            
            <h4 id="td_accessor" class="term">accessor</h4>
            <p>association of a reader and a writer for a slot of an instance</p>
            
            <h4 id="td_argument_position" class="term">argument position</h4>
            <p>occurrence of a text unit as an element in a form excluding the first one</p>
            
            <h4 id="td_binding" class="term">binding</h4>
            <p>concept that has both a syntactic and a semantic aspect, where</p>
            <ul>
                <li>syntactically, <q>binding</q> describes the relation between an identifier and a binding ISLISP form, and</li>
                <li>semantically, <q>binding</q> describes the relation between a variable, its denoting identifier, and an object (or, the relation between a variable and a location)</li>
            </ul>
            <div class="note">Note 1: The property of being bound can be checked textually by relating defining and applied identifier occurrences.</div>
            <div class="note">Note 2: Semantically, the binding relation might be imagined to be materialized in some entity, the binding. Such a binding entity is constructed at run time and destroyed later, or might have indefinite extent.</div>
            
            <h4 id="td_class" class="term">class</h4>
            <p>object that determines the structure and behavior of a set of other objects called its instances</p>
            <div class="note">Note: The behavior is the set of operations that can be performed on an instance.</div>
            
            <h4 id="td_condition" class="term">condition</h4>
            <p>object that represents a situation that has been (or might be) detected by a running program</p>
            
            <h4 id="td_definition_point" class="term">definition point</h4>
            <p>textual point of an ISLISP text that is the start of an identifier's representation of an ISLISP object</p>
            
            <h4 id="td_direct_instance" class="term">direct instance</h4>
            <p>instance of a class but not an instance of one of its subclasses</p>
            <div class="note">Note: Every ISLISP object is direct instance of exactly one class, which is called <q>its class</q>. The set of all direct instances together with their behavior constitute a class.</div>
            
            <h4 id="td_dynamic" class="term">dynamic</h4>
            <p>having an effect that is determined only through program execution and that cannot, in general, be determined statically</p>
            
            <h4 id="td_dynamic_variable" class="term">dynamic variable</h4>
            <p>variable whose associated binding is determined by the most recently executed active block that established it, rather than statically by a lexically apparent block according to the lexical principle</p>
            
            <h4 id="td_evaluation" class="term">evaluation</h4>
            <p>computation of a form prepared for execution which results in a value and/or a side-effect</p>
            
            <h4 id="td_execution" class="term">execution</h4>
            <p>sequence of (sometimes nested) activations</p>
            
            <h4 id="td_extension" class="term">extension</h4>
            <p><a href="#td_implementation_defined">implementation-defined</a> modification to the requirements of this document that does not invalidate any ISLISP text complying with this document (except by prohibiting the use of one or more particular spellings of identifiers), does not alter the set of actions which are required to signal errors, and does not alter the status of any feature designated as <a href="#td_implementation_dependent">implementation dependent</a></p>
            
            <h4 id="td_form" class="term">form</h4>
            <p>single, syntactically valid unit of program text, capable of being prepared for execution</p>
            
            <h4 id="td_function" class="term">function</h4>
            <p>ISLISP object that is called with arguments, performs a computation (possibly having side-effects), and returns a value</p>
            
            <h4 id="td_generic_function" class="term">generic function</h4>
            <p>function whose application behavior is determined by the classes of the values of its arguments and which consists - in general - of several methods</p>
            
            <h4 id="td_identifier" class="term">identifier</h4>
            <p>lexical element (lexeme) which designates an ISLISP object</p>
            <div class="note">Note: In the data structure representation of ISLISP texts, identifiers are denoted by symbols.</div>
            
            <h4 id="td_immutable_binding" class="term">immutable binding</h4>
            <p>binding in which the relation between an identifier and the object represented by this identifier cannot be changed</p>
            <div class="note">Note: It is a violation if there is attempt to change an immutable binding (error-id. <span class="error_id">immutable-binding</span>).</div>
            
            <h4 id="td_immutable_object" class="term">immutable object</h4>
            <p>object which is not subject to change, either because no operator is provided that is capable of effecting such change, or because some constraint exists which prohibits the use of an operator that might otherwise be capable of effecting such a change</p>
            <div class="note">Note: Except as explicitly indicated otherwise, a conforming processor is not required to detect attempts to modify immutable objects; the consequences are undefined if an attempt is made to modify an immutable object.</div>
            
            <h4 id="td_implementation_defined" class="term">implementation defined</h4>
            <p>feature, possibly differing between different ISLISP processors, but completely defined for every processor</p>
            
            <h4 id="td_implementation_dependent" class="term">implementation dependent</h4>
            <p>feature, possibly differing between different ISLISP processors, but not necessarily defined for any particular processor</p>
            <div class="note">Note: A conforming ISLISP text must not depend upon implementation-dependent features.</div>
            
            <h4 id="td_inheritance" class="term">inheritance</h4>
            <p>relation between a class and its superclass which maps structure and behavior of the superclass onto the class</p>
            <div class="note">Note: ISLISP supports a restricted form of multiple inheritance; <span class="latin">i.e.</span>, a class may have several direct superclasses at once.</div>
            
            <h4 id="td_instance" class="term">instance</h4>
            <p>〈class〉 either a direct instance of a class or an instance of one of its subclasses</p>
            
            <h4 id="td_literal" class="term">literal</h4>
            <p>object whose representation occurs directly in a program as a constant value</p>
            
            <h4 id="td_metaclass" class="term">metaclass</h4>
            <p>class whose instances are themselves classes</p>
            
            <h4 id="td_method" class="term">method</h4>
            <p>case of a generic function for a particular parameter profile, which defines the class-specific behavior and operations of the generic function</p>
            
            <h4 id="td_object" class="term">object</h4>
            <p>anything that can be created, destroyed, manipulated, compared, stored, input, or output by the ISLISP processor</p>
            <div class="note">Note 1: In particular, functions are ISLISP objects.</div>
            <div class="note">Note 2: Objects that can be passed as arguments to functions, can be returned as values, can be bound to variables, and can be part of structures, are called first-class objects.</div>
            
            <h4 id="td_operator" class="term">operator</h4>
            <p>first element of a compound form, which is either a reserved name that identifies the form as a special form, or the name of a macro, or a lambda expression, or else an identifier in the function namespace</p>
            
            <h4 id="td_operator_position" class="term">operator position</h4>
            <p>occurrence of a text unit as the first element in a form</p>
            
            <h4 id="td_parameter_profile" class="term">parameter profile</h4>
            <p>parameter list of a method, where each formal parameter is accompanied by its class name</p>
            <div class="note">Note: If a parameter is not accompanied by a class name, it belongs to the most general class.</div>
            
            <h4 id="td_place" class="term">place</h4>
            <p>location where objects can be stored and retrieved later</p>
            <div class="note">Note: Places are designated by forms which are permitted as the first argument of <span class="terminal">setf</span>. If used this way an object is stored in the place. If the form is not used as first argument of <span class="terminal">setf</span> the stored object is retrieved. The cases are listed in the description of <a href="#s_setf" class="terminal">setf</a>.</div>
            
            <h4 id="td_process" class="term">process</h4>
            <p>execution of an ISLISP text prepared for execution</p>
            
            <h4 id="td_processor" class="term">processor</h4>
            <p>system or mechanism, that accepts an ISLISP text (or an equivalent data structure) as input, prepares it for execution, and executes the result to produce values and side-effects</p>
            
            <h4 id="td_program" class="term">program</h4>
            <p>aggregation of expressions to be evaluated, the specific nature of which depends on context</p>
            <div class="note">Note: Within this document, the term “program” is used only in an abstract way; there is no specific syntactic construct that delineates a program.</div>
            
            <h4 id="td_scope" class="term">scope</h4>
            <p>〈identifier〉 the textual part of a program where the meaning of that identifier is defined; <span class="latin">i.e.</span>, there exists an ISLISP object designated by this identifier</p>
            
            <h4 id="td_slot" class="term">slot</h4>
            <p>named component of an instance which can be accessed using the slot accessors Note: The structure of an instance is defined by the set of its slots.</p>
            
            <h4 id="td_text" class="term">text</h4>
            <p>text that complies with the requirements of this document (<span class="latin">i.e.</span>, with the syntax and static semantics of ISLISP)</p>
            <div class="note">Note: An ISLISP text consists of a sequence of toplevel forms.</div>
            
            <h4 id="td_toplevel_form" class="term">toplevel form</h4>
            <p>any form that either is not nested in any other form or is nested only in progn forms</p>
            
            <h4 id="td_toplevel_scope" class="term">toplevel scope</h4>
            <p>scope in which a complete ISLISP text unit is processed</p>
            
            <h4 id="td_writer" class="term">writer</h4>
            <p>method associated with a slot of a class, whose task is to bind a value with a slot of an instance of that class</p>
            
            <h3 id="notation_and_conventions">Notation and conventions</h3>
            
            <p>For a clear definition of, and a distinction between, syntactic and semantic concepts, several levels of description abstraction are used in the following.</p>
            <p>There is a correspondence from ISLISP textual units to their ISLISP data structure representations. Throughout this document the text and the corresponding ISLISP objects (data structures) are addressed simultaneously. ISLISP text can be seen as an external specification of ISLISP data structures. To distinguish between the two representations different concepts are used. When textual representation is discussed, textual elements (such as <span class="nonterminal">identifiers</span>, <span class="nonterminal">literals</span>, and <span class="nonterminal">compound forms</span>) are used; when ISLISP objects are discussed, <span class="nonterminal">objects</span> (such as <span class="nonterminal">symbols</span> and <span class="nonterminal">lists</span>) are used.</p>
            <p id="forms7">The constituents of ISLISP text are called <a href="#td_form" class="term">forms</a>. A <a href="#td_form" class="term">form</a> can be an <a href="#td_identifier" class="nonterminal">identifier</a>, a <a href="#td_literal" class="nonterminal">literal</a>, or a <span class="nonterminal">compound form</span>. A <span class="nonterminal">compound form</span> can be a <span class="nonterminal">function application form</span>, a <span class="nonterminal">macro form</span>, a <span class="nonterminal">special form</span>, or a <span class="nonterminal">defining form</span>.</p>
            <p>An <a href="#td_identifier" class="nonterminal">identifier</a> is represented by a <span class="nonterminal">symbol</span>. A <span class="nonterminal">compound form</span> is represented by a non-null <span class="nonterminal">list</span>. A <a href="#td_literal" class="nonterminal">literal</a> is represented by neither a <span class="nonterminal">symbol</span> nor a <span class="nonterminal">list</span>, and so is neither an <a href="#td_identifier" class="nonterminal">identifier</a> nor a <span class="nonterminal">compound form</span>; for example, a number is a literal.</p>
            <p id="evaluation_model">An object is <span class="term">prepared for execution</span>; this might include transformation or compilation, including macro expansion. The method of preparation for <span class="term">execution</span> and its result are not defined in this document (with exception of the violations to be detected). After successful preparation for execution the result is ready for execution. The combination of preparation for execution and subsequent execution implements ISLISP's <span class="term">evaluation model</span>. The term “evaluation” is used because ISLISP is an expression language—each form has a value which is used to compute the value of the containing form. The results obtained when an entity is prepared for execution are designated throughout this document by the construction <q>prepared entity</q>; <span class="latin">e.g.</span>, <q>prepared form,</q> <q>prepared special form.</q></p>
            <div class="example">A “cond special form” becomes a “prepared cond” by preparation for execution.</div>
            <p>In the examples, the metasymbol “⇒” designates the result of an actual evaluation. For example:</p>
<pre>
<span class="input" contenteditable="true">(+ 3 4)</span><button class="eval"> ⇒ </button><span class="output">7</span>
</pre>
            <p>The metasymbol <q>→</q> identifies the class that results from the evaluation of a form having a given pattern. For example:</p>
<pre>
(+ <span class="arg">i<sub>1</sub></span> <span class="arg">i<sub>2</sub></span>) → <span class="class">integer</span>
</pre>
            <p id="form_patterns">Given a form pattern (usually defined by its constant parts, the function name or special operator), → relates it to the class to which the result of the evaluation of all matching forms belong.</p>
            <p>Form patterns or forms which are equivalent are related by ≡.</p>
            <p>The following notational conventions for form patterns are used:</p>
            <div class="definition-example">
                (<span class="operator">f-name</span> <span class="arg">argument</span>*) → <span class="class">result-class</span>
            </div>
            <p>In this notation, words written in italics are non-terminal (pattern variables). f-name is always terminal: Specific function names, special operators, defining form names, or generic function names are always presented.</p>
            <p>An underlined term (like the name in a defining form) in this notation, indicates an expression that is not evaluated. If a form might or might not be evaluated (like one of the then-form or else-form in an if), this is indicated explicitly in the text.</p>
            <p>Class names are uniformly denoted as follows: <span class="class">class-name</span>. For example, <span class="class">list</span> is the name of a class; this is usually spoken aloud as <q>list class.</q></p>
            <p>Notes, appearing as Note: note-text, in this document have no effect on the language. They are for better understanding by the human reader.</p>
            <p>Regarding the pattern variables and the extensions of above, the following conventions are also adopted:</p>
            <dl>
                <dt><span class="arg">term</span>+</dt>
                <dd>denotes one or more occurrences of term;</dd>
                <dt><span class="arg">term</span>*</dt>
                <dd>denotes zero or more occurrences of term;</dd>
                <dt>[<span class="arg">term</span>]</dt>
                <dd>denotes at most one occurrence of term, commonly one says that term is optional;</dd>
                <dt>{<span class="arg">term<sub>1</sub></span> <span class="arg">term<sub>2</sub></span> …}</dt>
                <dd>denotes grouping of terms.</dd>
                <dt><span class="arg">term<sub>1</sub></span> | <span class="arg">term<sub>2</sub></span> | …</dt>
                <dd>denotes grouping of alternative terms.</dd>
            </dl>
            <p>The following naming conventions are used to denote forms whose arguments obey the respective class restrictions:</p>
            <dl>
                <dt><span class="arg">array</span>, <span class="arg">array<sub>1</sub></span> , … <span class="arg">array<sub>j</sub></span> , …</dt>
                <dd><span class="class">basic-array</span></dd>
                <dt><span class="arg">cons</span>, <span class="arg">cons<sub>1</sub></span> , … <span class="arg">cons<sub>j</sub></span> , …</dt>
                <dd><span class="class">cons</span></dd>
                <dt><span class="arg">list</span>, <span class="arg">list<sub>1</sub></span> , … <span class="arg">list<sub>j</sub></span> , …</dt>
                <dd><span class="class">list</span></dd>
                <dt><span class="arg">obj</span> , <span class="arg">obj<sub>1</sub></span> , … <span class="arg">obj<sub>j</sub></span> , …</dt>
                <dd><span class="class">object</span></dd>
                <dt><span class="arg">sequence</span>, <span class="arg">sequence<sub>1</sub></span> , … <span class="arg">sequence<sub>j</sub></span> , …</dt>
                <dd><span class="class">basic-vector</span> or <span class="class">list</span> (see <a href="#sequence_functions">§25</a>)</dd>
                <dt><span class="arg">stream</span>, <span class="arg">stream<sub>1</sub></span> , … <span class="arg">stream<sub>j</sub></span> , …</dt>
                <dd><span class="class">stream</span></dd>
                <dt><span class="arg">string</span>, <span class="arg">string<sub>1</sub></span> , … <span class="arg">string<sub>j</sub></span> , …</dt>
                <dd><span class="class">string</span></dd>
                <dt><span class="arg">char</span> , <span class="arg">char<sub>1</sub></span> , … <span class="arg">char<sub>j</sub></span> , …</dt>
                <dd><span class="class">character</span></dd>
                <dt><span class="arg">function</span>, <span class="arg">function<sub>1</sub></span> , … <span class="arg">function<sub>j</sub></span> , …</dt>
                <dd><span class="class">function</span></dd>
                <dt><span class="arg">class</span>, <span class="arg">class<sub>1</sub></span> , … <span class="arg">class<sub>j</sub></span> , …</dt>
                <dd><span class="class">class</span></dd>
                <dt><span class="arg">symbol</span> , <span class="arg">symbol<sub>1</sub></span> , … <span class="arg">symbol<sub>j</sub></span> , …</dt>
                <dd><span class="class">symbol</span></dd>
                <dt><span class="arg">x</span> , <span class="arg">x<sub>1</sub></span> , … <span class="arg">x<sub>j</sub></span> , …</dt>
                <dd><span class="class">number</span></dd>
                <dt><span class="arg">z</span> , <span class="arg">z<sub>1</sub></span> , … <span class="arg">z<sub>j</sub></span> , …</dt>
                <dd><span class="class">integer</span></dd>
            </dl>
            <p id="conventions">In this document the conventions detailed below are used, except where noted:</p>
            <dl>
                <dt class="terminal">-p</dt>
                <dd>
                    <p>Predicates—sometimes called <q>boolean functions</q>—usually have names that end in a -p.</p>
                    <p>Usually every class <span class="class">name</span> has a characteristic function, whose name is built as <span class="nonterminal">name</span>-p if <span class="nonterminal">name</span> is hyphenated (<span class="terminal">generic-function-p</span>), or <span class="nonterminal">name</span>p if <span class="nonterminal">name</span> is not hyphenated (<span class="terminal">symbolp</span>). Note that not all functions whose names end with <q><span class="terminal">p</span></q> are predicates.</p>
                </dd>
                <dt class="terminal" id="create_">create-</dt>
                <dd>Usually a built-in class <span class="class">name</span> has a constructor function, which is called create-<span class="nonterminal">name</span>.</dd>
                <dt class="terminal" id="def_">def</dt>
                <dd>This is used as the prefix of the defining operators.</dd>
                <dt class="terminal">set-</dt>
                <dd>Within this document, any functions named set-<span class="nonterminal">name</span> are writers for a place, for which there is a corresponding reader named <span class="nonterminal">name</span>.</dd>
            </dl>
            <p>For any kind of entity in the language, the phrase <q><span class="nonterminal">entity-kind name</span></q> refers to the entity of kind <span class="nonterminal">entity-kind</span> denoted by <span class="nonterminal">name</span>. For example, the phrases <q>function <span class="nonterminal">name</span></q>, <q>constant <span class="nonterminal">name</span></q>, or <q>class <span class="nonterminal">name</span></q> respectively mean the function, constant, or class denoted by <span class="nonterminal">name</span>.</p>
            
            <h3 id="lexemes">Lexemes</h3>
            
            <p>An ISLISP text is built up from lexemes. Lexemes are built up from at least the following characters (<a href="#character_class">see §20</a>):</p>
<pre>
A B C D E F G H I J K L M N O P Q R S T U V W X Y Z
a b c d e f g h i j k l m n o p q r s t u v w x y z
0 1 2 3 4 5 6 7 8 9 + - &lt; &gt; / * &amp; = . ? _ ! $ % : @ [ ] ^ { } ~ #
</pre>
            <p>Additional characters are <a href="#td_implementation_defined">implementation defined</a>.</p>
            <p>The following characters are individual lexemes (see <a href="#macros">§16</a> and <a href="#cons">§21.1</a>):</p>
<pre>
( ) , ' `
</pre>
            <p>The following character tuples (where <span class="nonterminal">n</span> is a sequence of digits) are individual lexemes (see <a href="#functions">§12.7</a>, <a href="#macros">§16</a>, and <a href="#array_classes">§22.1</a>):</p>
<pre>
#' #( ,@ #B #b #O #o #X #x #na #nA
</pre>
            <p>
                The textual representations of symbols (see <a href="#symbol_class">§18</a>), numbers (see <a href="#number_class">§19</a>), characters (see <a href="#character_class">§20</a>), and strings (see <a href="#string_class">§24</a>) are lexemes.
            </p>
            <p>\ (single escape) and | (multiple escape) are special characters. They may occur in some lexemes (identifiers and string literals).</p>
            <p>Other lexemes are separated by delimiters. Delimiters are separators along with the following characters:</p>
<pre>
( ) ` , '
</pre>
            <p>The effect of delimiting is disestablished inside a string (see <a href="#string_class">§24</a>) or inside a corresponding pair of multiple escape characters (see <a href="#symbol_class">§18</a>) or for the character immediately following #\.</p>
            
            <h4 id="separators">Separators</h4>
            <p>Separators are as follows: blank, comments, newline, and an <a href="#td_implementation_defined">implementation-defined</a> set of characters, (<span class="latin">e.g.</span>, tabs). Separators have no meaning and can be replaced by each other without changing the meaning of the ISLISP text.</p>
            
            <h4 id="comments">Comments</h4>
            <p>The character semicolon (;) is the comment begin character. That is, the semicolon and all the characters up to and including the end-of-line form a comment.</p>
            <p>A character sequence beginning with #| and ending with |# is a comment. Such comments may be nested.</p>
            <p>Being a separator, a comment cannot occur inside a lexeme.</p>
            
            <h3 id="textual_representation">Textual representation</h3>
            <p>The textual representation of an object is machine independent. The following are some of the textual representations of the ISLISP objects. This representation is readable by the read function. Lexemes are described in §6</p>
            <dl>
                <dt class="classname" id="null10">Null</dt>
                <dd>The object nil is the only object whose class is <span class="class">null</span>. Upon input, it may be written as nil or (). It is <a href="#td_implementation_defined">implementation defined</a> whether nil prints as nil or ().</dd>
                <dt class="classname" id="list10">List</dt>
                <dd>Proper lists are those lists terminated by nil. Usually they are denoted as (obj<sub>1</sub> obj<sub>2</sub> ...obj<sub>n</sub>). A dotted list (<span class="latin">i.e.</span>, a list whose last tail is not nil) appears as (obj<sub>1</sub> obj<sub>2</sub> ...obj<sub>n</sub> . obj<sub>n+1</sub>).</dd>
                <dt class="classname" id="character">Character</dt>
                <dd>An instance of the <span class="class">character</span> class is represented by #\?, where <q>?</q> is the character in question. There are two special standard characters that are not represented in this way, namely newline and space, whose representations are #\newline and #\space, respectively.</dd>
                <dt class="classname" id="cons10">Cons</dt>
                <dd>A cons is expressed as (car . cdr), where the car and cdr are objects.</dd>
                <dt class="classname" id="integer10">Integer</dt>
                <dd>An integer (radix 10) is represented as a sequence of digits optionally preceded by a <span class="terminal">+</span> or <span class="terminal">-</span> sign. If the number is represented in binary radix (or in octal or hexadecimal) then the textual representation is preceded by #b (or #o or #x, respectively).</dd>
                <dt class="classname" id="float11">Float</dt>
                <dd>
                    <p>A ﬂoating point number is written in one of the following formats:</p>
<pre>
[<span class="nonterminal">s</span>]<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>.<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>
[<span class="nonterminal">s</span>]<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>.<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>E[<span class="nonterminal">s</span>]<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>
[<span class="nonterminal">s</span>]<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>.<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>e[<span class="nonterminal">s</span>]<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>
[<span class="nonterminal">s</span>]<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>E[<span class="nonterminal">s</span>]<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>
[<span class="nonterminal">s</span>]<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>e[<span class="nonterminal">s</span>]<span class="nonterminal">dd</span> … <span class="nonterminal">d</span>
</pre>
                    <p>where <span class="nonterminal">s</span> is either <q>+</q> or <q>-</q>, and <span class="nonterminal">d</span> is one of <q>0</q> – <q>9</q>. <span title="This number, although belonging to the set of natural numbers, usually is considered as only a floating point number because of its representation.">For example: 987.12, +12.5E-13, -1.5E12, 1E32</span></p>
                </dd>
                <dt class="classname" id="vector11">Vector</dt>
                <dd>A vector of class <span class="class">general-vector</span> is written as #(obj<sub>1</sub> … obj<sub>n</sub>).</dd>
                <dt class="classname" id="array">Array</dt>
                <dd>
                    <p>An array of class &lt;general-array*&gt; or <span class="class">general-vector</span> can be written on input as #na (where n is an integer indicating the number of dimensions of the array) followed by a nested structure of sequences denoting the contents of the array. This structure is defined as follows. If n = 1 the structure is simply (obj<sub>1</sub> ... obj<sub>n</sub>). If n > 1 and the dimensions are n<sub>1</sub> n<sub>2</sub> ..., the structure is (str<sub>1</sub> ... strn<sub>1</sub>), where the stri are the structures of the n<sub>1</sub> subarrays, each of which has dimensions (n<sub>2</sub> ...). As an example, the representation of (create-array '(2 3 4) 5) is as follows:</p>
<pre>
#3a(((5 5 5 5) (5 5 5 5) (5 5 5 5)) ((5 5 5 5) (5 5 5 5) (5 5 5 5)))
</pre>
                    <p>On output (see format), arrays of class <span class="class">general-vector</span> will be printed using #(...) notation.</p>
                </dd>
                <dt class="classname" id="string11">String</dt>
                <dd>A string is represented by the sequence of its characters enclosed in a pair of "'s. For example: "abc". Special characters are preceded with a backslash as an escape character.</dd>
                <dt class="classname" id="symbol11">Symbol</dt>
                <dd>A named symbol is represented by its print name. Vertical bars (|) might need to enclose the symbol if it contains certain special characters; see §18. The notation, if any, used for unnamed symbols is <a href="#td_implementation_defined">implementation defined</a>.</dd>
            </dl>
            <p>There are objects which do not have a textual representation, such as a class or an instance of the <span class="class">function</span> class.</p>
            
            <h3 id="reserved_identifiers">Reserved identifiers</h3>
            <p>Symbols whose names contain a colon (<span class="terminal">:</span>) or an ampersand (<span class="terminal">&amp;</span>) are reserved and may not be used as identifiers. Symbols whose names start with colon (<span class="terminal">:</span>) are called keywords.</p>
            
            <h3 id="errors">Errors</h3>
            <p>An <span class="term">error</span> is a situation arising during execution in which the processor is unable to continue correct execution according to the semantics defined in this document. The act of detecting and reporting such an error is called <span class="term">signaling</span> the error.</p>
            <p>A <span class="term">violation</span> is a situation arising during preparation for execution in which the textual requirements of this document are not met. A violation shall be detected during preparation for execution.</p>
            
            <h4 id="classes_of_error_specification">Classes of error specification</h4>
            <p>The wording of error specification in this document is as follows:</p>
            <dl>
                <dt><q><span class="term">an error shall be signaled</span></q></dt>
                <dd>
                    <p>An implementation shall detect an error of this kind no later than the completion of execution of the form having the error, but might detect them sooner (<span class="latin">e.g.</span>, when the code is being prepared for execution).</p>
                    <p>Evaluation of the current form shall stop. If no active handler is established by <span class="terminal">with-handler</span>, it is <a href="#td_implementation_defined">implementation defined</a> whether the entire running process exits, a debugger is entered, or control is transferred elsewhere within the process.</p>
                </dd>
                <dt id="consequences_are_undefined"><q><span class="term">the consequences are undefined</span></q></dt>
                <dd>This means that the consequences are unpredictable. The consequences may range from harmless to fatal. No conforming ISLISP text may depend on the results or effects. A conforming ISLISP text must treat the consequences as unpredictable. In places where <q>must,</q> <q>must not,</q> or <q>may not</q> are used, then this is equivalent to stating that <q>the consequences are undefined</q> if the stated requirement is not met and no specific consequence is explicitly stated. An implementation is permitted to signal an error in this case.</dd>
            </dl>
            <p>For indexing and cross-referencing convenience, errors in this document have an associated <i>error identification</i> label, notated by text such as <q>(error-id. <span class="error_id">sample</span>).</q> The text of these labels has no formal significance to ISLISP texts or processors; the actual class of any object which might be used by the implementation to represent the error and the text of any error message that might be displayed is <a href="#td_implementation_dependent">implementation dependent</a>.</p>
            
            <h4 id="pervasive_error_types">Pervasive error types</h4>
            <p>Most errors are described in detail in the contect in which they occur. Some error types are so pervasive that their detailed descriptions are consolidated here rather than repeated in full detail upon each occurrence.</p>
            <ol>
                <li id="domain_error">Domain error: an error shall be signaled if the object given as argument of a standard function for which a class restriction is in effect is not an instance of the class which is required in the definition of the function (error-id. <span class="error_id">domain-error</span>).</li>
                <li id="arity_error"> Arity error: an error shall be signaled if a function is activated with a number of arguments which is different than the number of parameters as required in the function definition (error-id. <span class="error_id">arity-error</span>).</li>
                <li id="undefined_entity">Undefined entity error: an error shall be signaled if the entity denoted by an identifier does not exist when a reference to that entity is made (error-id. <span class="error_id">undefined-entity</span>). Two commonly occuring examples of this type of error are <span class="error_id">undefined-function</span> and <span class="error_id">unbound-variable</span>.</li>
            </ol>
            <p>This list does not exhaust the space of error types. For a more complete list, see <a href="#error_identification">§29.4</a>.</p>
            
            <h3 id="classes">Classes</h3>
            <p>In ISLISP, data types are covered by the class system. A <span class="term">class</span> is an object that determines the structure and behavior of a set of other objects, which are called its <span class="term">instances</span>. Every ISLISP object is an instance of a class. The behavior is the set of operations that can be performed on an instance.</p>
            <p>A class can inherit structure and behavior from other classes. A class whose definition refers to other classes for the purpose of inheriting from them is said to be a <span class="term">subclass</span> of each of those classes. The classes that are designated for purposes of inheritance are said to be <span class="term">superclasses</span> of the inheriting class.</p>
            <p>A class can be named by an <span class="nonterminal">identifier</span>. For example, this <span class="nonterminal">identifier</span> can be used as a parameter specializer in method definitions. The <span class="terminal">class</span> special form can be used to refer to access the class object corresponding to its name.</p>
            <p>A class <span class="nonterminal">C<sub>1</sub></span> is a <span class="term">direct superclass</span> of a class <span class="nonterminal">C<sub>2</sub></span> if <span class="nonterminal">C<sub>2</sub></span> explicitly designates <span class="nonterminal">C<sub>1</sub></span> as a superclass in its definition, or if <span class="nonterminal">C<sub>1</sub></span> is defined by this document to be a direct superclass of <span class="nonterminal">C<sub>2</sub></span> (for example, by use of a directed arrow from <span class="nonterminal">C<sub>1</sub></span> to <span class="nonterminal">C<sub>2</sub></span> in <a href="#figure_1">Figure 1</a>). In this case <span class="nonterminal">C<sub>2</sub></span> is a <span class="term">direct subclass</span> of <span class="nonterminal">C<sub>1</sub></span>. A class <span class="nonterminal">C<sub>n</sub></span> is a <span class="term">superclass</span> of a class <span class="nonterminal">C<sub>1</sub></span> if there exists a series of classes <span class="nonterminal">C<sub>2</sub></span> , … , <span class="nonterminal">C<sub>n−1</sub></span> such that <span class="nonterminal">C<sub>i+1</sub></span> is a direct superclass of <span class="nonterminal">C<sub>i</sub></span> for 1 ≤ <span class="nonterminal">i</span> &lt; <span class="nonterminal">n</span>. In this case, <span class="nonterminal">C<sub>1</sub></span> is a subclass of <span class="nonterminal">C<sub>n</sub></span>. A class is considered neither a superclass nor a subclass of itself. That is, if <span class="nonterminal">C<sub>1</sub></span> is a superclass of <span class="nonterminal">C<sub>2</sub></span>, then <span class="nonterminal">C<sub>1</sub></span> ≠ <span class="nonterminal">C<sub>2</sub></span>. The set of classes consisting of some given class <span class="nonterminal">C</span> along with all of its superclasses is called <q><span class="nonterminal">C</span> and its superclasses.</q></p>
            <p>If a user-defined class <span class="nonterminal">C</span> inherits from two classes, <span class="nonterminal">C<sub>1</sub></span> and <span class="nonterminal">C<sub>2</sub></span>, the only superclasses that <span class="nonterminal">C<sub>1</sub></span> and <span class="nonterminal">C<sub>2</sub></span> may have in common are <span class="class">standard-object</span> or <span class="class">object</span>. This allows a restricted form of multiple inheritance.</p>
            <p>Every ISLISP object is a <span class="nonterminal">direct instance</span> of exactly one class which is called <q>its</q> class.</p>
            <p>An <span class="nonterminal">instance</span> of a class is either a direct instance of that class or an instance of one of its subclasses.</p>
            <p>Classes are organized into a <span class="term">directed acyclic graph</span> defined by the subclass relation. The nodes are classes and there is an edge from C<sub>1</sub> to C<sub>2</sub> iff C<sub>2</sub> is direct subclass of C<sub>1</sub> . This graph is called the inheritance graph. It has as root the class <span class="class">object</span>, the only class with no superclass.</p>
            <p>Therefore it is the superclass of every class except itself. The class named <span class="class">standard-object</span> is an instance of the class <span class="class">standard-class</span> and is a superclass of every class that is an instance of <span class="class">standard-class</span> except itself.</p>
            <p id="class_precedence_list">Each class has a class precedence list, which is a total ordering on the set of the given class and its superclasses. The total ordering is expressed as a list ordered from most specific to least specific. The class precedence list is used in several ways. In general, more specific classes can <span class="term">shadow</span>, or override, features that would otherwise be inherited from less specific classes. The method selection and combination process uses the class precedence list to order methods from most specific to least specific.</p>
            
            <h4 id="metaclasses">Metaclasses</h4>
            <p>Classes are represented by objects that are themselves instances of classes. The class of the class of an object is termed the <span class="term">metaclass</span> of that object. The term <span class="nonterminal">metaclass</span> is used to refer to a class that has instances that are themselves classes.</p>
            
            <div id="figure_1">
                Figure 1. Class Inheritance
                <ul>
                    <li><span class="class">object</span>
                        <ul>
                            <li><span class="class">basic-array</span>
                                <ul>
                                    <li><span class="class">basic-array*</span>
                                        <ul>
                                            <li><span class="class">general-array*</span></li>
                                        </ul>
                                    </li>
                                    <li><span class="class">basic-vector</span>
                                        <ul>
                                            <li><span class="class">general-vector</span></li>
                                            <li><span class="class">string</span></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><span class="class">built-in-class</span></li>
                            <li><span class="class">character</span></li>
                            <li><span class="class">function</span>
                                <ul>
                                    <li><span class="class">generic-function</span>
                                        <ul>
                                            <li><span class="class">standard-generic-function</span></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><span class="class">list</span>
                                <ul>
                                    <li><span class="class">cons</span></li>
                                    <li><span class="class">null</span></li>
                                </ul>
                            </li>
                            <li><span class="class">symbol</span></li>
                            <li><span class="class">number</span>
                                <ul>
                                    <li><span class="class">float</span></li>
                                    <li><span class="class">integer</span></li>
                                </ul>
                            </li>
                            <li><span class="class">serious-condition</span>
                                <ul>
                                    <li><span class="class">error</span>
                                        <ul>
                                            <li><span class="class">arithmetic-error</span>;
                                                <ul>
                                                    <li><span class="class">division-by-zero</span></li>
                                                    <li><span class="class">floating-point-overflow</span></li>
                                                    <li><span class="class">floating-point-underflow</span></li>
                                                </ul>
                                            </li>
                                            <li><span class="class">control-error</span></li>
                                            <li><span class="class">parse-error</span></li>
                                            <li><span class="class">program-error</span>
                                                <ul>
                                                    <li><span class="class">domain-error</span></li>
                                                    <li><span class="class">undefined-entity</span>
                                                        <ul>
                                                            <li><span class="class">unbound-variable</span></li>
                                                            <li><span class="class">undefined-function</span></li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li><span class="class">simple-error</span></li>
                                            <li><span class="class">stream-error</span>
                                                <ul>
                                                    <li><span class="class">end-of-stream</span></li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><span class="class">storage-exhausted</span></li>
                                </ul>
                            </li>
                            <li><span class="class">standard-class</span></li>
                            <li><span class="class">standard-object</span></li>
                            <li><span class="class">stream</span></li>
                        </ul>
                    </li>
                </ul>
            </div>
            
            <p>The metaclass determines the form of inheritance used by the classes that are its instances and the representation of the instances of those classes.</p>
            <p>The ISLISP Object System provides the following predefined metaclasses:</p>
            <ul>
                <li>The class <span class="class">standard-class</span> is the default class of classes defined by defclass.</li>
                <li>The class <span class="class">built-in-class</span> is the class whose instances are classes that have special implementations or restricted capabilities. For example, it is not possible to define subclasses of a built-in class.</li>
            </ul>
            
            <h4 id="predefined_classes">Predefined classes</h4>
            <p>The following classes are primitive classes in the class system (<span class="latin">i.e.</span>, predefined classes that are not metaclasses):</p>
            <ul>
                <li><span class="class">arithmetic-error</span></li>
                <li><span class="class">basic-array</span></li>
                <li><span class="class">basic-array*</span></li>
                <li><span class="class">basic-vector</span></li>
                <li><span class="class">character</span></li>
                <li><span class="class">cons</span></li>
                <li><span class="class">control-error</span></li>
                <li><span class="class">division-by-zero</span></li>
                <li><span class="class">domain-error</span></li>
                <li><span class="class">end-of-stream</span></li>
                <li><span class="class">error</span></li>
                <li><span class="class">float</span></li>
                <li><span class="class">floating-point-overflow</span></li>
                
                <li><span class="class">floating-point-underflow</span></li>
                <li><span class="class">function</span></li>
                <li><span class="class">general-array*</span></li>
                <li><span class="class">general-vector</span></li>
                <li><span class="class">generic-function</span></li>
                <li><span class="class">integer</span></li>
                <li><span class="class">list</span></li>
                <li><span class="class">null</span></li>
                <li><span class="class">number</span></li>
                <li><span class="class">object</span></li>
                <li><span class="class">parse-error</span></li>
                <li><span class="class">program-error</span></li>
                <li><span class="class">serious-condition</span></li>
                
                <li><span class="class">simple-error</span></li>
                <li><span class="class">standard-generic-function</span></li>
                <li><span class="class">standard-object</span></li>
                <li><span class="class">storage-exhausted</span></li>
                <li><span class="class">stream</span></li>
                <li><span class="class">stream-error</span></li>
                <li><span class="class">string</span></li>
                <li><span class="class">symbol</span></li>
                <li><span class="class">unbound-variable</span></li>
                <li><span class="class">undefined-entity</span></li>
                <li><span class="class">undefined-function</span></li>
            </ul>
            
            <p>The classes <span class="class">standard-class</span> and <span class="class">built-in-class</span> are predefined metaclasses.</p>
            <p>A user-defined class, defined by <span class="terminal">defclass</span>, must be implemented as an instance of <span class="class">standard-class</span>. A predefined class can be implemented either as an instance of <span class="class">standard-class</span> (as if defined by <span class="terminal">defclass</span>) or as an instance of <span class="class">built-in-class</span>.</p>
            <p><a href="#figure_1">Figure 1</a> shows the required inheritance relationships among the classes defined by ISLISP. For each pair of classes <span class="nonterminal">C<sub>1</sub></span> and <span class="nonterminal">C<sub>2</sub></span> in this figure, if <span class="nonterminal">C<sub>1</sub></span> is linked directly by an arrow to <span class="nonterminal">C<sub>2</sub></span>, <span class="nonterminal">C<sub>1</sub></span> is a direct superclass of <span class="nonterminal">C<sub>2</sub></span> (and <span class="nonterminal">C<sub>2</sub></span> is a direct subclass of <span class="nonterminal">C<sub>1</sub></span>). Additional relationships might exist, subject to the following constraints:</p>
            <ul>
                <li>It is <a href="#td_implementation_defined">implementation defined</a> whether <span class="class">standard-generic-function</span> is a subclass of the class <span class="class">standard-object</span>.</li>
                <li>Except as described in <a href="#figure_1">Figure 1</a> and the above constraint on <span class="class">standard-generic-function</span>, no other subclass relationships exist among the classes defined in this document. However, additional implementation-specific subclass relationships may exist between implementation-specific classes and classes defined in this document.</li>
                <li>The class precedence list for <span class="class">null</span> observes the partial order <span class="class">null</span>, <span class="class">symbol</span>, <span class="class">list</span>, <span class="class">object</span>.</li>
                <li>Users may define additional classes using <span class="terminal">defclass</span>.</li>
            </ul>
            <p>A built-in class is one whose instances have restricted capabilities or special representations. The <span class="terminal">defclass</span> defining form must not be used to define subclasses of a built-in class. An error shall be signaled if create is called to create an instance of a built-in class.</p>
            <p>A standard class is an instance of <span class="class">standard-class</span>, and a built-in class is an instance of <span class="class">built-in-class</span>.</p>
            <p>A standard class defined with no direct superclasses is guaranteed to be disjoint from all of the classes in the figure, except for the classes named <span class="class">standard-object</span> and <span class="class">object</span>.</p>
            <p>The class <span class="class">function</span> is the class of all functions. The class <span class="class">standard-generic-function</span> is the default class of all generic functions.</p>
            
            <h4 id="standard_classes">Standard classes</h4>
            <h5 id="slots">Slots</h5>
            <p>An object that has <span class="class">standard-class</span> as its metaclass has zero or more named slots. The slots of an object are determined by the class of the object. Each slot can hold one object as its value. The name of a slot is an identifier.</p>
            <p>When a slot does not have a value, the slot is said to be <span class="term">unbound</span>. The consequences are undefined if an attempt is made to retrieve the value of an unbound slot.</p>
            <p>Storing and retrieving the value of a slot is done by generic functions defined by the <span class="terminal">defclass</span> defining form.</p>
            <p>All slots are local; <span class="latin">i.e.</span>, there are no shared slots accessible by several instances.</p>
            <p id="define_a_slot">A class is said to <span class="term">define</span> a slot with a given name when the <span class="terminal">defclass</span> defining form for that class contains a slot specifier with that name. Defining a slot does not immediately create a slot; it causes a slot to be created each time an instance of the class is created.</p>
            <p id="accesible_slots">A slot is said to be <span class="term">accessible</span> in an instance of a class if the slot is defined by the class of the instance or is inherited from a superclass of that class. At most one slot of a given name can be accessible in an instance. A detailed explanation of the inheritance of slots is given in the section §<a href="#inheritance_of_slots">15.1.3</a>.</p>
            
            <h5 id="creating_instances">Creating instances of classes</h5>
            
            <p>The generic function <span class="terminal">create</span> creates and returns a new instance of a class. ISLISP provides several mechanisms for specifying how a new instance is to be initialized. For example, it is possible to specify the initial values for slots in newly created instances by providing default initial values. Further initialization activities can be performed by methods written for generic functions that are part of the initialization protocol.</p>
            
            <h3 id="scope_and_extent">Scope and extent</h3>
            <p>In describing ISLISP, the notions of <span class="nonterminal">scope</span> and <span class="nonterminal">extent</span> are useful. The first is a syntactic concept, the latter is a semantic concept. Although syntactic constructs, especially identifiers, are used to refer to runtime entities (<span class="latin">i.e.</span>, objects arising during execution), a single entity cannot have both scope and extent. Scope is a feature of an identifier, referring to that textual part of an ISLISP text (see <a href="#td_text">§4.38</a> and <a href="#notation_and_conventions">§5</a>) within which this identifier occurs with unique meaning. <span class="nonterminal">Extent</span> refers to the interval of execution time during which a certain object exists.</p>
            <p>A <span class="term">namespace</span> is a mapping from identifiers to meanings. In ISLISP there are six namespaces: variable, dynamic variable, function, class, block, and tagbody tag. It is therefore possible for a single identifier to have any or all of these six meanings, depending on the context. For example, an identifier's meaning is determined by the function namespace when the identifier appears in the operator position of a function application form, whereas the same identifier's meaning is determined by the variable namespace if it appears in an argument position in the same form.</p>
            
            <h4 id="the_lexical_principle">The lexical principle</h4>
            
            <p>ISLISP is designed following the principle of <span class="term">lexical visibility</span>. This principle states that an ISLISP text must be structured in properly nested lexical blocks of visibility. Within a block, all defined identifiers of that block and of all enclosing outer blocks are visible. Each identifier in a namespace has the meaning determined by the innermost block that defines it.</p>
            <p>ISLISP also supports a form of <span class="term">dynamic binding</span>. Dynamic bindings are established and accessed by a separate mechanism (<span class="latin">i.e.</span>, <span class="terminal">defdynamic</span>, <span class="terminal">dynamic-let</span>, and <span class="terminal">dynamic</span>). The dynamic value associated with such an identifier is the one that was established by the most recently executed <span class="term">active block</span> that established it, where an <span class="term">active</span> block is one that has been established and not yet disestablished. Because a separate mechanism is used, the lexical meaning of and the dynamic value associated with an identifier are simultaneously accessible wherever both are defined.</p>
            
            <h4 id="scope_of_identifiers">Scope of identifiers</h4>
            <p>The <span class="term">scope</span> of an identifier is that part of an ISLISP text where the meaning of the identifier is defined. It starts textually with the definition point—a point that is specified individually for each form that establishes an identifier. Only identifiers can have a scope.</p>
            <p>For each namespace, if an identifier has scope <span class="nonterminal">s<sub>a</sub></span> and an identical identifier (in the same namespace) has nested scope <span class="nonterminal">s<sub>b</sub></span>, then the scope <span class="nonterminal">s<sub>b</sub></span> of the inner identifier and every scope contained in it are not part of the scope <span class="nonterminal">s<sub>a</sub></span>. It is said that the inner scope <span class="term">shadows</span> the outer scope.</p>
            <p>Each complete ISLISP text unit is processed in a scope called the toplevel scope.</p>
            <p>In each namespace, nested binding forms shadow outer binding forms and defining forms.</p>
            
<pre>
(let ((a1 f-a1)
       ...
      (x f-x)
       ...
      (z1 f-z1))    ; 
  ...               ; now a1...x...z1 are applicable, their scope begins here
  (let ((a2 f-a2)   ; a1...x...z1 might be defined newly, but:
         ...        ; the outer a1...x...z1 are still usable
        (x f-x2)    ; the inner a2...x...z2 are not yet usable
         ...
        (z2 f-z2))  ; the scope of the outer x becomes shadowed
                    ; the scope for the inner a2...x...z2 starts
     ...            ; now outer a1, z1 and inner a2...x...z2 are applicable
   )                ; scopes of a2...x...z2 end here
 ...                ; scope of outer x becomes unshadowed
 )                  ; scopes of a1...x...z1 end here
<span>Figure 2. Scope Example</span>
</pre>
            
            <h4 id="some_specific_scope_rules">Some specific scope rules</h4>
            <p>The toplevel scope is the scope of identifiers of required built-in functions, special operators, defining operators, and constants.</p>
            <p>Reserved identifiers are not subject to the lexical principle, because they are not identifiers. They cannot be defined or bound. See <a href="#reserved_identifiers">§8</a>.</p>
            
            <h4 id="extent">Extent</h4>
            <p>Complementary to scope which is a syntactic concepts, <span class="term">extent</span> is a semantic concept: It describes the lifetime of entities.</p>
            <p>Objects are created at some time during execution. In most cases, it is undetermined when an object ends its existence: its lifetime begins when the object is created and ends when reference to it is no longer possible (and the object is subject to garbage collection). In this case the object is said to have <span class="term">indefinite extent</span>.</p>
            <p id="dynamic_extent">In other cases the processor creates entities that are associated with prepared text. The lifetime of such objects begins at the activation point of a defining construct and ends at the end of activation; in this case the object is said to have dynamic extent.</p>
            <p>During execution, defining forms and the following binding forms create bindings at their activation points:</p>
            <ul>
                <li><a href="#s_block"><span class="terminal">block</span></a></li>
                <li><a href="#s_dynamic_let"><span class="terminal">dynamic-let</span></a></li>
                <li><a href="#s_flet"><span class="terminal">flet</span></a></li>
                <li><a href="#s_for"><span class="terminal">for</span></a></li>
                <li><a href="#s_labels"><span class="terminal">labels</span></a></li>
                
                <li><a href="#s_let"><span class="terminal">let</span></a></li>
                <li><a href="#s_let_s"><span class="terminal">let*</span></a></li>
                <li><a href="#s_tagbody"><span class="terminal">tagbody</span></a></li>
                <li><a href="#s_with_error_output"><span class="terminal">with-error-output</span></a></li>
                <li><a href="#s_with_open_input_file"><span class="terminal">with-open-input-file</span></a></li>
                
                <li><a href="#s_with_open_io_file"><span class="terminal">with-open-io-file</span></a></li>
                <li><a href="#s_with_open_output_file"><span class="terminal">with-open-output-file</span></a></li>
                <li><a href="#s_with_standard_input"><span class="terminal">with-standard-input</span></a></li>
                <li><a href="#s_with_standard_output"><span class="terminal">with-standard-output</span></a></li>
            </ul>
            
            <p id="binding_established_disestablished">The bindings established by defining forms may have indefinite extent. Even in local binding constructs, bindings might not vanish upon activation end of the prepared block—if one or more function objects are created during execution of the prepared block that contain references to those bindings, the bindings will have a lifetime equal to the longest lifetime of those function objects.</p>
            
            
            <blockquote>
                <cite>Example:</cite>
<pre>
(defun copy-cell (x) (cons (car x) (cdr x)))
</pre>
                <p>The scope of the identifier x is the body alone—<span class="latin">i.e.</span>, (cons (car x) (cdr x)). The meaning of x is defined for the entire body. x, as identifier, cannot have an extent.</p>
                <p>The defun form for copy-cell is prepared for execution and thereby copy-cell becomes a prepared function. During execution the prepared function copy-cell might be activated. Activation in this case results in the creation of a binding between the variable denoted by x and the object which is used as argument. The binding of x is an entity whose extent lasts from the activation point to the activation end of the function. (In general the extent of a binding can last beyond the activation end, but this does not occur in this simple case.) We say that the binding of x is <span class="nonterminal">established</span> upon activation of the function and is <span class="nonterminal">disestablished</span> at activation end.</p>
            </blockquote>
            
            <h3 id="forms_and_evaluation">Forms and evaluation</h3>
            <h4 id="forms">Forms</h4>
            
            <p>Execution presupposes successful preparation for execution of an ISLISP text subject to the evaluation model. Execution is an activation of a prepared text form that results in a value and perhaps in some side-effects.</p>
            <p>An ISLISP text is a sequence of forms.</p>
            <p>Throughout this document the value a form returns is described, but in general a form might not return if one of its subforms executes a non-local exit (see <a href="#establishing_and_invoking_non_local_exits">§14.7.1</a>). Therefore, it should be understood that all such descriptions implicitly include the provision that <i>if the form returns</i>, a particular value is returned.</p>
            <p>The following are valid forms in ISLISP:</p>
            <ul>
                <li id="compound_forms">Compound forms
                    <ul>
                        <li>Special forms</li>
                        <li>Defining forms</li>
                        <li>Function application forms</li>
                        <li>Macro forms</li>
                    </ul>
                </li>
                <li>Identifiers</li>
                <li>Literals</li>
            </ul>
            
            <p>A form, when evaluated, returns an object as its value, though some forms may not return (<span class="latin">e.g.</span>, <span class="terminal">return-from</span>).</p>
            <p>A compound form is written as (<span class="term">operator</span> <span class="arg">argument*</span>). The <span class="nonterminal">operator</span> must be a special operator, a defining operator, an identifier, or a lambda expression. The identifier names a function, a macro, or a generic function. It is a violation if operator is a literal.</p>
            <p id="toplevel_form">A <span class="term">toplevel form</span> is a form that is either not lexically nested within another form or is lexically nested only within one or more <span class="terminal">progn</span> forms. Special forms and function application forms at toplevel are called <span class="term">set-up forms</span>. It is a violation if a defining form is not a toplevel form.</p>
            
            <h4 id="function_application_forms">Function application forms</h4>
            
            <p>A <span class="term">function application form</span> is a compound form whose operator is an identifier (naming a function) or whose operator is a lambda expression. All of the arguments are evaluated, from left to right, and the function is called with (or “applied to”) arguments that are, in the same order, the objects resulting from these evaluations. This document describes a function application form in the following format:</p>
            <div class="definition-function">
                (<span class="operator">function-name</span> <span class="arg">argument</span>*) → <span class="class">result-class</span>
            </div>
            <p>This describes an ordinary function.</p>
            <div class="definition-generic">
                (<span class="operator">generic-function-name</span> <span class="arg">argument</span>*) → <span class="class">result-class</span>
            </div>
            <p>This describes a generic function.</p>
            <div class="definition-local">
                (<span class="operator">local-function-name</span> <span class="arg">argument</span>*) → <span class="class">result-class</span>
            </div>
            <p>This describes an ordinary function that is available only in a specified lexical scope.</p>
            
            <h4 id="special_forms">Special forms</h4>
            <p>A <span class="term">special form</span> is a form whose arguments are treated in a special way; for example, arguments are not evaluated or are evaluated in a special order. It is <a href="#td_implementation_defined">implementation defined</a> whether any special form is implemented as a macro (see <a href="#macro_forms">§12.5</a> and <a href="#macros">§16</a>). Special forms are recognized because they have a <span class="term">special operator</span> in their operator position. The following are special operators:</p>
            
            <ul>
                <li><a href="#s_and">and</a></li>
                <li><a href="#s_assure">assure</a></li>
                <li><a href="#s_block">block</a></li>
                <li><a href="#s_case">case</a></li>
                <li><a href="#s_case_using">case-using</a></li>
                <li><a href="#s_catch">catch</a></li>
                <li><a href="#s_class">class</a></li>
                <li><a href="#s_cond">cond</a></li>
                <li><a href="#s_convert">convert</a></li>
                <li><a href="#s_dynamic">dynamic</a></li>
                
                <li><a href="#s_dynamic_let">dynamic-let</a></li>
                <li><a href="#s_flet">flet</a></li>
                <li><a href="#s_for">for</a></li>
                <li><a href="#s_function">function</a></li>
                <li><a href="#s_go">go</a></li>
                <li><a href="#s_if">if</a></li>
                <li><a href="#s_ignore_errors">ignore-errors</a></li>
                <li><a href="#s_labels">labels</a></li>
                <li><a href="#s_lambda">lambda</a></li>
                <li><a href="#s_let">let</a></li>
                
                <li><a href="#s_let_s">let*</a></li>
                <li><a href="#s_or">or</a></li>
                <li><a href="#s_progn">progn</a></li>
                <li><a href="#s_quote">quote</a></li>
                <li><a href="#s_return_from">return-from</a></li>
                <li><a href="#s_set_dynamic">set-dynamic</a></li>
                <li><a href="#s_setf">setf</a></li>
                <li><a href="#s_setq">setq</a></li>
                <li><a href="#s_tagbody">tagbody</a></li>
                <li><a href="#s_the">the</a></li>
                
                <li><a href="#s_throw">throw</a></li>
                <li><a href="#s_unwind_protect">unwind-protect</a></li>
                <li><a href="#s_while">while</a></li>
                <li><a href="#s_with_error_output">with-error-output</a></li>
                <li><a href="#s_with_handler">with-handler</a></li>
                <li><a href="#s_with_open_input_file">with-open-input-file</a></li>
                <li><a href="#s_with_open_io_file">with-open-io-file</a></li>
                <li><a href="#s_with_open_output_file">with-open-output-file</a></li>
                <li><a href="#s_with_standard_input">with-standard-input</a></li>
                <li><a href="#s_with_standard_output">with-standard-output</a></li>
            </ul>
            
            <p>There might be additional, <a href="#td_implementation_defined">implementation-defined</a> special operators.</p>
            <p>This document describes the evaluation of special forms in the following format:</p>
            <div id="special_operator" class="definition-special">
                (<span class="operator">special-operator</span> <span class="arg">argument</span>*) → <span class="class">result-class</span>
            </div>
            
            <h4 id="defining_forms">Defining forms</h4>
            
            <p>A <span class="term">defining form</span> is a toplevel special form (see <a href="#special_forms">§12.3</a>) that establishes a binding between <span class="nonterminal">name</span> and an object which is the result of handling the <span class="nonterminal">arguments</span> according to the semantics implied by <span class="nonterminal">defining-form-name</span>; it is a violation if a defining form is not a toplevel form. For each namespace, defining forms can occur at most once for the same <span class="nonterminal">name</span> and, in case of method definitions for the same parameter profile. A defining form is a compound form whose operator is a <span class="term">defining operator</span>. These are the defining operators:</p>
            
            <ul>
                <li><a href="#def_defclass">defclass</a></li>
                <li><a href="#def_defdynamic">defdynamic</a></li>
                <li><a href="#def_defglobal">defglobal</a></li>
                <li><a href="#def_defmethod">defmethod</a></li>
                <li><a href="#def_defconstant">defconstant</a></li>
                <li><a href="#def_defgeneric">defgeneric</a></li>
                <li><a href="#def_defmacro">defmacro</a></li>
                <li><a href="#def_defun">defun</a></li>
            </ul>
            
            <p>This document describes defining forms in the following format:</p>
            <div class="definition-defining">
                (<span class="operator">defining-form-name</span> <span class="arg">name</span> <span class="arg">argument</span>*) → <span class="class">symbol</span>
            </div>
            
            <h4 id="macro_forms">Macro forms</h4>
            
            <p>Macro forms are expanded during preparation for execution.</p>
            <p>For information on how macros are processed, see <a href="#macros">§16</a>.</p>
            
            <h4 id="the_evaluation_model">The evaluation model</h4>
            <p>This section provides an operational model of the process of evaluation.</p>
            
            <p>The process of evaluation has two steps: A valid ISLISP text is first prepared for execution, and then the prepared text is executed. Both the process of preparing the text for execution and the properties of a prepared text are <a href="#td_implementation_dependent">implementation dependent</a>, except that all macros have been expanded in the prepared text (see <a href="#macros">§16</a>). The process of execution which follows is described in terms of fully macroexpanded forms.</p>
            <p id="executed_as_follows">A prepared form is executed as follows:</p>
            <ul>
                <li>If the form is a <span class="nonterminal">literal</span>, the result is the form itself.</li>
                <li>If the form is an <span class="nonterminal">identifier</span>, the result is the object denoted by the <span class="nonterminal">identifier</span> in the variable namespace of the current lexical environment. An error shall be signaled if no binding has been established for the identifier in the variable namespace of current lexical environment (see <a href="#pervasive_error_types">§9.2</a>) (error-id. <span class="error_id">unbound-variable</span>).</li>
                <li>If the form is a compound form, then one of the following cases must apply:
                    <ul>
                        <li>If the <span class="nonterminal">operator</span> is a <span class="nonterminal">special operator</span>, then the form is a special form and its <span class="nonterminal">arguments</span> are evaluated according to the definition of the special operator. For example, <span class="terminal">if</span> first evaluates its condition expression and, depending on the result obtained, it then evaluates the “then” form or the “else” form.</li>
                        <li>If the <span class="nonterminal">operator</span> names a <span class="term">defining</span> form, then the first argument is an identifier. The remaining <span class="nonterminal">arguments</span> are handled according to the specification of the defining form and the resulting object is used to establish a binding between the identifier and that object in the appropriate namespace.</li>
                        <li>
                            <p>If the operator is a <span class="terminal">lambda</span>-expression, then the arguments are evaluated. The order of evaluation of the <span class="nonterminal">arguments</span> is sequentially from left to right. Then the function denoted by the <span class="terminal">lambda</span>-expression is invoked with the evaluated arguments as actual parameters. The result is the value returned by the function, if it returns.</p>
<pre class="example">
<span class="input" contenteditable="true">((lambda (x) (+ x x)) 4)</span><button class="eval"> ⇒ </button><span class="output">8</span>
</pre>
                        </li>
                        <li>Otherwise, the compound form is a function application form. The operator position of the form is an identifier; it will be evaluated in the function namespace to produce a function to be called. An error shall be signaled if no binding has been established for the identifier in the function namespace of the current lexical environment (see <a href="#pervasive_error_types">§9.2</a>) (error-id. <span class="error_id">undefined-function</span>). The arguments are evaluated in order from left to right. Then the function is invoked with the evaluated arguments as actual parameters. The result is the value returned by the function, if it returns.</li>
                    </ul>
                </li>
                <li>Otherwise, an error shall be signaled (error-id. <span class="error_id">undefined-function</span>).</li>
            </ul>
            <p>See <a href="#pervasive_error_types">§9.2</a> for descriptions of error situations that might occur during execution of the above cases.</p>
            
            <h4 id="functions">Functions</h4>
            
            <p>A function can <span class="term">receive</span> some objects as <span class="nonterminal">arguments</span> upon activation. If a function <span class="term">returns</span>, it returns an object as its <span class="term">value</span>. A function binding can be established in one of the following ways:</p>
            <ul>
                <li>by using function defining forms; <span class="latin">i.e.</span>, the <span class="terminal">defun</span>, <span class="terminal">defgeneric</span>, and <span class="terminal">defclass</span> defining forms</li>
                <li>by using <span class="terminal">labels</span> and <span class="terminal">flet</span> special forms</li>
            </ul>
            
            <div id="f_functionp" class="definition-function">
                (<span class="operator">functionp</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            <p>Returns <span class="terminal">t</span> if <span class="nonterminal">obj</span> is a (normal or generic) function; otherwise, returns <span class="terminal">nil</span>. <span class="nonterminal">obj</span> may be any ISLISP object.</p>
<pre class="example">
<span class="input" contenteditable="true">(functionp (function car))</span><button class="eval"> ⇒ </button><span class="output">t</span>
</pre>
            <p>Function bindings are entities established during execution of a prepared <span class="terminal">labels</span> or <span class="terminal">flet</span> forms or by a function-defining form. A function binding is an association between an identifier, <span class="nonterminal">function-name</span>, and a function object that is denoted by <span class="nonterminal">function-name</span>—if in operator position—or by (<span class="terminal">function</span> <span class="nonterminal">function-name</span>) elsewhere.</p>
            
            <div id="s_function" class="definition-special">
                (<span class="operator">function</span> <span class="arg">function-name</span>) → <span class="class">function</span>
            </div>
            <div class="definition-syntax">
                #'<span class="arg">function-name</span> → <span class="class">function</span>
            </div>
            
            <p>This special form denotes a reference to the function named by <span class="nonterminal">function-name</span>. This special form is used to refer to identifiers defined by function-defining forms, <span class="terminal">labels</span>, or <span class="terminal">flet</span> which are not in operator position.</p>
            <p>(<span class="terminal">function</span> <span class="nonterminal">function-name</span>) can be written as #'<span class="nonterminal">function-name</span>.</p>
            <p>It returns the function object named by <span class="nonterminal">function-name</span>.</p>
            <p>An error shall be signaled if no binding has been established for the identifier in the function namespace of current lexical environment (see <a href="#pervasive_error_types">§9.2</a>) (error-id. <span class="error_id">undefined-function</span>). The consequences are undefined if the <span class="nonterminal">function-name</span> names a macro or special form.</p>
<pre class="example">
<span class="input" contenteditable="true">(funcall (function -) 3)</span><button class="eval"> ⇒ </button><span class="output">-3</span>

<span class="input" contenteditable="true">(apply #'- '(4 3))</span><button class="eval"> ⇒ </button><span class="output">1</span>
</pre>
            
            <div id="s_lambda" class="definition-special">
                (<span class="operator">lambda</span> <span class="arg">lambda-list</span> <span class="arg">form</span>*) → <span class="class">function</span>
            </div>
            
<pre>
Where:
<span class="nonterminal">lambda-list</span> ::= (<span class="nonterminal">identifier*</span> [<span class="terminal">&amp;rest</span> <span class="nonterminal">identifier</span>]) |
                (<span class="nonterminal">identifier*</span> [<span class="terminal">:rest</span> <span class="nonterminal">identifier</span>])
</pre>
            
            <p>and where no <span class="nonterminal">identifier</span> may appear more than once in <span class="nonterminal">lambda-list</span>.</p>
            <p>Execution of the <span class="terminal">lambda</span> special form creates a function object.</p>
            <p>The scope of the identifiers of the <span class="nonterminal">lambda-list</span> is the sequence of forms <span class="nonterminal">form*</span>, collectively referred to as the <span class="nonterminal">body</span>.</p>
            <p>When the prepared function is activated later (even if transported as object to some other activation) with some arguments, the body of the function is evaluated as if it was at the same textual position where the <span class="terminal">lambda</span> special form is located, but in a context where the lambda variables are bound in the variable namespace with the values of the corresponding arguments. A <span class="terminal">&amp;rest</span> or <span class="terminal">:rest</span> variable, if any, is bound to the list of the values of the remaining arguments. An error shall be signaled if the number of arguments received is incompatible with the specified <span class="nonterminal">lambda-list</span> (error-id. <span class="error_id">arity-error</span>).</p>
            <p>Once the lambda variables have been bound, the body is executed. If the body is empty, <span class="terminal">nil</span> is returned otherwise the result of the evaluation of the last form of body is returned if the body was not left by a <i>non-local exit</i> (see <a href="#establishing_and_invoking_non_local_exits">§14.7.1</a>).</p>
            <p>If the function receives a <span class="terminal">&amp;rest</span> or <span class="terminal">:rest</span> parameter <span class="nonterminal">R</span>, the list <span class="nonterminal">L<sub>1</sub></span> to which that parameter is bound has indefinite extent. <span class="nonterminal">L<sub>1</sub></span> is newly allocated unless the function was called with apply and <span class="nonterminal">R</span> corresponds to the final argument, <span class="nonterminal">L<sub>2</sub></span>, to that call to <span class="terminal">apply</span> (or some subtail of <span class="nonterminal">L<sub>2</sub>)</span>, in which case it is <a href="#td_implementation_defined">implementation defined</a> whether <span class="nonterminal">L<sub>1</sub></span> shares structure with <span class="nonterminal">L<sub>2</sub></span>.
            </p>
            
<pre class="example">
<span class="input" contenteditable="true">((lambda (x y) (+ (* x x) (* y y))) 3 4)</span><button class="eval"> ⇒ </button><span class="output">25</span>

<span class="input" contenteditable="true">((lambda (x y &amp;rest z) z) 3 4 5 6)</span><button class="eval">⇒ </button><span class="output">(5 6)</span>

<span class="input" contenteditable="true">((lambda (x y :rest z) z) 3 4 5 6)</span><button class="eval"> ⇒ </button><span class="output">(5 6)</span>

<span class="input" contenteditable="true">(funcall (lambda (x y) (- y (* x y))) 7 3)</span><button class="eval">⇒ </button><span class="output">-18</span>
</pre>
            
            <div id="s_labels" class="definition-special">
                (<span class="operator">labels</span> ((<span class="arg">function-name</span> <span class="arg">lambda-list</span> <span class="arg">form</span>*)*) <span class="arg">body-form</span>*) → <span class="class">object</span>
            </div>
            <div id="s_flet" class="definition-special">
                (<span class="operator">flet</span> ((<span class="arg">function-name</span> <span class="arg">lambda-list</span> <span class="arg">form</span>*)*) <span class="arg">body-form</span>*) → <span class="class">object</span>
            </div>
            
            <p>The <span class="terminal">flet</span> and <span class="terminal">labels</span> special forms allow the definition of new identifiers in the function namespace for function objects.</p>
            <p>In a <span class="terminal">labels</span> special form the scope of an identifier <span class="nonterminal">function-name</span> is the whole <span class="terminal">labels</span> special form (excluding nested scopes, if any); for the <span class="terminal">flet</span> special form, the scope of an identifier is only the <span class="nonterminal">body-form</span>*. Within these scopes, each <span class="nonterminal">function-name</span> is bound to a function object whose behavior is equivalent to (<span class="terminal">lambda</span> <span class="nonterminal">lambda-list</span> <span class="nonterminal">form*</span>), where free identifier references are resolved as follows:</p>
            <ul>
                <li>For a <span class="terminal">labels</span> form, such free references are resolved in the lexical environment that was active immediately outside the <span class="terminal">labels</span> form augmented by the function bindings for the given <span class="nonterminal">function-names</span> (<span class="latin">i.e.</span>, any reference to a function <span class="nonterminal">function-name</span> refers to a binding created by the <span class="terminal">labels</span>).</li>
                <li>For a <span class="terminal">flet</span> form, free identifier references in the <span class="terminal">lambda</span>-expression are resolved in the lexical environment that was active immediately outside the <span class="terminal">flet</span> form (<span class="latin">i.e.</span>, any reference to a function <span class="nonterminal">function-name</span> are not visible).</li>
            </ul>
            <p>During activation, the prepared <span class="terminal">labels</span> or <span class="terminal">flet</span> establishes function bindings and then evaluates each <span class="nonterminal">body-form</span> in the body sequentially; the value of the last one (or <span class="terminal">nil</span> if there is none) is the value returned by the special form activation.</p>
            <p>No <span class="nonterminal">function-name</span> may appear more than once in the function bindings.</p>
<pre class="example">

(labels  ((evenp (n)
            (if (= n 0)
                t
              (oddp (- n 1))))
          (oddp (n)
            (if (= n 0)
                nil
              (evenp (- n 1)))))
  (evenp 88))                       ⇒ t

(flet ((f (x) (+ x 3)))
  (flet ((f (x) (+ x (f x))))
    (f 7)))                         ⇒ 17                
</pre>
            
            <div id="f_apply" class="definition-function">
                (<span class="operator">apply</span> <span class="arg">function</span> <span class="arg">obj</span>* <span class="arg">list</span>) → <span class="class">object</span>
            </div>
            
            <p>Applies <span class="nonterminal">function</span> to the arguments, <span class="nonterminal">obj*</span>, followed by the elements of <span class="nonterminal">list</span>, if any. It returns the value returned by <span class="nonterminal">function</span>.</p>
            <p>An error shall be signaled if <span class="nonterminal">function</span> is not a function (error-id. <span class="error_id">domain-error</span>). Each <span class="nonterminal">obj</span> may be any ISLISP object. An error shall be signaled if <span class="nonterminal">list</span> is not a proper list (see §7) (error-id. <span class="error_id">improper-argument-list</span>).</p>
<pre class="example">
<span class="input" contenteditable="true">(apply (if (&lt; 1 2) (function max) (function min)) 1 2 (list 3 4))</span><button class="eval"> ⇒ </button><span class="output">4</span>

(defun compose (f g)
  (lambda (:rest args)
    (funcall f (apply g args)))))
⇒ compose

(funcall (compose (function sqrt) (function *)) 12 75) ⇒ 30
</pre>
            
            <div id="f_funcall" class="definition-function">
                (<span class="operator">funcall</span> <span class="arg">function</span> <span class="arg">obj</span>*) → <span class="class">object</span>
            </div>
            
            <p>Activates the specified function <span class="nonterminal">function</span> and returns the value that the <span class="nonterminal">function</span> returns. The <i>i</i>th argument (2 ≤ <i>i</i>) of <span class="terminal">funcall</span> becomes the (<i>i</i> − 1)th argument of the <span class="terminal">function</span>. <span class="terminal">funcall</span> could have been defined using <span class="terminal">apply</span> as follows:</p>
<pre>
(defun funcall (function :rest arguments)
  (apply function arguments))
</pre>
            <p>
                An error shall be signaled if <span class="nonterminal">function</span> is not a function (error-id. <span class="error_id">domain-error</span>). Each <span class="nonterminal">obj</span> may be any ISLISP object.
            </p>
<pre class="example">
(let ((x '(1 2 3)))
  (funcall (cond ((listp x) (function car))
                 (t (lambda (x) (cons x 1)))) x))	      
⇒ 1
</pre>
            
            <h4 id="defining_operators">Defining operators</h4>
            
            <p>Although the names defined by defining forms can be used throughout the current toplevel scope, the prepared toplevel forms in an ISLISP text unit are executed sequentially from left to right.</p>
            <p>Two defining forms with the same identifier in the same namespace are not allowed in one toplevel scope.</p>
            
            <div id="def_defconstant" class="definition-defining">
                (<span class="operator">defconstant</span> <span class="arg">name</span> <span class="arg">form</span>) → <span class="class">symbol</span>
            </div>
            
            <p>This form is used to define a named constant in the variable namespace of the current toplevel scope. The scope of name is the entire current toplevel scope except the body form.</p>
            <p>Although name is globally constant, a variable binding for name can be locally established by a binding form.</p>
            <p>The result of the evaluation of form is bound to the variable named by name. The binding and the object created as the result of evaluating the second argument are immutable. The symbol named name is returned.</p>
<pre class="example">
(defconstant e 2.7182818284590451) ⇒ e

e                                  ⇒ 2.7182818284590451

(defun f () e)                     ⇒ f

(f)                                ⇒ 2.7182818284590451
</pre>
            
            <div id="def_defglobal" class="definition-defining">
                (<span class="operator">defglobal</span> <span class="arg">name</span> <span class="arg">form</span>) → <span class="class">symbol</span>
            </div>
            
            <p>This form is used to define an identifier in the variable namespace of the current toplevel scope. The scope of name is the entire current toplevel scope except the body form.
            </p>
            <p>form is evaluated to compute an initializing value for the variable named name. Therefore, defglobal is used only for defining variables and not for modifying them. The symbol named name is returned.</p>
            <p>A lexical variable binding for name can still be locally established by a binding form; in that case, the local binding lexically shadows the outer binding of name defined by defglobal.</p>
<pre class="example">
(defglobal today 'wednesday)   ⇒ today

today                          ⇒ wednesday

(defun what-is-today () today) ⇒ what-is-today

(what-is-today)                ⇒ wednesday

(let ((what-is-today 'thursday))
  (what-is-today))
                               ⇒ wednesday

(let ((today 'thursday))
  (what-is-today))
                               ⇒ wednesday
</pre>
            
            <div id="def_defdynamic" class="definition-defining">
                (<span class="operator">defdynamic</span> <span class="arg">name</span> <span class="arg">form</span>) → <span class="class">symbol</span>
            </div>
            
            <p>This form is used to define a <a href="#td_dynamic_variable">dynamic variable</a> identifier in the <a href="#td_dynamic">dynamic variable namespace</a>. The scope of name is the entire current toplevel scope except the body form.</p>
            
            <p>The symbol named name is returned.</p>
<pre class="example">
(defdynamic *color* 'red)          ⇒ *color*

(dynamic *color*)                  ⇒ red

(defun what-color ()
  (dynamic *color*))               ⇒ what-color

(what-color)                       ⇒ red

(dynamic-let ((*color* 'green))
  (what-color))                    ⇒ green
</pre>
            
            <div id="def_defun" class="definition-defining">
                (<span class="operator">defun</span> <span class="arg">function-name</span> <span class="arg">lambda-list</span> <span class="arg">form</span>*) → <span class="class">symbol</span>
            </div>
            
            <p>The defun-form defines function-name as an identifier in the function namespace; function-name is bound to a function object equivalent to (lambda lambda-list form*).</p>
            
            <p>The scope of function-name is the whole current toplevel scope. Therefore, the definition of a function admits recursion, occurrences of function-name within the form* refer to the function being defined. The binding between function-name and the function object is immutable.</p>
            <p>defun returns the function name which is the symbol named function-name. The free identifiers in the body form* (<span class="latin">i.e.</span>, those which are not contained in the lambda list) follow the rules of lexical scoping.</p>
            
<pre class="example">
(defun caar (x) (car (car x))) ⇒ caar
</pre>
            
            <h3 id="predicates">Predicates</h3>
            <h4 id="boolean_values">Boolean values</h4>
            
            <p>The values <span class="terminal">t</span> and <span class="terminal">nil</span> are called booleans. <span class="terminal">t</span> denotes true, and <span class="terminal">nil</span> is the only value denoting false. Predicates, also called boolean functions, are functions that return <span class="terminal">t</span> when satisfied and <span class="terminal">nil</span> otherwise.</p>
            <p id="quasi_booleans">Any object other than <span class="terminal">nil</span> is treated as true (not just <span class="terminal">t</span>). When objects are treated as true or <span class="terminal">nil</span> this way they are called quasi-booleans.</p>
            <p><span class="terminal">t</span> is an identifier naming the symbol <span class="terminal">t</span>, and <span class="terminal">nil</span> is an identifier naming the symbol <span class="terminal">nil</span> (which is also the empty list). <span class="terminal">nil</span> is the unique instance of the <span class="class">null</span> class.</p>
            <p>Like boolean functions, the <span class="terminal">and</span> and <span class="terminal">or</span> special forms return truth values; however, these truth values are <span class="terminal">nil</span> when the test is not satisfied and a non-nil value otherwise. The result of <span class="terminal">and</span> and <span class="terminal">or</span> are quasi-booleans.</p>
            
            <div id="c_t" class="definition-constant">
              <span class="terminal">t</span> → <span class="class">symbol</span>
            </div>
            <div id="c_nil" class="definition-constant">
              <span class="terminal">nil</span> → <span class="class">null</span>
            </div>
            <p><span class="terminal">t</span> is a named constant whose value is the symbol <span class="terminal">t</span> itself. <span class="terminal">nil</span> is a named constant whose value is the symbol <span class="terminal">nil</span> itself.</p>
            
            <h4 id="class_predicates">Class predicates</h4>
            
            <p>The following functions are one-argument class membership predicates:</p>
            <ul>
                <li><a href="#f_basic_array_s_p">basic-array*-p</a></li>
                <li><a href="#f_basic_array_p">basic-array-p</a></li>
                <li><a href="#f_basic_vector_p">basic-vector-p</a></li>
                <li><a href="#f_characterp">characterp</a></li>
                <li><a href="#f_consp">consp</a></li>
                
                <li><a href="#f_floatp">floatp</a></li>
                <li><a href="#f_functionp">functionp</a></li>
                <li><a href="#f_general_array_s_p">general-array*-p</a></li>
                <li><a href="#f_general_vector_p">general-vector-p</a></li>
                <li><a href="#f_generic_function_p">generic-function-p</a></li>
                
                <li><a href="#f_integerp">integerp</a></li>
                <li><a href="#f_listp">listp</a></li>
                <li><a href="#f_null">null</a></li>
                <li><a href="#f_numberp">numberp</a></li>
                <li><a href="#f_streamp">streamp</a></li>
                <li><a href="#f_stringp">stringp</a></li>
                <li><a href="#f_symbolp">symbolp</a></li>
            </ul>
            
            <p>In addition, the function <span class="terminal">instancep</span> is a two-argument predicate that tests membership in an arbitrary class.</p>
            
            <h4 id="equality">Equality</h4>
            
            <div id="f_eq" class="definition-function">
                (<span class="operator">eq</span> <span class="arg">obj<sub>1</sub></span> <span class="arg">obj<sub>2</sub>)</span> → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_eql" class="definition-function">
                (<span class="operator">eql</span> <span class="arg">obj<sub>1</sub></span> <span class="arg">obj<sub>2</sub></span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p><span class="terminal">eq</span> and <span class="terminal">eql</span> test whether <span class="nonterminal">obj<sub>1</sub></span> and <span class="nonterminal">obj<sub>2</sub></span> are same identical object. They return <span class="terminal">t</span> if the objects are the same; otherwise, they return <span class="terminal">nil</span>. Two objects are the same if there is no operation that could distinguish them (without modifying them), and if modifying one would modify the other the same way.</p>
            <p>For <span class="terminal">eq</span>, the consequences are <a href="#td_implementation_defined">implementation defined</a> if both <span class="nonterminal">obj<sub>1</sub></span> and <span class="nonterminal">obj<sub>2</sub></span> are numbers or both are characters. For <span class="terminal">eql</span> the meaning for numbers and characters is defined as follows:</p>
            <ul>
                <li>
                    <p>If <span class="nonterminal">obj<sub>1</sub></span> and <span class="nonterminal">obj<sub>2</sub></span> are numbers, <span class="terminal">eql</span> tests whether they are direct instances of the same class and have the same value.</p>
                    <p>If an implementation supports positive and negative zeros as distinct values, then (eql 0.0 -0.0) returns <span class="terminal">nil</span>. When the syntax -0.0 is read and it is interpreted as the value 0.0 then (eql 0.0 -0.0) returns <span class="terminal">t</span>.</p>
                </li>
                <li>If <span class="nonterminal">obj<sub>1</sub></span> and <span class="nonterminal">obj<sub>2</sub></span> are characters, <span class="terminal">eql</span> tests whether they are the same character (see <a href="#f_char_eq"><span class="terminal">char=</span></a>).</li>
            </ul>
<pre class="example">
<span class="input" contenteditable="true">(eql () ())</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eq  () ())</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eql '() '())</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eq  '() '())</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eql 'a 'a)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eq  'a 'a)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eql 'a 'A)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eq  'a 'A)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eql 'a 'b)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(eq  'a 'b)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(eql 'f 'nil)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(eq  'f 'nil)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(eql 2 2)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eq  2 2)</span><button class="eval"> ⇒ </button><span class="output">nil or t</span>(<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(eql 2 2.0)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(eq  2 2.0)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(eql 100000000 100000000)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eq  100000000 100000000)</span><button class="eval"> ⇒ </button><span class="output">nil or t</span>(<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(eql 10.00000 10.0)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eq  10.00000 10.0)</span><button class="eval"> ⇒ </button><span class="output">nil or t</span>(<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(eql (cons 1 2) (cons 1 2))</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(eq  (cons 1 2) (cons 1 2))</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(let ((x '(a))) (eql x x))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(let ((x '(a))) (eq x x))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eql '(a) '(a))</span><button class="eval"> ⇒ </button><span class="output">nil or t</span> (<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(eq '(a) '(a))</span><button class="eval"> ⇒ </button><span class="output">nil or t</span> (<a href="#td_implementation_defined">implementation-defined</a>)

(let ((x '(b))
      (y '(a b)))
  (eql x (cdr y))) ⇒ nil or t (<a href="#td_implementation_defined">implementation-defined</a>)

(let ((x '(b))
      (y '(a b)))
  (eq x (cdr y))) ⇒ nil or t (<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(eql '(b) (cdr '(a b)))</span><button class="eval"> ⇒ </button><span class="output">nil or t</span> (<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(eq '(b) (cdr '(a b)))</span><button class="eval"> ⇒ </button><span class="output">nil or t</span> (<a href="#td_implementation_defined">implementation-defined</a>)

(let ((p (lambda (x) x)))
  (eql p p)) ⇒ t

(let ((p (lambda (x) x)))
  (eq p p)) ⇒ t

<span class="input" contenteditable="true">(let ((x "a")) (eql x x))</span><button class="output"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(let ((x "a")) (eq x x))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eql "a" "a")</span><button class="eval"> ⇒ </button><span class="output">nil or t</span> (<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(eq "a" "a")</span><button class="eval"> ⇒ </button><span class="output">nil or t</span> (<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(let ((x "")) (eql x x))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(let ((x "")) (eq x x))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eql "" "")</span><button class="eval"> ⇒ </button><span class="output">nil or t</span> (<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(eq "" "")</span><button class="eval"> ⇒ </button><span class="output">nil or t</span> (<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(eql #\a #\A)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(eq #\a #\A)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(eql #\a #\a)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eq #\a #\a)</span><button class="eval"> ⇒ </button><span class="output">nil or t</span> (<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(eql #\space #\Space)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eq #\space #\Space)</span><button class="eval"> ⇒ </button><span class="output">nil or t</span> (<a href="#td_implementation_defined">implementation-defined</a>)

<span class="input" contenteditable="true">(eql #\space #\space)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(eq #\space #\space)</span><button class="eval"> ⇒ </button><span class="output">nil or t</span> (<a href="#td_implementation_defined">implementation-defined</a>)
</pre>
            
            <div id="f_equal" class="definition-function">
                (<span class="operator">equal</span> <span class="arg">obj<sub>1</sub></span> <span class="arg">obj<sub>2</sub>)</span> → <span class="nonterminal">boolean</span>
            </div>
            
            <p>This function tests whether <span class="nonterminal">obj<sub>1</sub></span> and <span class="nonterminal">obj<sub>2</sub></span> are isomorphic—<span class="latin">i.e.</span>, whether <span class="nonterminal">obj<sub>1</sub></span> and <span class="nonterminal">obj<sub>2</sub></span> denote the same structure with equivalent values. <span class="terminal">equal</span> returns <span class="terminal">t</span> if the test was satisfied, and <span class="terminal">nil</span> if not. Specifically:</p>
            
            <p>If <span class="nonterminal">obj<sub>1</sub></span> and <span class="nonterminal">obj<sub>2</sub></span> are direct instances of the same class, <span class="terminal">equal</span> returns <span class="terminal">t</span> if they are <span class="terminal">eql</span>. Otherwise (if they are direct instances of the same class but not <span class="terminal">eql</span>), the result is <span class="terminal">t</span> if one of the following cases applies:</p>
            <ul>
                <li>
                    <p>lists: either <span class="nonterminal">obj<sub>1</sub></span> and <span class="nonterminal">obj<sub>2</sub></span> are both the empty list (<span class="latin">i.e.</span>, <span class="terminal">nil</span>), or</p>
<pre>
(and (equal (car obj1) (car obj2))
     (equal (cdr obj1) (cdr obj2))) holds;
</pre>
                </li>
                <li>
                    <p>basic arrays:</p>
<pre>
(equal (array-dimensions obj<sub>1</sub>)
       (array-dimensions obj<sub>2</sub>))
</pre>
                    <p>holds and for every valid reference (<span class="terminal">aref</span> <span class="nonterminal">obj<sub>1</sub></span> <span class="nonterminal">ind<sub>1</sub></span> ...<span class="nonterminal">ind<sub>n</sub></span>)</p>
<pre>
(equal (aref obj<sub>1</sub> ind<sub>1</sub> … ind<sub>n</sub>)
       (aref obj<sub>2</sub> ind<sub>1</sub> … ind<sub>n</sub>)) is satisfied.
</pre>
                </li>
            </ul>
            <p>Otherwise the value is <span class="terminal">nil</span>.</p>
            <p><span class="nonterminal">obj<sub>1</sub></span> and <span class="nonterminal">obj<sub>2</sub></span> may be any ISLISP objects.</p>
<pre class="example">
<span class="input" contenteditable="true">(equal 'a 'a)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(equal 2 2)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(equal 2 2.0)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(equal '(a) '(a))</span><button class="eval"> ⇒ </button><span class="output">t</span>

(equal '(a (b) c)
       '(a (b) c))                ⇒ t

<span class="input" contenteditable="true">(equal (cons 1 2) (cons 1 2))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(equal '(a) (list 'a))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(equal "abc" "abc")</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(equal (vector 'a) (vector 'a))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(equal #(a b) #(a b))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(equal #(a b) #(a c))</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(equal "a" "A")</span><button class="eval"> ⇒ </button><span class="output">nil</span>
</pre>
            
            <h4 id="logical_connectives">Logical connectives</h4>
            <div id="f_not" class="definition-function">
                (<span class="operator">not</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            <p>This predicate is the logical “not” (or “¬”). It returns <span class="terminal">t</span> if <span class="nonterminal">obj</span> is <span class="terminal">nil</span> and <span class="terminal">nil</span> otherwise. <span class="nonterminal">obj</span> may be any ISLISP object.</p>
<pre class="example">
<span class="input" contenteditable="true">(not t)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(not '())</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(not 'nil)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(not nil)</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(not 3)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(not (list))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(not (list 3))</span><button class="eval"> ⇒ </button><span class="output">nil</span>
</pre>
            
            <div id="s_and" class="definition-sepcial">
                (<span class="operator">and</span> <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            
            <p><span class="terminal">and</span> is the sequential logical “and” (or “∧”). <span class="nonterminal">forms</span> are evaluated from left to right until either one of them evaluates to <span class="terminal">nil</span> or else none are left. If one of them evaluates to <span class="terminal">nil</span>, then <span class="terminal">nil</span> is returned from the <span class="terminal">and</span>; otherwise, the value of the last evaluated <span class="nonterminal">form</span> is returned. The form <span class="terminal">and</span> is equivalent to the following:</p>
<pre>
(and)                      ≡ 't
(and <span class="nonterminal">form</span>)                 ≡ <span class="nonterminal">form</span>
<span title="For the definition of if, see §14.4 below.">(and <span class="nonterminal">form<sub>1</sub></span> <span class="nonterminal">form<sub>2</sub></span> … <span class="nonterminal">form<sub>n</sub></span>) ≡ (if <span class="nonterminal">form<sub>1</sub></span> (and <span class="nonterminal">form<sub>2</sub></span> … <span class="nonterminal">form<sub>n</sub></span>) 'nil)</span>
</pre>
            
<pre class="example">
<span class="input" contenteditable="true">(and (= 2 2) (&gt; 2 1))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(and (= 2 2) (&lt; 2 1))</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(and (eql 'a 'a) (not (&gt; 1 2)))</span><button class="eval"> ⇒ </button><span class="output">t</span>

(let ((x 'a))
  (and x (setq x 'b)))
                                 ⇒ b

(let ((x nil))
  (and x (setq x 'b)))
                                 ⇒ nil

(let ((time 10))
  (if (and (&lt; time 24) (&gt; time 12))
      (- time 12)
    time))
                                 ⇒ 10

(let ((time 18))
  (if (and (&lt; time 24) (&gt; time 12))
      (- time 12)
    time))
                                 ⇒ 6
</pre>
            
            <div id="s_or" class="definition-special">
                (<span class="operator">or</span> <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            
            <p><span class="terminal">or</span> is the sequential logical <q>or</q> (or <q>∨</q>). <span class="nonterminal">forms</span> are evaluated from left to right until either one of them evaluates to a non-nil value or else none are left. If one of them evaluates to a non-nil value, then this non-nil value is returned, otherwise <span class="terminal">nil</span> is returned. The form <span class="terminal">or</span> is equivalent to the following:</p>
<pre>
(or) ≡ 'nil

(or <span class="nonterminal">form</span>) ≡ <span class="nonterminal">form</span>

(or <span class="nonterminal">form<sub>1</sub></span> <span class="nonterminal">form<sub>2</sub></span> … <span class="nonterminal">form<sub>n</sub></span>) ≡ ((lambda (var)
                                (if var var (or <span class="nonterminal">form<sub>2</sub></span> … <span class="nonterminal">form<sub>n</sub></span>))) <span class="nonterminal">form<sub>1</sub></span>)
where var does not occur in <span class="nonterminal">form<sub>2</sub></span> … <span class="nonterminal">form<sub>n</sub></span>
</pre>
<pre class="example">
<span class="input" contenteditable="true">(or (= 2 2) (&gt; 2 1))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(or (= 2 2) (&lt; 2 1))</span><button class="eval"> ⇒ </button><span class="output">t</span>

(let ((x 'a))
  (or x (setq x 'b)))           ⇒ a

(let ((x nil))
  (or x (setq x 'b)))           ⇒ b
</pre>
            
            <h3 id="control_structure">Control structure</h3>
            <h4 id="constants">Constants</h4>
            
            <div class="definition-syntax"><span class="nonterminal">constant</span> → <span class="class">object</span></div>
            
            <p>There are three kinds of constants: literals, quoted expressions, and named constants. Quoted expressions are described below.</p>
            <p>The consequences are undefined if an attempt is made to alter the value of a constant.</p>
            <p>The result of evaluating the literal constant <span class="nonterminal">constant</span> is <span class="nonterminal">constant</span> itself. Instances of the following classes are literal constants: <span class="class">basic-array</span>, <span class="class">character</span>, and <span class="class">number</span></p>
<pre class="example">
<span class="input" contenteditable="true">#2A((a b c) (d e f))</span><button class="eval"> ⇒ </button><span class="output">#2A((a b c) (d e f))</span>

<span class="input" contenteditable="true">#\a</span><button class="eval"> ⇒ </button><span class="output">#\a</span>

<span class="input" contenteditable="true">145932</span><button class="eval"> ⇒ </button><span class="output">145932</span>

<span class="input" contenteditable="true">"abc"</span><button class="eval"> ⇒ </button><span class="output">"abc"</span>

<span class="input" contenteditable="true">#(a b c)</span><button class="eval"> ⇒ </button><span class="output">#(a b c)</span>
</pre>
            
            <div id="s_quote" class="definition-special">
                (<span class="operator">quote</span> <span class="arg">obj</span>) → <span class="class">object</span>
            </div>
            <div class="definition-syntax">
                '<span class="nonterminal">obj</span> → <span class="class">object</span>
            </div>
            
            <p>A quoted expression denotes a reference to an object. This notation is used to include any object in an ISLISP text.</p>
            <p>The character <span class="terminal">'</span> (apostrophe or single quote) is syntax for quotation. That is, (<span class="terminal">quote</span> a) ≡ <span class="terminal">'</span>a.</p>
            <p>The result of the evaluation of the <span class="terminal">quote</span> special form is <span class="nonterminal">obj</span>.</p>
<pre class="example">
<span class="input" contenteditable="true">(quote a)</span><button class="eval"> ⇒ </button><span class="output">a</span>

<span class="input" contenteditable="true">(quote #(a b c))</span><button class="eval"> ⇒ </button><span class="output">#(a b c)</span>

<span class="input" contenteditable="true">(quote (+ 1 2))</span><button class="eval"> ⇒ </button><span class="output">(+ 1 2)</span>

<span class="input" contenteditable="true">'()</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">'a</span><button class="eval"> ⇒ </button><span class="output">a</span>

<span class="input" contenteditable="true">'#(a b c)</span><button class="eval"> ⇒ </button><span class="output">#(a b c)</span>

<span class="input" contenteditable="true">'(car l)</span><button class="eval"> ⇒ </button><span class="output">(car l)</span>

<span class="input" contenteditable="true">'(+ 1 2)</span><button class="eval"> ⇒ </button><span class="output">(+ 1 2)</span>

<span class="input" contenteditable="true">'(quote a)</span><button class="eval"> ⇒ </button><span class="output">(quote a)</span>

<span class="input" contenteditable="true">''a</span><button class="eval"> ⇒ </button><span class="output">(quote a)</span>

<span class="input" contenteditable="true">(car ''a)</span><button class="eval"> ⇒ </button><span class="output">quote</span>
</pre>
            
            <p>The consequences are undefined if an attempt is made to alter the value of a quoted expression.</p>
            
            <h4 id="variables">Variables</h4>
            <p><span class="term">Variable bindings</span> are entities established during execution of the prepared variable-binding forms or by the activation of functions.</p>
            <p>A <span class="term">variable</span> is used to refer to an association between an <span class="nonterminal">identifier</span> and an ISLISP object, and is denoted by that identifier. The association can be altered (by assignment) using the <span class="terminal">setf</span> special form or setq special form.</p>
            <p>The following are variable binding forms:</p>
            <ul>
                <li><a href="#def_defglobal"><span class="terminal">defglobal</span></a></li>
                <li><a href="#s_let"><span class="terminal">let</span></a></li>
                <li><a href="#s_for"><span class="terminal">for</span></a></li>
                <li><a href="#s_let_s"><span class="terminal">let*</span></a></li>
            </ul>
            <div class="definition-syntax">
                <span class="nonterminal">var</span> → <span class="class">object</span>
            </div>
            <p>The value of <span class="nonterminal">var</span> is the object associated with <span class="nonterminal">var</span> in its variable binding.</p>
<pre class="example">
(defglobal x 0) ⇒ x 

x               ⇒ 0

(let ((x 1)) x) ⇒ 1

x               ⇒ 0
</pre>
            
            <div id="s_setq" class="definition-special">
                (<span class="operator">setq</span> <span class="arg">var</span> <span class="arg">form</span>) → <span class="class">object</span>
            </div>
            
            <p>This form represents an assignment to the variable denoted by the <span class="nonterminal">identifier</span>. In consequence, the <span class="nonterminal">identifier</span> may designate a different object than before, the value of <span class="nonterminal">form</span>.</p>
            <p>The result of the evaluation of <span class="nonterminal">form</span> is returned. This result is used to modify the variable binding denoted by the identifier <span class="nonterminal">var</span> (if it is mutable). <span class="terminal">setq</span> can be used only for modifying bindings, and not for establishing a variable. The <span class="terminal">setq</span> special form must be contained in the scope of <span class="nonterminal">var</span> , established by <a href="#def_defglobal"><span class="terminal">defglobal</span></a>, <a href="#s_let"><span class="terminal">let</span></a>, <a href="#s_let_s"><span class="terminal">let*</span></a>, <a href="#s_for"><span class="terminal">for</span></a>, or a <a href="#s_lambda"><span class="terminal">lambda</span></a> expression.</p>
<pre class="example">
(defglobal x 2)            ⇒ x

(+ x 1)                    ⇒ 3

(setq x 4)                 ⇒ 4

(+ x 1)                    ⇒ 5

(let ((x 1))
  (setq x 2)
  x)                       ⇒ 2

(+ x 1)                    ⇒ 5
</pre>
            
            <div id="s_setf" class="definition-special">
                (<span class="operator">setf</span> <span class="arg">place</span> <span class="arg">form</span>) → <span class="class">object</span>
            </div>
            
            <p>This macro is used for generalized assignment.</p>
            <p><span class="terminal">setf</span> takes a <span class="nonterminal">place</span> and stores in this place the result of the evaluation of the form <span class="nonterminal">form</span>. The <span class="nonterminal">place</span> form is not evaluated as a whole entity, but subforms of <span class="nonterminal">place</span> are evaluated sequentially from left to right to determine a place to be assigned a value. When <span class="nonterminal">place</span> is denoted by an identifier, <span class="terminal">setf</span> behaves exactly as <span class="terminal">setq</span>. The returned value is the result of the evaluation of <span class="nonterminal">form</span>. The valid places for the <span class="terminal">setf</span> special form are as follows:</p>
            <table border="1">
                <tr>
                    <th>variables</th>
                    <th>var</th>
                </tr>
                <tr>
                    <td align="center">dynamic bindings</td>
                    <td align="center">(<a href="#s_dynamic"><span class="terminal">dynamic</span></a> <span class="nonterminal">var</span>)</td>
                </tr>
                <tr>
                    <td align="center">the components of a basic-array</td>
                    <td align="center">(<a href="#f_aref"><span class="terminal">aref</span></a> <span class="nonterminal">basic-array</span> <span class="nonterminal">z<sub>1</sub></span> … <span class="nonterminal">z<sub>n</sub></span>)</td>
                </tr>
                <tr>
                    <td align="center">the components of a general array</td>
                    <td align="center">(<a href="#f_garef"><span class="terminal">garef</span></a> <span class="nonterminal">general-array</span> <span class="nonterminal">z<sub>1</sub></span> … <span class="nonterminal">z<sub>n</sub></span>)</td>
                </tr>
                <tr>
                    <td align="center">the components of a list</td>
                    <td align="center">(<a href="#f_elt"><span class="terminal">elt</span></a> <span class="nonterminal">list</span> <span class="nonterminal">z</span>)</td>
                </tr>
                <tr>
                    <td align="center">the components of a vector</td>
                    <td align="center">(<a href="#f_elt"><span class="terminal">elt</span></a> <span class="nonterminal">basic-vector</span> <span class="nonterminal">z</span>)</td>
                </tr>
                <tr>
                    <td align="center">the left component of a cons</td>
                    <td align="center">(<a href="#f_car"><span class="terminal">car</span></a> <span class="nonterminal">cons</span>)</td>
                </tr>
                <tr>
                    <td align="center">the right component of a cons</td>
                    <td align="center">(<a href="#f_cdr"><span class="terminal">cdr</span></a> <span class="nonterminal">cons</span>)</td>
                </tr>
                <tr>
                    <td align="center">a property of a symbol</td>
                    <td align="center">(<a href="#f_property"><span class="terminal">property</span></a> <span class="nonterminal">symbol</span> <span class="nonterminal">property</span>)</td>
                </tr>
                <tr>
                    <td align="center">a slot of an instance of a class</td>
                    <td>(<span class="nonterminal">reader-function-name</span> <span class="nonterminal">instance</span>)</td>
                </tr>
            </table>
            
            <p>A place can also be a macro form that expands (during preparation for execution) into a place or a function application form with operator <span class="nonterminal">op</span> for which <span class="terminal">setf</span> is defined or for which a generic function named (<span class="terminal">setf</span> <span class="nonterminal">op</span>) has been defined. In these last two cases, that function will receive as arguments the new value to be assigned followed by the objects that resulted from evaluating the arguments of the function application form.</p>
            
<pre class="example">
(setf (car x) 2)                     ⇒ 2
In the cons x, the car now is 2.

(defmacro first (spot)
  `(car ,spot))                      ⇒ first

(setf (first x) 2)                   ⇒ 2
In the cons x, the car now is 2.
</pre>
            
            <div id="s_let" class="definition-special">
                (<span class="operator">let</span> ((<span class="arg">var</span> <span class="arg">form</span>)*) <span class="arg">body-form</span>*) → <span class="class">object</span>
            </div>
            
            <p>The <span class="terminal">let</span> special form is used to define a scope for a group of identifiers for a sequence of forms <span class="nonterminal">body-form</span>* (collectively referred to as the <span class="nonterminal">body</span>). The list of pairs (<span class="nonterminal">var</span> <span class="nonterminal">form</span>)* is called the <span class="terminal">let</span> variable list. The scope of the identifier <span class="nonterminal">var</span> is the <span class="nonterminal">body</span>.</p>
            <p>The <span class="nonterminal">forms</span> are evaluated sequentially from left to right; then each variable denoted by the identifier <span class="nonterminal">var</span> is initialized to the corresponding value. Using these bindings along with the already existing bindings of visible identifiers the <span class="nonterminal">body-forms</span> are evaluated. The returned value of <span class="terminal">let</span> is the result of the evaluation of the last <span class="nonterminal">body-form</span> of its body (or <span class="terminal">nil</span> if there is none).</p>
            
            <p>No <span class="nonterminal">var</span> may appear more than once in <span class="terminal">let</span> variable list.</p>
            <div class="note">Note: Although this form is a special form, one can think of it as a macro whose rewriting rules are as follows:</div>
            
            <table>
                <tr>
                    <td>(<span class="terminal">let</span> () <span class="nonterminal">body-form</span>*)</td>
                    <td>≡</td>
                    <td><span title="For the definition of progn see §14.5 below.">(<span class="terminal">progn</span> <span class="nonterminal">body-form</span>*)</span></td>
                </tr>
                <tr>
                    <td>
                        <span title="For the definition of lambda see §12.7.">
                            (<span class="terminal">let</span> ((<span class="nonterminal">var<sub>1</sub></span> <span class="nonterminal">form<sub>1</sub></span>)
                            (<span class="nonterminal">var<sub>2</sub></span> <span class="nonterminal">form<sub>2</sub></span>)
                            …
                            (<span class="nonterminal">var<sub>n</sub></span> <span class="nonterminal">form<sub>n</sub></span>))
                            <span class="nonterminal">body-form</span>*)
                        </span>
                    </td>
                    <td>≡</td>
                    <td>
                        ((<span class="terminal">lambda</span> (<span class="nonterminal">var<sub>1</sub></span> <span class="nonterminal">var<sub>2</sub></span> … <span class="nonterminal">var<sub>n</sub></span>) <span class="nonterminal">body-form</span>* ) <span class="nonterminal">form<sub>1</sub></span> <span class="nonterminal">form<sub>2</sub></span> … <span class="nonterminal">form<sub>n</sub></span>)
                    </td>
                </tr>
            </table>
            
<pre class="example">
<span class="input" contenteditable="true">(let ((x 2) (y 3)) (* x y))</span><button class="eval"> ⇒ </button><span class="output">6</span>

(let ((x 2) (y 3))
  (let ((x 7)
        (z (+ x y)))
    (* z x)))       ⇒ 35

(let ((x 1) (y 2))
  (let ((x y) (y x))
    (list x y)))    ⇒ (2 1)
</pre>
            
            <div id="s_let_s" class="definition-special">
                (<span class="operator">let*</span> ((<span class="arg">var</span> <span class="arg">form</span>)*) <span class="arg">body-form</span>*) → <span class="class">object</span>
            </div>
            
            <p>The <span class="terminal">let*</span> form is used to define a scope for a group of identifiers for a sequence of forms <span class="nonterminal">body-form</span>* (collectively referred to as the <span class="nonterminal">body</span>). The first subform (the <span class="terminal">let*</span> variable list) is a list of pairs (<span class="nonterminal">var</span> <span class="nonterminal">form</span>). The scope of an identifier <span class="nonterminal">var</span> is the <span class="nonterminal">body</span> along with all <span class="nonterminal">form</span> forms following the pair (<span class="nonterminal">var</span> <span class="nonterminal">form</span>) in the <span class="terminal">let*</span> variable list.</p>
            <p>For each pair (<span class="nonterminal">var</span> <span class="nonterminal">form</span>) the following is done: <span class="nonterminal">form</span> is evaluated in the context of the bindings in effect at that point in the evaluation. The result of the evaluation is bound to its associated variable named by the identifier <span class="nonterminal">var</span>. These variable bindings enlarge the set of current valid identifiers perhaps shadowing previous variable bindings (in case some <span class="nonterminal">var</span> was defined outside), and in this enlarged or modified environment the <span class="nonterminal">body-forms</span> are executed. The returned value of <span class="terminal">let*</span> is the result of the evaluation of the last form of its body (or <span class="terminal">nil</span> if there is none).</p>
            <div class="note">Note: Although this form is a special form, one can think of it as a macro whose rewriting rules are as follows:</div>
            
            <table>
                <tr>
                    <td>(<span class="terminal">let*</span> () <span class="nonterminal">body-form</span>*)</td>
                    <td>≡</td>
                    <td>(<span class="terminal">progn</span> <span class="nonterminal">body-form</span>*)</td>
                </tr>
                <tr>
                    <td>
                        (<span class="terminal">let*</span> ((<span class="nonterminal">var<sub>1</sub></span> <span class="nonterminal">form<sub>1</sub></span>) (<span class="nonterminal">var<sub>2</sub></span> <span class="nonterminal">form<sub>2</sub></span>) … (<span class="nonterminal">var<sub>n</sub></span> <span class="nonterminal">form<sub>n</sub></span>)) <span class="nonterminal">body-form</span>*)
                    </td>
                    <td>≡</td>
                    <td>
                        (<span class="terminal">let</span> ((<span class="nonterminal">var<sub>1</sub></span> <span class="nonterminal">form<sub>1</sub></span>)) (<span class="terminal">let</span> ((<span class="nonterminal">var<sub>2</sub></span> <span class="nonterminal">form<sub>2</sub></span>)) … (<span class="terminal">let</span> ((<span class="nonterminal">var<sub>n</sub></span> <span class="nonterminal">form<sub>n</sub></span>)) <span class="nonterminal">body-form</span>*)...))
                    </td>
                </tr>
            </table>
            
<pre class="example">
(let ((x 2) (y 3))
  (let* ((x 7)
         (z (+ x y)))
    (* z x)))         ⇒ 70

(let ((x 1) (y 2))
  (let* ((x y) (y x))
    (list x y)))      ⇒ (2 2)
</pre>
            
            <h4 id="dynamic_variables">Dynamic variables</h4>
            
            <p>A dynamic variable is an association between an identifier <span class="nonterminal">var</span> and an ISLISP object in the dynamic variable namespace. Dynamic variables implement a form of dynamic binding.</p>
            <p>Dynamic variables are defined globally by <a href="#def_defdynamic"><span class="terminal">defdynamic</span></a> and are established during the execution of a prepared <a href="#s_dynamic_let"><span class="terminal">dynamic-let</span></a>.</p>
            <p>Dynamic variable bindings defined by <span class="terminal">defdynamic</span> persist indefinitely whereas those established by <span class="terminal">dynamic-let</span> are disestablished upon end of execution of this special form.</p>
            <p>The value of a dynamic variable can be accessed by (<span class="terminal">dynamic</span> <span class="nonterminal">var</span>).</p>
            
            <div id="s_dynamic" class="definition-special">
                (<span class="operator">dynamic</span> <span class="arg">var</span>) → <span class="class">object</span>
            </div>
            
            <p>This special form denotes a reference to the identifier denoting a dynamic variable. This special form is not allowed in the scope of a definition of <span class="nonterminal">var</span> which is not done by <span class="terminal">defdynamic</span> or <span class="nonterminal">dynamic-let</span>.</p>
            <p>During activation, the current dynamic binding of the variable <span class="nonterminal">var</span> is returned that was established most recently and is still in effect. An error shall be signaled if such a binding does not exist (error-id. <span class="error_id">unbound-variable</span>).</p>
            
            <div id="s_setf_dynamic" class="definition-special-form">
                (<span class="operator">setf</span> (<span class="operator">dynamic</span> <span class="arg">var</span>) <span class="arg">form</span>) → <span class="class">object</span>
            </div>
            <div id="s_set_dynamic" class="definition-special">
                (<span class="operator">set-dynamic</span> <span class="arg">form</span> <span class="arg">var</span>) → <span class="class">object</span>
            </div>
            
            <p>This special form denotes an assignment to a dynamic variable. This form can appear anywhere that (<span class="terminal">dynamic</span> <span class="nonterminal">var</span>) can appear.</p>
            <p><span class="nonterminal">form</span> is evaluated and the result of the evaluation is used to change the dynamic binding of <span class="nonterminal">var</span>.</p>
            <p>An error shall be signaled if <span class="nonterminal">var</span> has no dynamic value (error-id. <span class="error_id">unbound-variable</span>). <span class="terminal">setf</span> of <span class="terminal">dynamic</span> can be used only for modifying bindings, and not for establishing them.
            </p>
            <div id="s_dynamic_let" class="definition-special">
                (<span class="operator">dynamic-let</span> ((<span class="arg">var</span> <span class="arg">form</span>)*) <span class="arg">body-form</span>*) → <span class="class">object</span>
            </div>
            
            <p>The <span class="terminal">dynamic-let</span> special form is used to establish dynamic variable bindings. The first subform (the <span class="terminal">dynamic-let</span> variable list) is a list of pairs (<span class="nonterminal">var</span> <span class="nonterminal">form</span>). The scope of an identifier <span class="nonterminal">var</span> defined by <span class="terminal">dynamic-let</span> is the current toplevel scope. The extent of the bindings of each <span class="nonterminal">var</span> is the extent of the body of the <span class="terminal">dynamic-let</span>. The <span class="terminal">dynamic-let</span> special form establishes dynamic variables for all <span class="nonterminal">vars</span>.</p>
            <p>References to a dynamic variable named by <span class="nonterminal">var</span> must be made through the <span class="terminal">dynamic</span> special form.</p>
            <p>All the initializing forms are evaluated sequentially from left to right, and then the values are associated with the corresponding <span class="nonterminal">vars</span>. Using these additional dynamic bindings and the already existing bindings of visible identifiers, the forms <span class="nonterminal">body-form</span>* are evaluated in sequential order. The returned value of <span class="terminal">dynamic-let</span> is that of the last <span class="nonterminal">body-form</span> of the body (or <span class="terminal">nil</span> if there is none). The bindings are undone when control leaves the prepared <span class="terminal">dynamic-let</span> special form.</p>
<pre class="example">
(defun foo (x)
  (dynamic-let ((y x))
    (bar 1)))          ⇒ foo
                
(defun bar (x)
  (+ x (dynamic y)))   ⇒ bar
                
(foo 2)                ⇒ 3
</pre>
            
            <h4 id="conditional_expressions">Conditional expressions</h4>
            <div id="s_if" class="definition-special">
                (<span class="operator">if</span> <span class="arg">test-form</span> <span class="arg">then-form</span> [<span class="arg">else-form</span>]) → <span class="class">object</span>
            </div>
            
            <p>The <span class="nonterminal">test-form</span> is evaluated. If its result is anything non-nil, the <span class="nonterminal">then-form</span> is evaluated and its value is returned; otherwise (if the <span class="nonterminal">test-form</span> returned <span class="terminal">nil</span>), the <span class="nonterminal">else-form</span> is evaluated and its value is returned.</p>
            <p>If no <span class="nonterminal">else-form</span> is provided, it defaults to <span class="terminal">nil</span>.</p>
<pre class="example">

<span class="input" contenteditable="true">(if (&gt; 3 2) 'yes 'no)</span><button class="eval"> ⇒ </button><span class="output">yes</span>

<span class="input" contenteditable="true">(if (&gt; 2 3) 'yes 'no)</span><button class="eval"> ⇒ </button><span class="output">no</span>

<span class="input" contenteditable="true">(if (&gt; 2 3) 'yes)</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(if (&gt; 3 2) (- 3 2) (+ 3 2))</span><button class="eval"> ⇒ </button><span class="output">1</span>
                
(let ((x 7))
  (if (&lt; x 0) x (- x)))      ⇒ -7
</pre>
            
            <div id="s_cond" class="definition-special">
                (<span class="operator">cond</span> (<span class="arg">test</span> <span class="arg">form</span>*)*) → <span class="class">object</span>
            </div>
            
            <p>Executing the prepared <span class="terminal">cond</span>, the clauses (<span class="nonterminal">test</span> <span class="nonterminal">form</span>*) are scanned sequentially and in each case the <span class="nonterminal">test</span> is evaluated; when a <span class="nonterminal">test</span> delivers a non-nil value the scanning process stops and all forms associated with the corresponding clause are sequentially evaluated and the value of the last one is returned. If no test is true, then <span class="terminal">nil</span> is returned. If no <span class="nonterminal">form</span> exists for the successful <span class="nonterminal">test</span> then the value of this <span class="nonterminal">test</span> is returned.</p>
            <p><span class="terminal">cond</span> obeys the following equivalences:</p>
            
            <table>
                <tr>
                    <td>
                        (<span class="terminal">cond</span>)
                    </td>
                    <td>
                        ≡
                    </td>
                    <td>
                        <span class="terminal">nil</span>
                    </td>
                </tr>
                <tr>
                    <td>
                        (<span class="terminal">cond</span> (<span class="nonterminal">test<sub>1</sub></span>) (<span class="nonterminal">test<sub>2</sub></span> <span class="nonterminal">form<sub>2</sub></span>*) ...)
                    </td>
                    <td>
                        ≡
                    </td>
                    <td>
                        (<span class="terminal">or</span> <span class="nonterminal">test<sub>1</sub></span> (<span class="terminal">cond</span> (<span class="nonterminal">test<sub>2</sub></span> <span class="nonterminal">form<sub>2</sub></span>*) ...))
                    </td>
                </tr>
                <tr>
                    <td>
                        (<span class="terminal">cond</span> (<span class="nonterminal">test<sub>1</sub></span> <span class="nonterminal">form<sub>1</sub></span>+) (<span class="nonterminal">test<sub>2</sub></span> <span class="nonterminal">form<sub>2</sub></span>*) ...)
                    </td>
                    <td>
                        ≡
                    </td>
                    <td>
                        (<span class="terminal">if</span> <span class="nonterminal">test<sub>1</sub></span> (<span class="terminal">progn</span> <span class="nonterminal">form<sub>1</sub></span>+) (<span class="terminal">cond</span> (<span class="nonterminal">test<sub>2</sub></span> <span class="nonterminal">form<sub>2</sub></span>*) ...))
                    </td>
                </tr>
            </table>
            
<pre class="example">
(cond ((&gt; 3 2) 'greater)
      ((&lt; 3 2) 'less))    ⇒ greater
                
(cond ((&gt; 3 3) 'greater)
      ((&lt; 3 3) 'less))    ⇒ nil
                
(cond ((&gt; 3 3) 'greater)
      ((&lt; 3 3) 'less)
      (t       'equal))   ⇒ equal
</pre>
            
            <div id="s_case" class="definition-special">
                (<span class="operator">case</span> <span class="arg">keyform</span> ((<span class="arg">key</span>*) <span class="arg">form</span>*)* [(<span class="terminal">t</span> <span class="arg">form</span>*)]) → <span class="class">object</span>
            </div>
            <div id="s_case_using" class="definition-special">
                (<span class="operator">case-using</span> <span class="arg">predform</span> <span class="arg">keyform</span> ((<span class="arg">key</span>*) <span class="arg">form</span>*)* [(<span class="terminal">t</span> <span class="arg">form</span>*)]) → <span class="class">object</span>
            </div>
            
            <p>The <span class="terminal">case</span> and <span class="terminal">case-using</span> special forms, called <span class="term">case forms</span>, provide a mechanism to execute a matching clause from a series of clauses based on the value of a dispatching form <span class="nonterminal">keyform</span>.</p>
            <p>The clause to be executed is identified by a set of keys. A <span class="nonterminal">key</span> can be any object. If the keylist of the last clause is <span class="terminal">t</span> the associated clause is executed if no key matches the <span class="nonterminal">keyform</span>.</p>
            <p><span class="nonterminal">keyform</span> is a form to be computed at the beginning of execution of the case form. If the result of evaluating <span class="nonterminal">keyform</span> is equivalent to a <span class="nonterminal">key</span>, then the <span class="nonterminal">forms</span>, if any, in the corresponding clause are evaluated sequentially and the value of the last one is returned as value of the whole case form. <span class="terminal">case</span> determines match equivalence by using <span class="terminal">eql</span>; <span class="terminal">case-using</span> match determines equivalence by using the result of evaluating <span class="nonterminal">predform</span>. <span class="nonterminal">predform</span> must be a boolean or quasi-boolean function that accepts two arguments, the value returned by <span class="nonterminal">keyform</span> and <span class="nonterminal">key</span>. If no <span class="nonterminal">form</span> exists for a matching <span class="nonterminal">key</span>, the case form evaluates to <span class="terminal">nil</span>. If the value of <span class="nonterminal">keyform</span> is different from every <span class="nonterminal">key</span>, and there is a default clause, its forms, if any, are evaluated sequentially, and the value of the last one is the result of the case form.</p>
            <p>The same <span class="nonterminal">key</span> (as determined by the match predicate) may occur only once in a case form.</p>
<pre class="example">
(case (* 2 3)
  ((2 3 5 7) 'prime)
  ((4 6 8 9) 'composite))           ⇒ composite
                
(case (car '(c d))
  ((a) 'a)
  ((b) 'b))                         ⇒ nil
                
(case (car '(c d))
  ((a e i o u) 'vowel)
  ((y) 'semivowel)
  (t 'consonant))                   ⇒ consonant
                
(let ((char #\u))
  (case char
    ((#\a #\e #\o #\u #\i) 'vowels)
    (t 'consonants)))               ⇒ vowels
                
(case-using #'= (+ 1.0 1.0)
  ((1) 'one)
  ((2) 'two)
  (t 'more))                        ⇒ two
                
(case-using #'string= "bar"
  (("foo") 1)
  (("bar") 2))                      ⇒ 2
</pre>
            
            <h4 id="sequencing_forms">Sequencing forms</h4>
            
            <div id="s_progn" class="definition-special">
                (<span class="operator">progn</span> <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            
            <p>This special form allows a series of forms to be evaluated, where normally only one could be used.</p>
            <p>The result of evaluation of the last form of <span class="nonterminal">form</span>* is returned. All the <span class="nonterminal">forms</span> are evaluated from left to right. The values of all the <span class="nonterminal">forms</span> but the last are discarded, so they are executed only for their side-effects. <span class="terminal">progn</span> without forms returns <span class="terminal">nil</span>.</p>
            
<pre class="example">
(defglobal x 0) ⇒ x
                
(progn
  (setq x 5)
  (+ x 1))      ⇒ 6
                
(progn
  (format (standard-output) "4 plus 1 equals ")
  (format (standard-output) "~D" (+ 4 1)))
                ⇒ nil
                
prints  4 plus 1 equals 5
</pre>
            
            <h4 id="iteration">Iteration</h4>
            
            <div id="s_while" class="definition-special">
                (<span class="operator">while</span> <span class="arg">test-form</span> <span class="arg">body-form</span>*) → <span class="class">null</span>
            </div>
            
            <p>Iterates while the <span class="nonterminal">test-form</span> returns a true value. Specifically:</p>
            <ol>
                <li><span class="nonterminal">test-form</span> is evaluated, producing a value <span class="nonterminal">V<sub>t</sub></span>.</li>
                <li>If <span class="nonterminal">Vt</span> is <span class="terminal">nil</span>, then the <span class="terminal">while</span> form immediately returns <span class="terminal">nil</span>.</li>
                <li>Otherwise, if <span class="nonterminal">Vt</span> is non-nil, the forms <span class="nonterminal">body-form</span>* are evaluated sequentially (from left to right).</li>
                <li>Upon successful completion of the <span class="nonterminal">body-forms</span>*, the <span class="terminal">while</span> form begins again with step 1.</li>
            </ol>
            
<pre class="example">
(let ((x '())
      (i 5))
  (while (&gt; i 0)
    (setq x (cons i x))
    (setq i (- i 1)))
  x)                                  ⇒ (1 2 3 4 5)
</pre>
            
            <div id="s_for" class="definition-special">
                (<span class="operator">for</span> (<span class="arg">iteration-spec</span>*) (<span class="arg">end-test</span> <span class="arg">result*</span>) <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            
<pre>
Where:
<span class="nonterminal">iteration-spec</span> ::= (<span class="nonterminal">var</span> <span class="nonterminal">init</span> [<span class="nonterminal">step</span>])
</pre>
            
            <p><span class="terminal">for</span> repeatedly executes a sequence of forms <span class="nonterminal">form</span>*, called its <span class="nonterminal">body</span>. It specifies a set of identifiers naming variables that will be local to the <span class="terminal">for</span> form, their initialization, and their update for each iteration. When a termination condition is met, the iteration exits with a specified result value.</p>
            <p>The scope of an identifier <span class="nonterminal">var</span> is the <span class="nonterminal">body</span>, the <span class="nonterminal">steps</span>, the <span class="nonterminal">end-test</span>, and the <span class="nonterminal">result</span>*. A <span class="nonterminal">step</span> might be omitted, in which case the effect is the same as if (<span class="nonterminal">var</span> <span class="nonterminal">init</span> <span class="nonterminal">var</span>) had been written instead of (<span class="nonterminal">var</span> <span class="nonterminal">init</span>). It is a violation if more than one <span class="nonterminal">iteration-spec</span> names the same <span class="nonterminal">var</span> in the same <span class="terminal">for</span> form.</p>
            <p>The <span class="terminal">for</span> special form is executed as follows: The <span class="nonterminal">init</span> forms are evaluated sequentially from left to right. Then each value is used as the initial value of the variable denoted by the corresponding identifier <span class="nonterminal">var</span>, and the iteration phase begins.</p>
            <p>Each iteration begins by evaluating <span class="nonterminal">end-test</span>. If the result is <span class="terminal">nil</span>, the forms in the <span class="nonterminal">body</span> are evaluated sequentially (for side-effects). Afterwards, the <span class="nonterminal">step-forms</span> are evaluated sequentially order from left to right. Then their values are assigned to the corresponding variables and the next iteration begins. If <span class="nonterminal">end-test</span> returns a non-nil value, then the <span class="nonterminal">result</span>* are evaluated sequentially and the value of the last one is returned as value of the whole <span class="terminal">for</span> macro. If no result is present, then the value of the for macro is <span class="terminal">nil</span>.</p>
            
<pre class="example">
(for ((vec (vector 0 0 0 0 0))
      (i 0 (+ i 1)))
     ((= i 5) vec)
  (setf (elt vec i) i))       ⇒ #(0 1 2 3 4)
                
(let ((x '(1 3 5 7 9)))
  (for ((x x (cdr x))
       (sum 0 (+ sum (car x))))
    ((null x) sum)))          ⇒ 25
</pre>
            
            <h4 id="non_local_exits">Non-local exits</h4>
            <h5 id="establishing_and_invoking_non_local_exits">Establishing and invoking non-local exits</h5>
            
            <p>ISLISP defines three ways in which to perform non-local exits:</p>
            <table border="1">
                <tr>
                    <th>Destination Kind</th>
                    <th>Established by</th>
                    <th>Invoked by</th>
                    <th>Operation Performed</th>
                </tr>
                <tr>
                    <td><span class="nonterminal">block name</span></td>
                    <td><span class="terminal">block</span></td>
                    <td><span class="terminal">return-from</span></td>
                    <td>lexical exit</td>
                </tr>
                <tr>
                    <td><span class="nonterminal">tagbody tag</span></td>
                    <td><span class="terminal">tagbody</span></td>
                    <td><span class="terminal">go</span></td>
                    <td>lexical transfer of control</td>
                </tr>
                <tr>
                    <td><span class="nonterminal">catch tag</span></td>
                    <td><span class="terminal">catch</span></td>
                    <td><span class="terminal">throw</span></td>
                    <td>dynamic exit</td>
                </tr>
            </table>
            <p>A <span class="term">non-local exit</span>, is an operation that forces transfer of control and possibly data from an invoking special form to a previously established point in a program, called the <span class="term">destination</span> of the exit.</p>
            
            <p>A <span class="term">lexical</span> exit is a non-local exit from a <span class="terminal">return-from</span> form to a <span class="terminal">block</span> form which contains it both lexically and dynamically, forcing the block to return an object specified in the <span class="terminal">return-from</span> form.</p>
            
            <p>A <span class="term">dynamic</span> exit is a non-local exit from a <span class="terminal">throw</span> form to a <span class="terminal">catch</span> form which contains it dynamically (but not necessarily lexically), forcing the catch to return an object specified in the throw form.</p>
            
            <p>A <span class="term">lexical transfer of control</span> is a non-local exit from a <span class="terminal">go</span> form to a tagged point in a <span class="terminal">tagbody</span> form which contains it both lexically and dynamically.</p>
            <p>When a non-local exit is initiated, any potential destination that was established more recently than the destination to which control is being transferred is immediately considered invalid.</p>
            
            <div id="s_block" class="definition-special">
                (<span class="operator">block</span> <span class="arg">name</span> <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            <div id="s_return_from" class="definition-special">
                (<span class="operator">return-from</span> <span class="arg">name</span> <span class="arg">result-form</span> <span class="comment">transfers control and data</span>
            </div>
            
            <p>The <span class="terminal">block</span> special form executes each <span class="nonterminal">form</span> sequentially from left to right. If the last form exits normally, whatever it returns is returned by the <span class="terminal">block</span> form.</p>
            <p>The <span class="nonterminal">name</span> in a <span class="terminal">block</span> form is not evaluated; it must be an identifier. The scope of <span class="nonterminal">name</span> is the body <span class="nonterminal">form</span>*—only a <span class="terminal">return-from</span> textually contained in some form can exit the <span class="terminal">block</span>. The extent of <span class="nonterminal">name</span> is dynamic.</p>
            <p>If a <span class="nonterminal">return-from</span> is executed, the <span class="terminal">result-form</span> is evaluated. If this evaluation returns normally, the value it returns is immediately returned from the innermost lexically enclosing <span class="terminal">block</span> form with the same name.</p>
            <p><span class="terminal">return-from</span> is used to return from a <span class="terminal">block</span>. <span class="nonterminal">name</span> is not evaluated and must be an identifier. A <span class="terminal">block</span> special form must lexically enclose the occurrence of <span class="terminal">return-from</span>; the value produced by <span class="terminal">result-form</span> is immediately returned from the <span class="terminal">block</span>. The <span class="terminal">return-from</span> form never returns and does not have a value.</p>
            <p>An error shall be signaled if an attempt is made to exit a <span class="terminal">block</span> after it has been exited (error-id. <span class="error_id">control-error</span>); It is a violation if <span class="nonterminal">name</span> is not an identifier. It is a violation if a <span class="terminal">block</span> with a corresponding <span class="nonterminal">name</span> does not exist. See <a href="#assuring_data_consistency">§14.7.2</a> for other errors.</p>
            
<pre class="example">
(block x
  (+ 10 (return-from x 6) 22)) ;;; Bad programming style
                ⇒ 6
                
(defun f1 ()
  (block b
    (let ((f (lambda () (return-from b 'exit))))
      … ; big computation
      (f2 f))))
               ⇒ f1
                
(defun f2 (g)
  … ; big computation
  (funcall g))
               ⇒ f2
               
(f1)           ⇒ exit
                
(block sum-block
  (for ((x '(1 a 2 3) (cdr x))
        (sum 0 (+ sum (car x))))
       ((null x) sum)
    (cond ((not (numberp (car x))) (return-from sum-block 0)))))
               ⇒ 0
                
(defun bar (x y)
  (let ((foo #'car))
    (let ((result (block bl
                    (setq foo (lambda () (return-from bl 'first-exit)))
                    (if x (return-from bl 'second-exit) 'third-exit))))
      (if y (funcall foo) nil)
      result)))
              ⇒ bar
                
(bar t nil)   ⇒ second-exit

(bar nil nil) ⇒ third-exit

(bar nil t)   an error shall be signaled

(bar t t)     an error shall be signaled
</pre>
            
            <div id="s_catch" class="definition-special">
                (<span class="operator">catch</span> <span class="arg">tag-form</span> <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            <div id="s_throw" class="definition-special">
                (<span class="operator">throw</span> <span class="arg">tag-form</span> <span class="arg">result-form</span>) <span class="comment">transfers control and data</span>
            </div>
            
            <p id="dynamic_exits">The special forms <span class="terminal">catch</span> and <span class="terminal">throw</span> provide a facility for programming of structured non-local dynamic exits. A <span class="terminal">catch</span> form and a <span class="terminal">throw</span> form are said to correspond if the <span class="nonterminal">tag-form</span> of the <span class="terminal">catch</span> and the <span class="nonterminal">tag-form</span> of the <span class="terminal">throw</span> evaluate to the same object, a <span class="term">catch tag</span>. A <span class="term">catch tag</span> may be any object other than a number or a character; the comparison of <span class="nonterminal">catch tags</span> uses <span class="terminal">eq</span>.</p>
            <p>The <span class="terminal">catch</span> special form first evaluates the <span class="nonterminal">tag-form</span> to produce a <span class="nonterminal">catch tag</span>, and then executes each <span class="nonterminal">form</span> sequentially from left to right. If execution of the <span class="nonterminal">forms</span> finishes normally, whatever is returned by the last <span class="nonterminal">form</span> is returned by the <span class="terminal">catch</span> form.</p>
            <p>Prior to execution of the forms of a <span class="terminal">catch</span> form <span class="nonterminal">C<sub>0</sub></span>, an association between the <span class="nonterminal">catch tag T<sub>0</sub></span> and the executing form <span class="nonterminal">C<sub>0</sub></span> is dynamically established, upon exit from <span class="nonterminal">C<sub>0</sub></span>, the association is disestablished. If there was an outer association for the same <span class="nonterminal">catch tag T<sub>0</sub></span>, it is hidden during the execution of <span class="nonterminal">C<sub>0</sub></span>'s <span class="nonterminal">forms</span>; only the most recently established (<span class="latin">i.e.</span>, innermost) association for <span class="nonterminal">T<sub>0</sub></span> is ever visible.</p>
            <p>If a <span class="terminal">throw</span> special form is executed, it evaluates the <span class="nonterminal">tag-form</span> producing a <span class="nonterminal">catch tag T<sub>1</sub></span>, and then evaluates the <span class="nonterminal">result-form</span> producing a result <span class="nonterminal">R<sub>1</sub></span>. If there is a corresponding association between <span class="nonterminal">T<sub>1</sub></span> and some <span class="terminal">catch</span> form <span class="nonterminal">C<sub>1</sub></span> that is executing, <span class="nonterminal">R<sub>1</sub></span> is immediately returned as the value of <span class="nonterminal">C<sub>1</sub></span>. The <span class="terminal">throw</span> form can be anywhere in the entire current toplevel scope; it need not be lexically contained within <span class="nonterminal">C<sub>1</sub></span>.</p>
            <p>An error shall be signaled if there is no outstanding catcher for a <span class="nonterminal">T<sub>1</sub></span> (error-id. <span class="error_id">control-error</span>). See <a href="#assuring_data_consistency">§14.7.2</a> for other errors.</p>
            
<pre class="example">
(defun foo (x)
  (catch 'block-sum (bar x))) ⇒ foo
                
(defun bar (x)
  (for ((l x (cdr l))
        (sum 0 (+ sum (car l))))
       ((null l) sum)
    (cond ((not (numberp (car l))) (throw 'block-sum 0)))))
                 ⇒ bar
                
(foo '(1 2 3 4)) ⇒ 10

(foo '(1 2 a 4)) ⇒ 0
</pre>
            <div id="s_tagbody" class="definition-special">
                (<span class="operator">tagbody</span> {<span class="arg">tagbody-tag</span> | <span class="arg">form</span>}*) → <span class="class">object</span>
            </div>
            <div id="s_go" class="definition-special">
                (<span class="operator">go</span> <span class="arg">tagbody-tag</span>) <span class="comment">transfers control</span>
            </div>
            
            <p><span class="terminal">tagbody</span> executes the <span class="nonterminal">forms</span> sequentially from left to right, discarding their values. If the execution of the last <span class="nonterminal">form</span> completes normally, <span class="terminal">nil</span> is returned by the <span class="terminal">tagbody</span> special form.</p>
            <p>The series of <span class="nonterminal">tagbody-tags</span> and <span class="nonterminal">forms</span> is collectively referred to as the body of a <span class="terminal">tagbody</span> form. An identifier <span class="nonterminal">tagbody-tag</span> that appears at toplevel of the body denotes a <span class="term">tagbody tag</span> that can be used with <span class="terminal">go</span> to transfer control to that point in the body. Any compound form that appears is taken as a <span class="nonterminal">form</span>. Literals are not permitted at the toplevel of a <span class="terminal">tagbody</span>. No <span class="nonterminal">tagbody-tag</span> may appear more than once in the tags in the body.</p>
            <p>The namespace used for tagbody tags is distinct from that used for <span class="terminal">block</span> tags.</p>
            <p>At any point lexically contained in the <span class="terminal">tagbody</span> a form (<span class="terminal">go</span> <span class="nonterminal">tag</span>) can be used to transfer control to a tag <span class="nonterminal">tag</span> that appears among the <span class="nonterminal">tagbody-tags</span>, except where a <span class="nonterminal">tag</span> is shadowed according to the lexical principle (see <a href="#the_lexical_principle">§11.1</a>).</p>
            <p>A <span class="nonterminal">tagbody-tag</span> established by <span class="terminal">tagbody</span> has lexical scope, but the point in the program to which it refers has dynamic extent. Once <span class="terminal">tagbody</span> has been exited, it is no longer valid to use <span class="terminal">go</span> to transfer to any tag in its body.</p>
            <p>The determination of which elements of the body are <span class="nonterminal">tagbody-tags</span> and which are <span class="nonterminal">forms</span> is made prior to any macro expansion of that element. If <span class="nonterminal">form</span> is a macro form and its macro expansion is a symbol or literal, that atom is treated as a <span class="nonterminal">form</span>, not as a <span class="nonterminal">tagbody-tag</span>.</p>
            <p>It is a violation if a <span class="nonterminal">tagbody tag</span> is other than an identifier. See <a href="#assuring_data_consistency">§14.7.2</a> for other errors.</p>
            <div class="note">Note: As a stylistic matter, programmers are not encouraged to use <span class="terminal">tagbody</span> and <span class="terminal">go</span> in everyday programming. The primary uses for which these forms are intended are for implementing other control abstractions (using macros), and for the occassional real-world situation that uses unstructured imperative transfer of control (such as a finite state machine).</div>
<pre class="example">
(defmacro with-retry (:rest forms)
  (let ((tag (gensym)))
    `(block ,tag
       (tagbody
         ,tag
         (return-from ,tag
         (flet ((retry () (go ,tag)))
           ,@forms))))))
                ⇒ with-retry
                
(let ((i -5))
  (with-retry
    ;; if-error is a hypothetical error correction function
    ;; not supplied by ISLISP.
    (if-error (sqrt (setq i (+ i 4)))
    (retry))))
               ⇒ 1.7320508075688772
</pre>
            
            <h5 id="assuring_data_consistency">Assuring data consistency during non-local exits</h5>
            <div id="s_unwind_protect" class="definition-special">
                (<span class="operator">unwind-protect</span> <span class="arg">form</span> <span class="arg">cleanup-form</span>*) → <span class="class">object</span>
            </div>
            
            <p><span class="terminal">unwind-protect</span> first evaluates <span class="nonterminal">form</span>. Evaluation of the <span class="nonterminal">cleanup-forms</span> always occurs, regardless of whether the exit is normal or non-local.</p>
            <p>If the <span class="nonterminal">form</span> exits normally yielding a value <span class="nonterminal">R</span>, then if all of the <span class="nonterminal">cleanup-forms</span> exit normally the value <span class="nonterminal">R</span> is returned by the <span class="terminal">unwind-protect</span> form.</p>
            <p>If a non-local exit from <span class="nonterminal">form</span> occurs, then the <span class="nonterminal">cleanup-forms</span> are executed as part of that exit, and then if all of the <span class="nonterminal">cleanup-forms</span> exit normally the original non-local exit continues.</p>
            <p>The <span class="nonterminal">cleanup-forms</span> are evaluated from left to right, discarding the resulting values. If execution of the <span class="nonterminal">cleanup-forms</span> finishes normally, exit from the <span class="terminal">unwind-protect</span> form proceeds as described above. It is permissible for a <span class="nonterminal">cleanup-form</span> to contain a non-local exit from the <span class="terminal">unwind-protect</span> form, subject to the following constraint:</p>
            <p>An error shall be signaled if during execution of the <span class="nonterminal">cleanup-forms</span> of an <span class="terminal">unwind-protect</span> form, a non-local exit is executed to a destination which has been marked as invalid due to some other non-local exit that is already in progress (see <a href="#establishing_and_invoking_non_local_exits">§14.7.1</a>) (error-id. <span class="error_id">control-error</span>).</p>
            <div class="note">Note: Because ISLISP does not specify an interactive debugger, it is unspecified whether or how error recovery can occur interactively if programmatic handling fails. The intent is that if the ISLISP processor does not terminate abnormally, normal mechanisms for non-local exit (<span class="terminal">return-from</span>, <span class="terminal">throw</span>, or <span class="terminal">go</span>) would be used as necessary and would respect these <span class="nonterminal">cleanup-forms</span>.</div>
            
<pre class="example">
(defun foo (x)
  (catch 'duplicates
    (unwind-protect (bar x)
      (for ((l x (cdr l)))
           ((null l) 'unused)
        (remove-property (car l) 'label)))))
                ⇒ foo
                
(defun bar (l)
  (cond ((and (symbolp l) (property l 'label))
         (throw 'duplicates 'found))
        ((symbolp l) (setf (property l 'label) t))
         ((bar (car l)) (bar (cdr l)))
        (t nil)))
                             ⇒ bar
                
(foo '(a b c))               ⇒ t

(property 'a 'label)         ⇒ nil

(foo '(a b a c))             ⇒ found

(property 'a 'label)         ⇒ nil
                
(defun test ()
  (catch 'outer (test2)))    ⇒ test
                
(defun test2 ()
  (block inner
    (test3 (lambda ()
             (return-from inner 7)))))
                             ⇒ test2
                
(defun test3 (fun)
  (unwind-protect (test4) (funcall fun)))
                             ⇒ test3
                
(defun test4 ()
  (throw 'outer 6))          ⇒ test4
                
(test)                       ⇒ an error shall be signaled
</pre>
            
            <p>In the test example, the <span class="terminal">throw</span> executed in test4 has as destination the catcher established in test. The <span class="terminal">unwind-protect</span> in test3 intercepts the transfer of control and attempts to execute a <span class="terminal">return-from</span> from the block in test2. Because this <span class="terminal">block</span> is established within the dynamic extent of the destination catcher, an error is signaled.</p>
            
            <h3 id="objects">Objects</h3>
            <h4 id="defining_classes">Defining classes</h4>
            
            <p>The <span class="terminal">defclass</span> defining form is used to define a new named class.</p>
            
            <p id="definition_of_a_class">The definition of a class includes the following:</p>
            <ul>
                <li>The name of the new class.</li>
                <li>The list of the direct superclasses of the new class.</li>
                <li>A set of <span class="term">slot specifiers</span>. Each slot specifier includes the name of the slot and zero or more <span class="term">slot options</span>. A slot option pertains only to a single slot. A class definition must not contain two slot specifiers with the same name.</li>
                <li>A set of <span class="term">class options</span>. Each class option pertains to the class as a whole.</li>
            </ul>
            <p>The slot options and class options of the <span class="terminal">defclass</span> defining form provide mechanisms for the following:</p>
            <ul>
                <li>Supplying a default initial value form for a given slot.</li>
                <li>Requesting that methods for generic functions be automatically generated for retrieving or storing slot values and inquiring whether a value is bound to the slot.</li>
                <li>Indicating that the metaclass of that class is to be other than the default.
                </li>
            </ul>
            
            <div id="def_defclass" class="definition-defining">
                (<span class="operator">defclass</span> <span class="arg">class-name</span> (<span class="arg">sc-name</span>*) (<span class="arg">slot-spec</span>*) <span class="arg">class-opt</span>*) → <span class="class">symbol</span>
            </div>
<pre>
Where:
<span class="nonterminal">class-name</span>           ::= <span class="nonterminal">identifier</span>

<span class="nonterminal">sc-name</span>              ::= <span class="nonterminal">identifier</span>

<span class="nonterminal">slot-spec</span>            ::= <span class="nonterminal">slot-name</span> | (<span class="nonterminal">slot-name</span> <span class="nonterminal">slot-opt</span>*)

<span class="nonterminal">slot-name</span>            ::= <span class="nonterminal">identifier</span>

<span class="nonterminal">slot-opt</span>             ::= <span class="terminal">:reader</span> <span class="nonterminal">reader-function-name</span> |
                         <span class="terminal">:writer</span> <span class="nonterminal">writer-function-name</span> |
                         <span class="terminal">:accessor</span> <span class="nonterminal">reader-function-name</span> |
                         <span class="terminal">:boundp</span> <span class="nonterminal">boundp-function-name</span> |
                         <span class="terminal">:initform</span> <span class="nonterminal">form</span> |
                         <span class="terminal">:initarg</span> <span class="nonterminal">initarg-name</span>
                
                
<span class="nonterminal">initarg-name</span>         ::= <span class="nonterminal">identifier</span>

<span class="nonterminal">reader-function-name</span> ::= <span class="nonterminal">identifier</span>

<span class="nonterminal">writer-function-name</span> ::= <span class="nonterminal">identifier</span>

<span class="nonterminal">boundp-function-name</span> ::= <span class="nonterminal">identifier</span>

<span class="nonterminal">class-opt</span>            ::= (<span class="terminal">:metaclass</span> <span class="nonterminal">class-name</span>) |
                         (<span class="terminal">:abstractp</span> <span class="nonterminal">abstract-flag</span>)

<span class="nonterminal">abstract-flag</span>        ::= <span class="terminal">t</span> | <span class="terminal">nil</span>
</pre>
            
            <p>
                The <span class="terminal">defclass</span> defining form returns the symbol named class-name as its result.
            </p>
            <p>The <span class="nonterminal">class-name</span> argument is an identifier which becomes the name of the new class. The defining point of the <span class="nonterminal">class-name</span> is the end of the <span class="terminal">defclass</span> defining form.</p>
            <p>Each superclass name argument <span class="nonterminal">sc-name</span> is an identifier that specifies a direct superclass of the new class. The new class will inherit slots and their :reader or <span class="terminal">:writer</span> or <span class="terminal">:accessor</span> methods from each of its superclasses. See <a href="#inheritance_of_slots">§15.1.3</a> for a definition of how slots are inherited, and <a href="#inheritance_of_methods">§15.2.3</a> for a definition of how methods are inherited. No <span class="nonterminal">sc-name</span> may appear more than once in super class names. It is a violation if the superclasses of any two direct superclasses <span class="nonterminal">sc-name</span> have superclasses other than <span class="class">standard-object</span> and <span class="class">object</span> in common unless a metaclass other than <span class="class">standard-class</span> is specified.</p>
            <p>Each <span class="nonterminal">slot-spec</span> argument is the name of the slot or a list consisting of the slot name followed by zero or more slot options. The <span class="nonterminal">slot-name</span> argument is an identifier that is syntactically valid for use as an ISLISP variable name. No slot names may appear more than once in <span class="nonterminal">slot-spec</span> The following slot options are available:</p>
            <ul>
                <li id="reader">The <span class="terminal">:reader</span> slot option specifies that an unqualified method with the parameter profile ((<span class="terminal">x</span> <span class="nonterminal">class-name</span>)) is to be defined on the generic function named <span class="nonterminal">reader-function-name</span> to retrieve the value of the given slot. The <span class="terminal">:reader</span> slot option may be specified more than once for a given slot.</li>
                <li id="writer">The <span class="terminal">:writer</span> slot option specifies that an unqualified method with the parameter profile ((<span class="terminal">y</span> <span class="class">object</span>) (<span class="terminal">x</span> <span class="nonterminal">class-name</span>)) is to be defined on the generic function named <span class="nonterminal">writer-function-name</span> to store the value into the slot. The <span class="nonterminal">writer-function-name</span> argument is an identifier. The <span class="terminal">:writer</span> slot option may be specified more than once for a given slot.</li>
                <li id="accessor">The <span class="terminal">:accessor</span> slot option specifies that an unqualified method is to be defined on the generic function named <span class="nonterminal">reader-function-name</span> to retrieve the value of the given slot. Furthermore, there is a generic function such that (<span class="terminal">setf</span> (<span class="nonterminal">reader-function-name</span> <span class="nonterminal">x</span>) <span class="nonterminal">y</span>) is equivalent to calling this generic function with first argument <span class="nonterminal">y</span> and second argument <span class="nonterminal">x</span>. This generic function is extended by a method with the parameter profile ((<span class="nonterminal">y</span> <span class="class">object</span>) (<span class="nonterminal">x</span> <span class="nonterminal">class-name</span>)). The <span class="nonterminal">reader-function-name</span> argument is an identifier. The <span class="terminal">:accessor</span> slot option may be specified more than once for a given slot.</li>
                <li id="boundp">The <span class="terminal">:boundp</span> slot option specifies that an unqualified method with the parameter profile ((<span class="nonterminal">x</span> <span class="nonterminal">class-name</span>)) is to be defined on the generic function named <span class="nonterminal">boundp-function-name</span> to test whether the given slot has been given a value. The <span class="terminal">:boundp</span> slot option may be specified more than once for a given slot.</li>
                <li id="initform">The <span class="terminal">:initform</span> slot option is used to provide a default initial value form to be used in the initialization of the slot. The <span class="terminal">:initform</span> slot option may be specified once at most for a given slot. This form is evaluated every time it is used to initialize the slot. The lexical scope of the identifiers used in the initialization of the slot is the lexical scope of those identifiers in the defclass form. Note that the lexical scope refers both to variable and to function identifiers. In contrast, the current dynamic bindings used are those existing during activation of create. For more information, see <a href="#initialize_object">§15.4.1</a>.</li>
                <li id="initarg">The <span class="terminal">:initarg</span> slot option declares an initialization argument named <span class="nonterminal">initarg-name</span> and specifies that this initialization argument initializes the given slot. If the initialization argument and associated value are supplied in the call to <span class="terminal">initialize-object</span>, the value will be stored into the given slot and the slot's <span class="terminal">:initform</span> slot option, if any, is not evaluated. If none of the initialization arguments specified for a given slot has a value, the slot is initialized according to the <span class="terminal">:initform</span> option, if specified. The consequences are undefined if more than one initialization argument for the same slot is supplied. For more information, see <a href="#initialize_object">§15.4.1</a>.</li>
            </ul>
            <p id="slot_accessors">The generic functions, to which the methods created by the <span class="terminal">:reader</span>, <span class="terminal">:writer</span>, and <span class="terminal">:accessor</span> slot options belong are called slot accessors.</p>
            <p>No implementation is permitted to extend the syntax of <span class="terminal">defclass</span> to allow (<span class="terminal">slot-name</span> <span class="nonterminal">form</span>) as an abbreviation for (<span class="nonterminal">slot-name</span> <span class="terminal">:initform</span> <span class="nonterminal">form</span>).</p>
            <p>Each class option is an option that refers to the class as a whole. The following class options are available:</p>
            <ul>
                <li id="metaclass">The <span class="terminal">:metaclass</span> class option is used to specify that instances of the class being defined are to have a different metaclass than the default provided by the system, that is, different from the class <span class="class">standard-class</span>. The <span class="nonterminal">class-name</span> argument is the name of the desired metaclass. The <span class="terminal">:metaclass</span> class option may be specified once at most. It is a violation if <span class="class">built-in-class</span> is specified as the metaclass.</li>
                <li id="abstractp">The <span class="terminal">:abstractp</span> class option is used to specify that the class is an <a href="#td_abstract_class">abstract class</a>. If this option is supplied and <span class="nonterminal">abstract-flag</span> is <span class="terminal">t</span>, create will signal an error if an attempt is made to create an instance of this class. If the option is unsupplied, or if <span class="nonterminal">abstract-flag</span> is <span class="terminal">nil</span>, the class is not an <a href="#td_abstract_class">abstract class</a>. It is a violation if the <span class="nonterminal">abstract-flag</span> is supplied but is neither <span class="terminal">t</span> nor <span class="terminal">nil</span>.</li>
            </ul>
            <p>The following rules of defclass hold for standard classes:</p>
            <ul>
                <li>The <span class="terminal">defclass</span> defining form must be in the scope of any superclass identifier it refers to.</li>
                <li>All the superclasses of a class must be defined before an instance of the class can be made.</li>
                <li>Any reference to class-name as a parameter specializer in a defmethod form must be in the scope of class-name. That is, a defmethod form that names a class must textually follow the defclass form that defines that class.</li>
            </ul>
            <p>An ISLISP processor may be extended to cover situations where these rules are not obeyed. These extensions shall be <a href="#td_implementation_defined">implementation defined</a>.</p>
            <p>Some slot options are inherited by a class from its superclasses, and some can be shadowed or altered by providing a local slot description. No class options are inherited. For a detailed description of how slots and slot options are inherited, see the section <a href="#inheritance_of_slots">§15.1.3</a>.</p>
            <p>If no slot accessors are specified for a slot, the slot cannot be accessed.</p>
            <p id="local_precedence_order">When a class is defined, the order in which its direct superclasses are mentioned in the defining form is important. The new class has a local precedence order, which is a list consisting of the class followed by its direct superclasses in the order mentioned in its defclass defining form.</p>
            
            <h5 id="determining_the_class_precedence">Determining the class precedence list</h5>
            
            <p>The <span class="terminal">defclass</span> defining form for a class provides a total ordering on that class and its direct superclasses. This ordering is called the <i>local precedence order</i>. It is an ordered list of the class and its direct superclasses. The <span class="term">class precedence list</span> for a class <span class="nonterminal">C</span> is a total ordering on <span class="nonterminal">C</span> and its superclasses that is consistent with the local precedence orders for each of <span class="nonterminal">C</span> and its superclasses.</p>
            <p>The class precedence list is always consistent with the local precedence order of each class in the list. The classes in each local precedence order appear within the class precedence list in the same order.</p>
            <p>Let <span class="nonterminal">C<sub>1</sub></span> , … , <span class="nonterminal">C<sub>n</sub></span> be the direct superclasses of <span class="nonterminal">C</span> in the order defined in the <span class="terminal">defclass</span> defining form for <span class="nonterminal">C</span>. Let <span class="nonterminal">P<sub>1</sub></span> , … , <span class="nonterminal">P<sub>n</sub></span> be the class precedence lists for <span class="nonterminal">C<sub>1</sub></span> , … , <span class="nonterminal">C<sub>n</sub></span>, respectively. Define <span class="nonterminal">P</span> · <span class="nonterminal">Q</span> on class precedence lists <span class="nonterminal">P</span> and <span class="nonterminal">Q</span> to be the two lists appended. Then the class precedence list for <span class="nonterminal">C</span> is <span class="nonterminal">C</span> · <span class="nonterminal">P<sub>1</sub></span> · … · <span class="nonterminal">P<sub>n</sub></span> with duplicate classes removed by repeated application of the following rule: If a class appears twice in the resulting class precedence list, the leftmost occurrence is removed.</p>
            <p>It is a violation if an attempt is made to define an instance of <span class="class">standard-class</span> whose direct superclasses have class precedence lists with classes other than <span class="class">standard-object</span> and <span class="class">object</span> in common.</p>
            
            <h5 id="accessing_slots">Accessing slots</h5>
            
            <p>Slots can be accessed by use of the slot accessors created or modified by the <span class="terminal">defclass</span> defining form.</p>
            <p>The <span class="terminal">defclass</span> defining form provides syntax for generating methods to retrieve and store slot values. If a <span class="term">reader</span> is requested, a method is automatically generated for retrieving the value of the slot, but no method for storing a value into it is generated. If a <span class="term">writer</span> is requested, a method is automatically generated for storing a value into the slot, but no method for retrieving its value is generated. If an <span class="term">accessor</span> is requested, a method for retrieving the value of the slot and a method for storing a value into the slot are automatically generated.</p>
            <p>When a reader or writer is specified for a slot, the name of the generic function to which the generated method belongs is directly specified. If the name specified for the writer option is the identifier name, the name of the generic function for storing a value into the slot is the identifier name, and the generic function takes two arguments: the new value and the instance, in that order. If the name specified for the accessor option is the identifier name, the name of the generic function for retrieving the slot value is the identifier name, and storing a value into the slot can be done by using the syntax (<span class="terminal">setf</span> (<span class="nonterminal">name</span> <span class="nonterminal">instance</span>) <span class="nonterminal">new-value</span>).</p>
            <p>A generic function created or modified by supplying reader, writer, or accessor slot options is a direct instance of <span class="class">standard-generic-function</span>.</p>
            
            <h5 id="inheritance_of_slots">Inheritance of slots and slot options</h5>
            
            <p>The set of the names of all slots accessible in an instance of a class C is the union of the sets of names of slots defined by C and its superclasses. The structure of an instance is the set of names of slots in that instance.</p>
            <p>In the simplest case, only one class among C and its superclasses defines a slot with a given slot name. If a slot is defined by a superclass of C, the slot is said to be inherited. The characteristics of the slot are determined by the slot specifier of the defining class.</p>
            <p>In general, more than one class among C and its superclasses can define a slot with a given name. In such cases, only one slot with the given name is accessible in an instance of C, and the characteristics of that slot are a combination of the several slot specifiers, computed as follows:</p>
            <ul>
                <li>All the slot specifiers for a given slot name are ordered from most specific to least specific, according to the order in C's class precedence list. All references to the specificity of slot specifiers immediately below refer to this ordering.</li>
                <li>The default initial value form for a slot is the value of the :initform slot option in the most specific slot specifier that contains one. If no slot specifier contains an :initform slot option, the slot has no default initial value form.</li>
            </ul>
            <p id="reader_writer_accessor">The :reader, :writer, and :accessor slot options create methods rather than define the characteristics of a slot. Reader and writer methods are inherited in the sense described in the section <a href="#inheritance_of_methods">§15.2.3</a>.</p>
            
            <h4 id="generic_functions">Generic functions</h4>
            
            <p>A generic function is a function whose application behavior depends on the classes of the arguments supplied to it. A generic function object contains a set of methods, a lambda-list, a method combination type, and other information. The methods define the class-specific behavior and operations of the generic function; a method is said to specialize a generic function. When invoked, a generic function executes a subset of its methods based on the classes of its arguments.</p>
            <p>A generic function can be used in the same ways that an ordinary function can be used.</p>
            <p id="method">A method consists of a method function, a lambda list, a sequence of parameter specializers that specify when the given method is applicable, and a sequence of qualifiers that is used by the method combination facility to distinguish among methods. Each required formal parameter of each method has an associated parameter specializer, and the method is invoked only on arguments that satisfy its parameter specializers.</p>
            <p>The method combination facility controls the selection of methods, the order in which they are activated, and the value that is returned by the generic function. ISLISP provides a default method combination type but does not provide a facility for declaring new types of method combination.</p>
            <p>Like an ordinary ISLISP function, a generic function takes arguments, performs a series of operations, and returns a value. An ordinary function has a single body of code that is always executed when the function is called. A generic function has a set of bodies of code of which a non-empty subset is selected for execution. The selected bodies of code and the manner of their combination are determined by the classes of the arguments to the generic function and by its method combination type.</p>
            
            <div id="f_generic_function_p" class="definition-function">
                (<span class="operator">generic-function-p</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if obj is a generic function; otherwise, returns nil. obj may be any ISLISP object.</p>
            
            
            
            <h5 id="defining_generic_functions">Defining generic functions</h5>
            
            <p>Some forms specify the options of a generic function, such as the type of method combination it uses. These forms will be referred to as <q>forms that specify generic function options.</q> These forms are the defgeneric defining forms.</p>
            
            <p>Some forms define methods for a generic function. These forms will be referred to as <q>method-defining forms.</q> These forms are the defmethod and defclass defining forms.</p>
            <p id="reader_writer_accessor2">During preparation for execution, a defmethod form must be preceded by the defgeneric form for the generic function to be specialized. (Methods implicitly defined by defclass due to :reader, :writer, or :accessor options do not need a preceding defgeneric.)</p>
            <div id="def_defgeneric" class="definition-defining">
                (<span class="operator">defgeneric</span> <span class="arg">func-spec</span> <span class="arg">lambda-list</span> {<span class="arg">option</span> | <span class="arg">method-desc</span>}*) → <span class="class">symbol</span>
            </div>
<pre>
Where:
func-spec                  ::= identifier | (setf identifier)

lambda-list                ::= (var * [&amp;rest var]) |
                               (var * [:rest var])

option                     ::= (:method-combination {identifier | keyword}) |
                               (:generic-function-class class-name)

method-desc                ::= (:method method-qualifier * parameter-profile form*)

method-qualifier           ::= identifier | keyword

parameter-profile          ::= ({var | (var parameter-specializer-name)}* [{&amp;rest | :rest} var])

parameter-specializer-name ::= class-name

class-name                 ::= identifier

var                        ::= identifier
</pre>
            
            <p>The defgeneric defining form is used to define a generic function and to specify options and declarations that pertain to a generic function as a whole.</p>
            <p>It returns the generic function name func-spec.</p>
            <p>The scope of the generic function identifier func-spec is the entire current toplevel scope.</p>
            <p>The lambda-list argument is an ordinary function lambda-list.</p>
            <p>The following options are provided. A given option may occur only once.</p>
            <ul>
                <li>The :generic-function-class option specifies that the generic function is to have a different class from the default provided by the system, that is, different from the class <span class="class">standard-generic-function</span>. The class-name argument is the name of a class that can be the class of a generic function.</li>
                <li>The :method-combination option is followed by a symbol or keyword that names a type of method combination. The names of the built-in method combination types are nil and standard.</li>
            </ul>
            <p>The method-desc arguments define methods that will belong to the generic function, as if defined by defmethod. The method-qualifier and parameter-profile arguments in a method description are the same as for defmethod. The form arguments specify the method body.</p>
            <p>If no method descriptions are specified, a generic function with no methods is created. An error shall be signaled if a generic function is called and no methods apply.</p>
            <p>The lambda-list argument of defgeneric specifies the shape of lambda-lists for the methods on this generic function. All methods on the resulting generic function must have parameter-profiles that are congruent with this shape. For further details on method congruence, see §15.2.2.2.</p>
            <p>Implementations can extend defgeneric to include other <a href="#td_implementation_defined">implementation-defined</a> options.</p>
            
            <h5 id="defining_methods">Defining methods for generic functions</h5>
            
            <div id="def_defmethod" class="definition-defining">
                (<span class="operator">defmethod</span> <span class="arg">func-spec</span> <span class="arg">method-qualifier</span>* <span class="arg">parameter-profile</span> <span class="arg">form</span>*) → <span class="class">symbol</span>
            </div>
<pre>
Where:
func-spec                  ::= identifier | (setf identifier)

method-qualifier           ::= identifier | keyword

parameter-profile          ::= ({var | (var parameter-specializer-name)}* [{&amp;rest | :rest} var])

parameter-specializer-name ::= class-name

class-name                 ::= identifier

var                        ::= identifier
</pre>
            
            <p>The defmethod defining form defines a method on a generic function. It returns the generic function name func-spec.</p>
            <p>A method-defining form contains the code that is to be executed when the arguments to the generic function cause the method that it defines to be invoked.</p>
            <p>Preparing a method-defining form for execution causes one of the following cases:</p>
            <ul>
                <li>It is a violation if the given name func-spec already designates a generic function and this generic function contains a method that agrees with the new one on parameter specializers and qualifiers. For a definition of one method agreeing with another on parameter specializers and qualifiers, see the section §15.2.2.1.</li>
                <li>If the given name func-spec designates a generic function and this generic function does not contain a method that agrees with the new one on parameter specializers and qualifiers, the new method is added to the generic function.</li>
                <li>It is a violation if the defmethod defining form is in the scope of a func-spec identifier that does not designate a generic function.</li>
                <li>It is a violation if the given name func-spec does not exist in the current toplevel scope immediately containing the defmethod defining form. Furthermore, it is a violation if a defgeneric form for func-spec does not precede the method-defining form in the text unit being prepared for execution unless the method-defining form is a defclass.</li>
            </ul>
            <p>The parameter-profile of the method being defined must be congruent with the lambda-list of the generic function. See §15.2.2.2 for a definition of congruence in this context.</p>
            <p id="method_qualifier">Each method-qualifier argument is an object that is used as an attribute to the given method by method combination. A method qualifier is a non-nil symbol or keyword. The method combination type further restricts what a method qualifier may be. The standard method combination type allows for unqualified methods or methods whose sole qualifier is one of the keywords :before, :after, :around.</p>
            <p>The parameter-profile argument is like an ordinary function lambda-list except that the names of required parameters can be replaced by specialized parameters. A specialized parameter is a list of the form (variable-name parameter-specializer-name). Only required parameters may be specialized. A parameter specializer name is an identifier that names a class. If no parameter specializer name is specified for a given required parameter, the parameter specializer defaults to the class named <span class="class">object</span>.</p>
            <p>The form arguments specify the method body.</p>
            <p>No two methods with agreeing parameter specializers and qualifiers may be defined for the same generic function. See the section §15.2.2.1 for a definition of agreement in this context.</p>
            <p>A method is not a function and cannot be invoked as a function.</p>
            
            <h6 id="agreement_on_parameter_specializers">Agreement on parameter specializers and qualifiers</h6>
            <p> Two methods are said to agree with each other on parameter specializers and qualifiers if the following conditions hold:</p>
            <ul>
                <li>Both methods have the same number of required parameters. Suppose the parameter specializers of the two methods are P<sub>1,1</sub> … P<sub>1,n</sub> and P<sub>2,1</sub> … P<sub>2,n</sub>.</li>
                <li>For each 1 ≤ i ≤ n, P<sub>1,i</sub> agrees with P<sub>2,i</sub>. The parameter specializer P<sub>1,i</sub> agrees with P<sub>2,i</sub> if P<sub>1,i</sub> and P<sub>2,i</sub> denote the same class. Otherwise P<sub>1,i</sub> and P<sub>2,i</sub> do not agree.</li>
                <li>The qualifiers of both methods, if any, are the same.</li>
            </ul>
            <p>The parameter specializers are derived from the parameter profiles as described above.</p>
            
            <h6 id="congruent_lambda_lists">Congruent lambda-lists for all methods of a generic function</h6>
            <p>These rules define the congruence of a set of lambda-lists, including the parameter profile of each method for a given generic function and the lambda-list specified for the generic function itself, if given.</p>
            <ul>
                <li>Each lambda-list must have the same number of required parameters.</li>
                <li>If any lambda-list mentions &amp;rest or :rest, each lambda-list must mention &amp;rest or :rest.</li>
            </ul>
            
            <h5 id="inheritance_of_methods">Inheritance of methods</h5>
            <p>A subclass inherits methods in the following sense: Any method applicable to all instances of a class is also applicable to all instances of any subclass of that class, since they are also instances of that class.</p>
            <p>The inheritance of methods acts the same way regardless of whether the method was created by using the defmethod form or by using one of the defclass options that causes methods to be generated automatically.</p>
            
            <h4 id="calling_generic_functions">Calling generic functions</h4>
            <p id="effective_method">When a generic function is called with particular arguments, it must determine the code to execute. This code is called the effective method for those arguments. The effective method is a combination of the applicable methods in the generic function, which might be some or all of the defined methods. An error shall be signaled if a generic function is called and no methods apply.</p>
            <p>When the effective method has been determined, it is invoked with the same arguments that were passed to the generic function. Whatever value it returns is returned as the value of the generic function.</p>
            <p>The effective method is determined by the following three-step procedure:</p>
            <ul>
                <li>Select the applicable methods.</li>
                <li>Sort the applicable methods by precedence order, putting the most specific method first.</li>
                <li>Apply applicable methods according to the method combination.</li>
            </ul>
            
            <h5 id="selecting_the_applicable_methods">Selecting the applicable methods</h5>
            <p>Given a generic function and a set of arguments, an applicable method is a method for that generic function whose parameter specializers are satisfied by their corresponding arguments. The following definition specifies what it means for a method to be applicable and for an argument to satisfy a parameter specializer.</p>
            <p>Let 〈A<sub>1</sub> , … , A<sub>n</sub>〉 be the required arguments to a generic function in order. Let 〈P<sub>1</sub> , … , P<sub>n</sub>〉 be the parameter specializers corresponding to the required parameters of the method M in order. The method M is applicable when each Ai satisfies P<sub>i</sub> . If A<sub>i</sub> is an instance of a class C, then it is said that A<sub>i</sub> satisfies P<sub>i</sub> when C = P<sub>i</sub> or when C is a subclass of P<sub>i</sub>.</p>
            <p id="default_method">A method all of whose parameter specializers are the class named <span class="class">object</span> is called a default method; it is always applicable but might be shadowed by a more specific method.</p>
            <p id="qualifiers">Methods can have qualifiers, which give the method combination procedure a way to distinguish among methods. A method that has one or more qualifiers is called a qualified method. A method with no qualifiers is called an unqualified method. Any object after :method and before the first list in method-desc is regarded as a qualifier, but only non-nil symbols and keywords are accepted as qualifiers. The qualifiers defined by standard method combination are keywords.</p>
            
            <h5 id="sorting_the_applicable_methods">Sorting the applicable methods</h5>
            
            <p>To compare the precedence of two methods, their parameter specializers are examined in order. The examination order is from left to right.</p>
            <p>The corresponding parameter specializers from each method are compared. When a pair of parameter specializers are equal, the next pair are compared for equality. If all corresponding parameter specializers are equal, the two methods must have different qualifiers; in this case, either method can be selected to precede the other.</p>
            <p>If some corresponding parameter specializers are not equal, the first pair of parameter specializers that are not equal determines the precedence. The more specific of the two methods is the method whose parameter specializer appears earlier in the class precedence list of the corresponding argument. Because of the way in which the set of applicable methods is chosen, the parameter specializers are guaranteed to be present in the class precedence list of the class of the argument.</p>
            <p>The resulting list of applicable methods has the most specific method first and the least specific method last.</p>
            
            <h5 id="applying_methods">Applying methods</h5>
            
            <p>In general, the effective method is some combination of the applicable methods. It is defined by a form that contains calls to some or all of the applicable methods, returns the value that will be returned as the value of the generic function, and optionally makes some of the methods accessible by means of call-next-method. This form is the body of the effective method; it is augmented with an appropriate lambda-list to make it a function.</p>
            <p>The role of each method in the effective method is determined by its method qualifiers and the specificity of the method. A qualifier serves to mark a method, and the meaning of a qualifier is determined by the way that these marks are used by this step of the procedure. An error shall be signaled if an applicable method has an unrecognized qualifier.</p>
            <p>ISLISP provides two method combination types. To specify that a generic function is to use one of these method combination types, the name of the method combination type is given as the argument to the :method-combination option to defgeneric.</p>
            <p>The names of the method combination types are nil and standard.</p>
            
            <h6 id="simple_method_combination">Simple method combination</h6>
            <p>In the simple case—the nil method combination type where all applicable methods are primary methods—the effective method calls the most specific method. That method can call the next most specific method by using call-next-method. The method that call-next-method calls is referred to as the next method. The predicate next-method-p tests whether a next method exists. An error shall be signaled if call-next-method is called and there is no next most specific method.</p>
            
            <h6 id="standard_method_combination">Standard method combination</h6>
            <p>Standard method combination is used if no other type of method combination is specified or if the method combination standard is specified.</p>
            
            <p>Primary methods define the main action of the effective method, while auxiliary methods modify that action in one of three ways. A primary method has no method qualifiers. An auxiliary method is a method whose method qualifier is :before, :after, or :around.</p>
            <ul>
                <li>A :before method has the keyword :before as its qualifier. A :before method specifies code that is to be run before any primary methods.</li>
                <li>An :after method has the keyword :after as its qualifier. An :after method specifies code that is to be run after primary methods.</li>
                <li>An :around method has the keyword :around as its qualifier. An :around method specifies code that is to be run instead of other applicable methods but which is able to cause some of them to be run.</li>
            </ul>
            <p id="semantics_of_standard_method_combination">The semantics of standard method combination is as follows:</p>
            <ul>
                <li>If there are any :around methods, the most specific :around method is called. It supplies the value of the generic function.</li>
                <li>Inside the body of an :around method, call-next-method can be used to call the next method. When the next method returns, the :around method can execute more code, perhaps based on the returned value. An error shall be signaled if call-next-method is used and there is no applicable method to call. The function next-method-p can be used to determine whether a next method exists.</li>
                <li>If an :around method invokes call-next-method, the next most specific :around method is called, if one is applicable. If there are no :around methods or if call-next-method is called by the least specific :around method, the other methods are called as follows:</li>
                <li>All the :before methods are called, in most-specific-first order. Returned values are ignored. An error shall be signaled if call-next-method is used in a :before method.</li>
                <li>The most specific primary method is called. Inside the body of a primary method, the form call-next-method can be used to call the next most specific primary method. When that method returns, the previous primary method can execute more code, perhaps based on the returned value. An error shall be signaled if call-next-method is used and there are no more applicable primary methods. The next-method-p function can be used to determine whether a next method exists. If call-next-method is not used, only the most specific primary method is called.</li>
                <li>All the :after methods are called in most-specific-last order. Returned values are ignored. An error shall be signaled if call-next-method is used in an :after method.</li>
                <li>If no :around methods were invoked, the most specific primary method supplies the value returned by the generic function. The value returned by the invocation of call-next-method in the least specific :around method is that returned by the most specific primary method.</li>
            </ul>
            <p>An error shall be signaled if there is an applicable method but no applicable primary method while using standard method combination.</p>
            <p>The :before methods are run in most-specific-first order while the :after methods are run in least-specific-first order. The design rationale for this difference can be illustrated with an example. Suppose class C<sub>1</sub> modifies the behavior of its superclass, C<sub>2</sub> , by adding :before and :after methods. Whether the behavior of the class C<sub>2</sub> is defined directly by methods on C<sub>2</sub> or is inherited from its superclasses does not affect the relative order of invocation of methods on instances of the class C<sub>1</sub>. Class C<sub>1</sub>'s :before method runs before all of class C<sub>2</sub>'s methods. Class C<sub>1</sub>'s :after method runs after all of class C<sub>2</sub>'s methods.</p>
            <p>By contrast, all :around methods run before any other methods run. Thus a less specific :around method runs before a more specific primary method.</p>
            <p>If only primary methods are used and if call-next-method is not used, only the most specific method is invoked; that is, more specific methods shadow more general ones.</p>
            
            <h5 id="calling_more_general_methods">Calling more general methods</h5>
            <div id="l_call_next_method" class="definition-local">
                (<span class="operator">call-next-method</span>) → <span class="class">object</span>
            </div>
            
            <p>The call-next-method function can be used within the body of a method to call the next method.</p>
            <p>It returns the value returned by the method it calls.</p>
            <p>The type of method combination used determines which methods can invoke call-next-method and what is the next method to be called.</p>
            <p>In the case of simple method combination where the method combination type is nil the next method is the next most specific method.</p>
            <p>The standard method combination type allows call-next-method to be used within primary methods and :around methods. The standard method combination type defines the next method as specified in §15.3.3.2.</p>
            <p>call-next-method passes the current method's original arguments to the next method. Neither using setq nor rebinding variables with the same names as parameters of the method affects the values call-next-method passes to the method it calls. The call-next-method function returns the value returned by the method it calls. After call-next-method returns, further computation is possible. The next-method-p function can be used to test whether there is a next method.</p>
            <p>The functional binding of call-next-method is lexical within the body of the method-defining form; <span class="latin">i.e.</span>, it is as if it were established by labels. The function object to which the binding refers has indefinite extent.</p>
            <p>An error shall be signaled if call-next-method is used in methods that do not support it. An error shall be signaled if call-next-method is executed and there is no next method.</p>
            <div id="l_next_method_p" class="definition-local">
                (<span class="operator">next-method-p</span>) → <span class="nonterminal">boolean</span>
            </div>
            <p>The next-method-p function can be used within the body of a method defined by a method-defining form to determine whether a next method exists. The next-method-p function takes no arguments and returns t or nil.</p>
            <p>The functional binding of next-method-p is lexical within the body of the method-defining form; <span class="latin">i.e.</span>, it is as if it were established by labels. The function object to which the binding refers has indefinite extent.</p>
            
            <h4 id="object_creation">Object creation and initialization</h4>
            <div id="gf_create" class="definition-generic">
                (<span class="operator">create</span> <span class="arg">class</span> {<span class="arg">initarg</span> <span class="arg">initval</span> }*) → <span class="class">object</span>
            </div>
            
            <p>The function create creates and returns a new instance of a class. The argument is a class object.</p>
            <p>The initialization of a new instance consists of several distinct steps, including the following: allocating storage for the instance, filling slots with values, and executing user-supplied methods that perform additional initialization. The last two steps of create are implemented by the generic function initialize-object to provide a mechanism for customizing those steps. The initialization arguments (the initargs and initvals) are given as a single list argument to initialize-object. The instance returned by create is the new instance, which has been modified and returned by initialize-object.</p>
            
            <h5 id="initialize_object">Initialize-object</h5>
            <p>The generic function initialize-object is called by create to initialize a newly created instance. It uses standard method combination. Methods for initialize-object can be defined on user-defined classes in order to augment or override the system-supplied slot-filling mechanisms (described below).</p>
            <p>During initialization, initialize-object is invoked after a new instance whose slots are unbound has been created.</p>
            <p>The generic function initialize-object is called with the new instance. There is a system-supplied primary method for initialize-object whose parameter specializer is the class <span class="class">standard-object</span>. This method fills in the slots according to the initialization arguments provided and according to the :initform forms for the slots as follows:</p>
            <ul>
                <li>If the slot already has a value, no attempt is made to change that value.</li>
                <li>If an initialization argument and value pair for the slot was provided among the initialization arguments, the slot is initialized with the value from that pair. The name of the initialization argument for a slot is declared by the :initarg option to slots in defclass. The consequences are undefined if more than one initialization argument for the same slot is supplied.</li>
                <li>If the slot has a default initial value form (see defclass), that form is evaluated in the lexical environment in which that form was established and in the current dynamic environment. The result of the evaluation is an object which becomes the value of the slot.</li>
                <li>Otherwise, the slot is left uninitialized.</li>
            </ul>
            
            <div id="gf_initialize_object" class="definition-generic">
                (<span class="operator">initialize-object</span> <span class="arg">instance</span> <span class="arg">initialization-arguments</span>) → <span class="class">object</span>
            </div>
            
            <p>The generic function initialize-object is called by create to initialize a newly created instance. The generic function initialize-object is called with the new instance and a list of initialization arguments.</p>
            
            <p>The system-supplied primary method on initialize-object initializes the slots of the instance with values according to the initialization-arguments (an alternating list of initialization argument keywords and values) and the :initform forms of the slots.</p>
            <p>The instance argument is the object to be initialized. The modified instance is returned as the result. Programmers can define methods for initialize-object to specify actions to be taken when an instance is initialized. If only :after methods are defined, they will be run after the system-supplied primary method for initialization and therefore will not interfere with the default behavior of initialize-object. The consequences are undefined if a programmer-defined primary method for this generic function does not return instance.</p>
            
            <h4 id="class_enquiry">Class enquiry</h4>
            <div id="f_class_of" class="definition-function">
                (<span class="operator">class-of</span> <span class="arg">obj</span>) → <span class="class">class</span>
            </div>
            
            <p>Returns the class of which the given obj is a direct instance. obj may be any ISLISP object.</p>
            <div id="f_instancep" class="definition-function">
                (<span class="operator">instancep</span> <span class="arg">obj</span> <span class="arg">class</span>) → <span class="nonterminal">boolean</span>
            </div>
            <p>Returns t if obj is an instance (directly or otherwise) of the class class; otherwise, returns nil obj may be any ISLISP object. An error shall be signaled if class is not a class object (error-id. <span class="error_id">domain-error</span>).</p>
            
            <div id="f_subclassp" class="definition-function">
                (<span class="operator">subclassp</span> <span class="arg">class1</span> <span class="arg">class2</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if the class class1 is a subclass of the class class2 ; otherwise, returns nil. An error shall be signaled if either class1 or class2 is not a class object (error-id. <span class="error_id">domain-error</span>).</p>
            <div id="s_class" class="definition-special">
                (<span class="operator">class</span> <span class="arg">class-name</span>) → <span class="class">class</span>
            </div>
            <p>Returns the class object that corresponds to the class named class-name.</p>
            
            <h3 id="macros">Macros</h3>
            <p>Macros are a feature to extend the language syntactically. A macro is an abstraction for surface transformations. Because ISLISP texts (<span class="latin">e.g.</span>, function definitions) can be represented internally by objects in ISLISP, the surface transformations can be described by means of list processing. Forms are represented by conses or other objects and a macro describes a transformation function from one group of objects onto another.</p>
            <p>Macros can be internally defined by expander functions which implement the transformation from one group of objects to another. The operation of an expander functions is specified by a defmacro defining form.</p>
            <p>An expander receives a form as argument and returns a different form as value. The primary activity of an expander is to create sets of nested lists; for this purpose, the backquote facility is provided.</p>
            <p>Macros are expanded at preparation time. No runtime information is available.</p>
            <p>The set of usable operations is restricted to simple data structure creation and manipulation; those operations are forbidden that cause side-effects to the environment (such as I/O to the terminal), to externally accessible data structure (such as a modification to the property list of a symbol), or to the macro form itself.</p>
            <p>Macro definitions are allowed only at toplevel. Redefinition (<span class="latin">i.e.</span>, multiple definition) of macros is forbidden. A macro's definition must textually precede any use of that macro during preparation for execution.</p>
            <p>The result of expanding a macro form is another form. If that form is a macro form, it is expanded by the same mechanism until the result is not a macro form.</p>
            <p>When a toplevel form is a macro form, its resulting macro expansion is also considered to be a toplevel form.</p>
            <p>A macro form can appear as the place specified in a setf special form. See setf on page 35.</p>
            <div id="def_defmacro" class="definition-defining">
                (<span class="operator">defmacro</span> <span class="arg">macro-name</span> <span class="arg">lambda-list</span> <span class="arg">form</span>*) → <span class="class">symbol</span>
            </div>
            
            <p>Defines a named (toplevel) macro. No implicit block with the macro name is established when the macro-expansion function is invoked. macro-name must be an identifier whose scope is the current toplevel scope in which the defmacro form appears. lambda-list is as defined in page 23. The definition point of macro-name is the closing parenthesis of the lambda-list.</p>
<pre class="example">
(defmacro caar(x) (list 'car (list 'car x)))
⇒ caar
</pre>
            
            <div id="syn_backquote" class="definition-syntax">
                `<span class="operator">form</span> → <span class="class">object</span>
            </div>
            <div id="syn_comma" class="definition-syntax">
                ,<span class="operator">form</span> → <span class="class">object</span>
            </div>
            <div id="syn_comma_at" class="definition-syntax">
                ,@<span class="operator">form</span> → <span class="class">object</span>
            </div>
            
            <p id="quasiquote">` or quasiquote constructs a list structure. quasiquote, like quote, returns its argument unevaluated if no commas or the syntax , (unquote) or ,@ (unquote-splicing) appear within the form.</p>
            <p>, (unquote) syntax is valid only within ` (quasiquote) expressions. When appearing within a quasiquote the form is evaluated and its result is inserted into the quasiquote structure instead of the unquote form.</p>
            
            <p>,@ (unquote-splicing) is also syntax valid only within ` expressions. When appearing within a quasiquote the expression form must evaluate to a list. The elements of the list are spliced into the enclosing list in place of the unquote-splicing form sequence.</p>
            <p>Quasiquote forms may be nested. Substitutions are made only for unquoted expressions appearing at the same nesting level, which increases by one inside each successive quasiquotation and decreases by one inside each unquotation.</p>
<pre class="example">
`(list ,(+ 1 2) 4)
⇒ (list 3 4)

(let ((name 'a)) `(list name ,name ',name))
⇒ (list name a (quote a))

`(a ,(+ 1 2) ,@(create-list 3 'x) b)
⇒ (a 3 x x x b)

`((foo ,(- 10 3)) ,@(cdr '(c)) . ,(car '(cons)))
⇒ ((foo 7) . cons)

`(a `(b ,(+ 1 2) ,(foo ,(+ 1 3) d) e) f)
⇒ (a `(b ,(+ 1 2) ,(foo 4 d) e) f)

(let ((name1 'x)
      (name2 'y))
  `(a `(b ,,name1 ,',name2 d) e))
⇒ (a `(b ,x ,'y d) e)
</pre>
            
            <h3 id="declarations_and_coercions">Declarations and coercions</h3>
            <div id="s_the" class="definition-special">
                (<span class="operator">the</span> <span class="arg">class-name</span> <span class="arg">form</span>) → <span class="class">object</span>
            </div>
            <div id="s_assure" class="definition-special">
                (<span class="operator">assure</span> <span class="arg">class-name</span> <span class="arg">form</span>) → <span class="class">object</span>
            </div>
            <p>These forms evaluate form. If form returns, the returned value is returned by the the or assure form. In addition, these forms specify that the value of form is of the class specified by class-name (which must be the name of an existing class).</p>
            <p>In a the special form, the consequences are undefined if the value of form is not of the class or a subclass of the class designated by class-name. In an assure special form, an error shall be signaled if the value of form is not of the class or a subclass of the class designated by class-name (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(the <span class="class">integer</span> 10)    ⇒ 10

(the <span class="class">number</span> 10)     ⇒ 10

(the <span class="class">float</span> 10)      the consequences are undefined

(assure <span class="class">integer</span> 10) ⇒ 10

(assure <span class="class">number</span> 10)  ⇒ 10

(assure <span class="class">float</span> 10)   an error shall be signaled
</pre>
            <div id="s_convert" class="definition-special">
                (<span class="operator">convert</span> <span class="arg">obj</span> <span class="arg">class-name</span>) → <span class="class">object</span>
            </div>
            
            <p>Returns an object of class class-name which corresponds to the object obj according to one of the following projections, called a coercion function. The table shows obj along the left-hand column and class-name along the top row (with &lt;&gt;'s in class names omitted here only for textual brevity):</p>
            
            <table border="1">
                <tr>
                    <th>character</th>
                    <th>integer</th>
                    <th>ﬂoat</th>
                    <th>symbol</th>
                    <th>string</th>
                    <th>general-vector</th>
                    <th>list</th>
                </tr>
                <tr>
                    <td>character</td>
                    <td>=</td>
                    <td>I</td>
                    <td>-</td>
                    <td>I(3)</td>
                    <td>-(4)</td>
                    <td>-</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>integer</td>
                    <td>I</td>
                    <td>=</td>
                    <td>X</td>
                    <td>-</td>
                    <td>X(5)</td>
                    <td>-</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>ﬂoat</td>
                    <td>-</td>
                    <td>-(1)</td>
                    <td>=</td>
                    <td>-</td>
                    <td>X(6)</td>
                    <td>-</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>symbol</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>=</td>
                    <td>I(3)</td>
                    <td>-</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>string</td>
                    <td>-</td>
                    <td>X(2)</td>
                    <td>X(2)</td>
                    <td>I(3)</td>
                    <td>=</td>
                    <td>X(7)</td>
                    <td>X</td>
                </tr>
                <tr>
                    <td>general-vector</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>=</td>
                    <td>X</td>
                </tr>
                <tr>
                    <td>list</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>X</td>
                    <td>=</td>
                </tr>
            </table>
            <dl class="legend">
                <dt>=</dt>
                <dd>This is the identity function</dd>
                <dt>
                    <dl>
                        <dt>X</dt>
                        <dd>This coercion shall be provided</dd>
                        <dt>X(2)</dt>
                        <dd>An error shall be signaled if this coercion is attempted and the string does not contain the textual representation of a number of the target class. In all other respects, this is the same as parse-number.</dd>
                        <dt>X(5)</dt>
                        <dd>This may be the same as the ~D format directive.</dd>
                        <dt>X(6)</dt>
                        <dd>This may be the same as the ~G format directive.</dd>
                        <dt>X(7)</dt>
                        <dd>This is the identity if strings are vectors in the implementation.</dd>
                    </dl>
                </dt>
                <dt>I</dt>
                <dd>This coercion shall be provided, but its definition is <a href="#td_implementation_defined">implementation defined</a>.
                    <dl>
                        <dt>I(3)</dt>
                        <dd>This coercion shall be provided, but its definition is <a href="#td_implementation_defined">implementation defined</a>. The coercion depends on the implementation's neutral alphabetic characters (see §18.1.2).</dd>
                    </dl>
                </dd>
                <dt>–</dt>
                <dd>An error shall be signaled if this coercion is attempted.
                    <dl>
                        <dt>–(1)</dt>
                        <dd>Programmers requiring this kind of functionality may wish to consider instead using one of the functions, floor, ceiling, round, or truncate.</dd>
                        <dt>–(4)</dt>
                        <dd>programmers requiring this kind of functionality may wish to consider instead using the following: (create-string 1 obj)</dd>
                    </dl>
                </dd>
            </dl>
            <p>If an implementation provides <a href="#td_implementation_defined">implementation-defined</a> classes, it may also provide <a href="#td_implementation_defined">implementation-defined</a> coercions for the names of those classes using convert.</p>
<pre class="example">
(convert 3 <span class="class">float</span>)              ⇒ 3.0

(convert "abc" <span class="class">general-vector</span>) ⇒ #(#\a #\b #\c)

(convert #(a b) <span class="class">list</span>)          ⇒ (a b)
</pre>
            
            <h3 id="symbol_class">Symbol class</h3>
            <p>A symbol (an instance of class <span class="class">symbol</span>) is an object. Symbols can be named or unnamed. A symbol's name is sometimes called a print name because it is used to identify the symbol during reading and printing. Symbols can have associated properties.</p>
            <div id="f_symbolp" class="definition-function">
                (<span class="operator">symbolp</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if obj is a symbol (instance of class <span class="class">symbol</span>); otherwise, returns nil. The obj may be any ISLISP object.</p>
            
<pre class="example">
(symbolp 'a)    ⇒ t

(symbolp "a")   ⇒ nil

(symbolp #\a)   ⇒ nil

(symbolp 't)    ⇒ t

(symbolp t)     ⇒ t

(symbolp 'nil)  ⇒ t

(symbolp nil)   ⇒ t

(symbolp '())   ⇒ t

(symbolp '*pi*) ⇒ t

(symbolp *pi*)  ⇒ nil
</pre>
            
            <h4 id="symbol_names">Symbol names</h4>
            
            <p>Symbols can be either named or unnamed.</p>
            <p>There is a mapping from names to symbols. Distinct symbols (symbols that are not eq) always have distinct names. No such mapping is defined for unnamed symbols.</p>
            <p>The name of a symbol is represented as a string.</p>
            
            <h5 id="notation_for_symbols">Notation for symbols</h5>
            
            <p>The constituent characters of a symbol's name are described in §6.</p>
            <p>A named symbol is denoted by its print name enclosed within the vertical bars (“|”). However, the enclosing vertical bars are not necessary if the symbol satisfies the following conditions:</p>
            <ol>
                <li>
                    <p>The symbol's print name consists only of neutral alphabetic characters (see §18.1.2) or the following additional characters:</p>
<pre>0 1 2 3 4 5 6 7 8 9 + - &lt; &gt; / * = ? _ ! $ % [ ] ^ { } ~</pre>
                    <p>(This set may have additional <a href="#td_implementation_defined">implementation-defined</a> characters.)</p>
                </li>
                <li>
                    <p>The first character of the symbol's print name is a neutral alphabetic character or one of the following characters:</p>
<pre>&lt; &gt; / * = ? _ ! $ % [ ] ^ { } ~</pre>
                    <p>(This set may have additional <a href="#td_implementation_defined">implementation-defined</a> characters.)</p>
                </li>
            </ol>
            
            <p>In addition, the following are the names of symbols that can be written without enclosing vertical bars:</p>
<pre>
+ - 1+ 1-
</pre>
            <p>If the symbol name contains a vertical bar, the vertical bar must be preceded by a backslash <q>\</q>. If the symbol name contains a backslash, the backslash must be preceded by another backslash. For example, <q>|\\\\\|\\\||</q> denotes a symbol whose name is a 5 character string containing backslash, backslash, vertical bar, backslash, vertical bar.</p>
            <div class="note">Note: All required symbols can be written without vertical bars.</div>
            <p id="rest_66">It is <a href="#td_implementation_defined">implementation defined</a> whether the names of symbols can contain colon (:) or ampersand (&amp;). Consequently, whether &amp;rest and keywords (<span class="latin">e.g.</span>, :rest, :before, and :after) are represented as symbols or something else is <a href="#td_implementation_defined">implementation defined</a>.</p>
            
            <h5 id="alphabetic_case_in_symbol_names">Alphabetic case in symbol names</h5>
            <p>If the enclosing vertical bars are omitted, the case of alphabetic characters in a symbol is translated by the reader to a canonical case that is used internally. Therefore, for example, each of the following denotes the same symbol in all implementations:</p>
            <ul>
                <li>foo</li>
                <li>foO</li>
                <li>fOo</li>
                <li>fOO</li>
                <li>Foo</li>
                <li>FoO</li>
                <li>FOo</li>
                <li>FOO</li>
            </ul>
            <p>Internally, alphabetic case in a symbol's print name is maintained, and is significant. For example, |FOO| and |foo| are not the same symbol in any implementation. However, the reader canonicalizes the case of symbols whose names are not written enclosed by vertical bars. So foo and FOO both represent the same symbol, but it is <a href="#td_implementation_defined">implementation defined</a> whether that symbol is |foo| or |FOO|.</p>
            <p id="neutral_alphabetic_case">Specifically, each implementation has an <a href="#td_implementation_defined">implementation-defined</a> attribute called its neutral alphabetic case, which is either <q>lowercase</q> or <q>uppercase.</q> If the neutral alphabetic case of an implementation is lowercase, the neutral alphabetic characters for that implementation are defined to be as follows:</p>
<pre>a b c d e f g h i j k l m n o p q r s t u v w x y z</pre>
            <p>Otherwise (if the neutral alphabetic case of an implementation is uppercase), the neutral alphabetic characters for that implementation are defined to be as follows:</p>
<pre>A B C D E F G H I J K L M N O P Q R S T U V W X Y Z</pre>
            <p>Continuing again with the above example, if the neutral alphabetic case of an implementation is lowercase, foo, FOO and |foo| denote the same symbol; otherwise, foo, FOO and |FOO| denote the same symbol.</p>
            <p>An implementation may extend the set of neutral alphabetic characters to include additional <a href="#td_implementation_defined">implementation-defined</a> characters.</p>
            
            <h5 id="nil_and">nil and ()</h5>
            <p>The symbol nil, which represents both the false value and the empty list, can also be denoted by ().</p>
            
            
            <h4 id="symbol_properties">Symbol properties</h4>
            
            <p>A property of a symbol is a named association between a property indicator and a property value. A symbol s is said to have a property p if a property indicator p is associated with s.</p>
            <div id="f_property" class="definition-function">
                (<span class="operator">property</span> <span class="arg">symbol</span> <span class="arg">property-name</span> [<span class="arg">obj</span>]) → <span class="class">object</span>
            </div>
            <p>Returns the value of the property named property-name associated with the symbol symbol . If symbol has no property named property-name, obj (which defaults to nil) is returned.</p>
            <p>An error shall be signaled if either symbol or property-name is not a symbol (error-id. <span class="error_id">domain-error</span>). obj may be any ISLISP object</p>
<pre class="example">
(property 'zeus 'daughter) ⇒ athena
</pre>
            <div id="s_setf_property" class="definition-special-form">
                (<span class="operator">setf</span> (<span class="operator">property</span> <span class="arg">symbol</span> <span class="arg">property-name</span>) <span class="arg">obj</span>) → <span class="class">object</span>
            </div>
            <div id="f_set_property" class="definition-function">
                (<span class="operator">set-property</span> <span class="arg">obj</span> <span class="arg">symbol</span> <span class="arg">property-name</span>) → <span class="class">object</span>
            </div>
            <p>Causes obj to be the new value of the property named property-name asssociated with the symbol symbol . If the property named property-name already exists, its corresponding property value is replaced; otherwise, a new property is created. obj is returned.</p>
            <p>An error shall be signaled if either symbol or property-name is not a symbol (error-id. <span class="error_id">domain-error</span>). obj may be any ISLISP object</p>
            
<pre class="example">
(setf (property 'zeus 'daughter) 'athena)
⇒ athena

(set-property 'athena 'zeus 'daughter)
⇒ athena
</pre>
            <div id="f_remove_property" class="definition-function">
                (<span class="operator">remove-property</span> <span class="arg">symbol</span> <span class="arg">property-name</span>) → <span class="class">object</span>
            </div>
            
            <p>Removes the property property-name associated with symbol and returns the property value of the removed property if there is such a property. If there is no such property, nil is returned.</p>
            <p>An error shall be signaled if either symbol or property-name is not a symbol (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(remove-property 'zeus 'daughter) ⇒ athena
</pre>
            
            <h4 id="unnamed_symbols">Unnamed symbols</h4>
            <div id="f_gensym" class="definition-function">
                (<span class="operator">gensym</span>) → <span class="class">symbol</span>
            </div>
            
            <p>Returns an unnamed symbol. gensym is useful for writing macros. It is impossible for an identifier to name an unnamed symbol.</p>
<pre class="example">
(defmacro twice (x)
  (let ((v (gensym)))
    `(let ((,v ,x)) (+ ,v ,v)))) ⇒ twice

(twice 5)                        ⇒ 10
</pre>
            
            <h3 id="number_class">Number class</h3>
            <p>The class <span class="class">number</span> has the disjoint subclasses <span class="class">float</span> and <span class="class">integer</span>.</p>
            
            <h4 id="number_class_2">Number class</h4>
            <div id="f_numberp" class="definition-function">
                (<span class="operator">numberp</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if obj is a number (instance of class <span class="class">number</span>); otherwise, returns nil. The obj may be any ISLISP object.</p>
<pre class="example">
(numberp 3)        ⇒ t

(numberp -0.3)     ⇒ t

(numberp '(a b c)) ⇒ nil

(numberp "17")     ⇒ nil
</pre>
            
            <div id="f_parse_number" class="definition-function">
                (<span class="operator">parse-number</span> <span class="arg">string</span>) → <span class="class">number</span>
            </div>
            
            <p>The characters belonging to string are scanned (as if by read) and if the resulting lexeme is the textual representation of a number, the number it represents is returned.</p>
            <p>An error shall be signaled if string is not a string (error-id. <span class="error_id">domain-error</span>). An error shall be signaled if string is not the textual representation of a number (error-id. <span class="error_id">cannot-parse-number</span>).</p>
<pre class="example">
(parse-number "123.34") ⇒ 123.34

(parse-number "#XFACE") ⇒ 64206

(parse-number "-37.")   an error shall be signaled

(parse-number "-.5")    an error shall be signaled

since floating-point number lexemes have
at least one mantissa digit before and at least
one mantissa digit after the decimal point.
</pre>
            
            <div id="f_math_eq" class="definition-function">
                (<span class="operator">=</span> <span class="arg">x<sub>1</sub></span> <span class="arg">x<sub>2</sub></span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if x<sub>1</sub> has the same mathematical value as x<sub>2</sub> ; otherwise, returns nil. An error shall be signaled if either x<sub>1</sub> or x<sub>2</sub> is not a number (error-id. <span class="error_id">domain-error</span>).</p>
            <div class="note">Note: = differs from eql because = compares only the mathematical values of its arguments, whereas eql also compares the representations.</div>
<pre class="example">
(= 3 4)                            ⇒ nil

(= 3 3.0)                          ⇒ t

(= (parse-number "134.54") 134.54) ⇒ t

(= 0.0 -0.0)                       ⇒ t
</pre>
            
            <div id="f_math_neq" class="definition-function">
                (<span class="operator">/=</span> <span class="arg">x1</span> <span class="arg">x2</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if x1 and x2 have mathematically distinct values; otherwise, returns nil. An error shall be signaled if either x1 or x2 is not a number (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(/= 3 4)                            ⇒ t

(/= 3 3.0)                          ⇒ nil

(/= (parse-number "134.54") 134.54) ⇒ nil
</pre>
            
            <div id="f_gteq" class="definition-function">
                (<span class="operator">&gt;=</span> <span class="arg">x<sub>1</sub></span> <span class="arg">x<sub>2</sub></span>) → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_lteq" class="definition-function">
                (<span class="operator">&lt;=</span> <span class="arg">x<sub>1</sub></span> <span class="arg">x<sub>2</sub></span>) → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_gt" class="definition-function">
                (<span class="operator">&gt;</span> <span class="arg">x<sub>1</sub></span> <span class="arg">x<sub>2</sub>)</span> → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_lt" class="definition-function">
                (<span class="operator">&lt;</span> <span class="arg">x<sub>1</sub></span> <span class="arg">x<sub>2</sub></span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>&gt;= returns t if x<sub>1</sub> is greater than or = x<sub>2</sub> . &lt;= returns t if x<sub>1</sub> is less than or = x<sub>2</sub> . &gt; returns t if x<sub>1</sub> is greater than x<sub>2</sub>. &lt; returns t if x<sub>1</sub> is less than x<sub>2</sub>.</p>
            <p>The mathematical values of the arguments are compared. An error shall be signaled if either x<sub>1</sub> or x<sub>2</sub> is not a number (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(&gt; 2 2)    ⇒ nil

(&gt; 2.0 2)  ⇒ nil

(&gt; 2 -10)  ⇒ t

(&gt; 100 3)  ⇒ t

(&lt; 2 2)    ⇒ nil

(&lt; 1 2)    ⇒ t

(&gt;= 2 2)   ⇒ t

(&gt;= 2.0 2) ⇒ t

(&gt;= -1 2)  ⇒ nil

(&lt;= -1 2)  ⇒ t

(&lt;= 2 -1)  ⇒ nil
</pre>
            
            <p>In the remaining definitions in this section, any noted coercion to <span class="class">float</span> is done as if by float or by (convert z <span class="class">float</span>).</p>
            <div id="f_plus" class="definition-function">
                (<span class="operator">+</span> <span class="arg">x</span>*) → <span class="class">number</span>
            </div>
            <div id="f_muptiply" class="definition-function">
                (<span class="operator">*</span> <span class="arg">x</span>*) → <span class="class">number</span>
            </div>
            
            <p>The functions + and * return the sum and the product, respectively, of their arguments. If all arguments are integers, the result is an integer. If any argument is a ﬂoat, the result is a ﬂoat. When given no arguments, + returns 0 and * returns 1. An error shall be signaled if any x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(+ 12 3)   ⇒ 15

(+ 1 2 3)  ⇒ 6

(+ 12 3.0) ⇒ 15.0

(+ 4 0.0)  ⇒ 4.0

(+)        ⇒ 0

(* 12 3)   ⇒ 36

(* 12 3.0) ⇒ 36.0

(* 4.0 0)  ⇒ 0.0

(* 2 3 4)  ⇒ 24

(*)        ⇒ 1
</pre>
            
            <div id="f_minus" class="definition-function">
                (<span class="operator">-</span> <span class="arg">x</span>+) → <span class="class">number</span>
            </div>
            
            <p>Given one argument, x , this function returns its additive inverse. An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
            <p>If an implementation supports a -0.0 that is distinct from 0.0, then (- 0.0) returns -0.0; in implementations where -0.0 and 0.0 are not distinct, (- 0.0) returns 0.0.</p>
            
<pre class="example">
(- 1)              ⇒ -1

(- -4.0)           ⇒ 4.0

(- 4.0)            ⇒ -4.0

(eql (- 0.0) -0.0) ⇒ t

(eql (- -0.0) 0.0) ⇒ t
</pre>
            
            <p>Given more than one argument, x<sub>1</sub> … x<sub>n</sub> , - returns their successive differences, x<sub>1</sub> −x<sub>2</sub> − … −x<sub>n</sub>. An error shall be signaled if any x is not a number (error-id. <span class="error_id">domain-error</span>).
            </p>
<pre class="example">
(- 1 2)      ⇒ -1

(- 92 43)    ⇒ 49

(- 2.3 -3.0) ⇒ 5.3

(- 0.0 0.0)  ⇒ 0.0

(- 3 4 5)    ⇒ -6
</pre>
            
            <div id="f_quotient" class="definition-function">
                (<span class="operator">quotient</span> <span class="arg">dividend</span> <span class="arg">divisor</span>+) → <span class="class">number</span>
            </div>
            <div id="f_reciprocal" class="definition-function">
                (<span class="operator">reciprocal</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            
            <p>The function reciprocal returns the reciprocal of its argument x ; that is, 1/x . An error shall be signaled if x is zero (error-id. <span class="error_id">division-by-zero</span>).</p>
            <p>The function quotient, given two arguments dividend and divisor , returns the quotient of those numbers. The result is an integer if dividend and divisor are integers and divisor evenly divides dividend , otherwise it will be a ﬂoat.</p>
            <p>Given more than two arguments, quotient operates iteratively on each of the divisor<sub>1</sub> … divisor<sub>n</sub> as in dividend /divisor<sub>1</sub> / … /divisor<sub>n</sub>. The type of the result follows from the two-argument case because the three-or-more-argument quotient can be defined as follows:</p>
<pre>
(quotient dividend divisor<sub>1</sub> divisor<sub>2</sub> …)
≡ (quotient (quotient dividend divisor<sub>1</sub>) divisor<sub>2</sub> …)
</pre>
            <p>An error shall be signaled if dividend is not a number (error-id. <span class="error_id">domain-error</span>). An error shall be signaled if any divisor is not a number (error-id. <span class="error_id">domain-error</span>). An error shall be signaled if any divisor is zero (error-id. <span class="error_id">division-by-zero</span>).</p>
<pre class="example">
(reciprocal 2)    ⇒ 0.5

(quotient 10 5)   ⇒ 2

(quotient 1 2)    ⇒ 0.5

(quotient 2 -0.5) ⇒ -4.0

(quotient 0 0.0)  an error shall be signaled

(quotient 2 3 4)  ⇒ 0.16666666666666666
</pre>
            
            <div id="f_max" class="definition-function">
                (<span class="operator">max</span> <span class="arg">x</span>+) → <span class="class">number</span>
            </div>
            <div id="f_min" class="definition-function">
                (<span class="operator">min</span> <span class="arg">x</span>+) → <span class="class">number</span>
            </div>
            
            <p>The function min returns the least (closest to negative infinity) of its arguments. The comparison is done by &lt;.</p>
            <p>The function max returns the greatest (closest to positive infinity) of its arguments. The comparison is done by &gt;.</p>
            <p>An error shall be signaled if any x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(max -5 3)       ⇒ 3

(max 2.0 3)      ⇒ 3

(max 2 2.0)      ⇒ 2 or 2.0 (<a href="#td_implementation_defined">implementation-defined</a>)

(max 1 5 2 4 3)  ⇒ 5

(min 3 1)        ⇒ 1

(min 1 2.0)      ⇒ 1

(min 2 2.0)      ⇒ 2 or 2.0 (<a href="#td_implementation_defined">implementation-defined</a>)

(min 1 5 2 5 3)  ⇒ 1
</pre>
            <div id="f_abs" class="definition-function">
                (<span class="operator">abs</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            
            <p>The function abs returns the absolute value of its argument. An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(abs -3)   ⇒ 3

(abs 2.0)  ⇒ 2.0

(abs -0.0) ⇒ 0.0
</pre>
            
            <div id="f_exp" class="definition-function">
                (<span class="operator">exp</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            
            <p>Returns e raised to the power x , where e is the base of the natural logarithm. An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(exp 1)    ⇒ 2.718281828459045

(exp 2)    ⇒ 7.38905609893065

(exp 1.23) ⇒ 3.4212295362896734

(exp 0)    ⇒ 1 or 1.0 (<a href="#td_implementation_defined">implementation-defined</a>)
</pre>
            
            <div id="f_log" class="definition-function">
                (<span class="operator">log</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            
            <p>Returns the natural logarithm of x . An error shall be signaled if x is not a positive number (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(log 2.718281828459045) ⇒ 1.0

(log 10)                ⇒ 2.302585092994046

(log 1)                 ⇒ 0 or 0.0 (<a href="#td_implementation_defined">implementation-defined</a>)
</pre>
            
            <div id="f_expt" class="definition-function">
                (<span class="operator">expt</span> <span class="arg">x<sub>1</sub></span> <span class="arg">x<sub>2</sub></span>) → <span class="class">number</span>
            </div>
            
            <p>Returns x<sub>1</sub> raised to the power x<sub>2</sub>. The result will be an integer if x<sub>1</sub> is an integer and x<sub>2</sub> is a non-negative integer. An error shall be signaled if x<sub>1</sub> is zero and x<sub>2</sub> is negative, or if x<sub>1</sub> is zero and x<sub>2</sub> is a zero ﬂoat, or if x<sub>1</sub> is negative and x<sub>2</sub> is not an integer.</p>
            
<pre class="example">
(expt2 3)       ⇒ 8

(expt -100 2)   ⇒ 10000

(expt 4 -2)     ⇒ 0.0625

(expt 0.5 2)    ⇒ 0.25

(expt x 0)      ⇒ 1        if x is an integer

(expt x 0)      ⇒ 1.0      if x is a float

(expt -0.25 -1) ⇒ -4.0

(expt 100 0.5)  ⇒ 10.0

(expt 100 -1.5) ⇒ 0.001

(expt x 0.0)    ⇒ 1.0      if x is a positive float

(expt 0.0 0.0)   an error shall be signaled
</pre>
            
            <div id="f_sqrt" class="definition-function">
                (<span class="operator">sqrt</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            <p>Returns the non-negative square root of x. An error shall be signaled if x is not a non-negative number (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(sqrt 4)   ⇒ 2

(sqrt 2)   ⇒ 1.4142135623730951

(sqrt -1) an error shall be signaled
</pre>
            
            <div id="c_pi" class="definition-constant">
                <span class="terminal">*pi*</span> → <span class="class">float</span>
            </div>
            <p>The value of this constant is an approximation of π.</p>
            
<pre class="example">
*pi*  ⇒ 3.141592653589793
</pre>
            
            <div id="f_sin" class="definition-function">
                (<span class="operator">sin</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            <div id="f_cos" class="definition-function">
                (<span class="operator">cos</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            <div id="f_tan" class="definition-function">
                (<span class="operator">tan</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            
            <p>The function sin returns the sine of x . The function cos returns the cosine of x . The function tan returns the tangent of x . In each case, x must be given in radians.</p>
            <p>An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
;; Note that conforming processors are permitted to vary
;; in the floating precision of these results.
(sin 1)     ⇒ 0.8414709848078965

(sin 0)     ⇒ 0 or 0.0 (<a href="#td_implementation_defined">implementation-defined</a>)

(sin 0.001) ⇒ 9.999998333333417E-4

(cos 1)     ⇒ 0.5403023058681398

(cos 0)     ⇒ 1 or 1.0 (<a href="#td_implementation_defined">implementation-defined</a>)

(cos 0.001) ⇒ 0.9999995000000417

(tan 1)     ⇒ 1.557407724654902

(tan 0)     ⇒ 0 or 0.0 (<a href="#td_implementation_defined">implementation-defined</a>)

(tan 0.001) ⇒ 0.0010000003333334668
</pre>
            
            <div id="f_atan" class="definition-function">
                (<span class="operator">atan</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            
            <p>Returns the arc tangent of x.</p>
            <p>The result is a (real) number that lies between −π/2 and π/2 (both exclusive).</p>
            <p>The following definition for (one-argument) arc tangent determines the range and branch cuts:</p>
            
            <table border="1">
                <tr>
                    <td>arctan x</td>
                    <td>=</td>
                    <td>
                        <table border="1">
                            <tr>
                                <td style="border-bottom: black thin solid">log (1 + ix) - log (1 - ix)</td>
                            </tr>
                            <tr>
                                <td>2i</td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            
            <p>An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
            
            <div id="f_atan2" class="definition-function">
                (<span class="operator">atan2</span> <span class="arg">x1</span> <span class="arg">x2</span>) → <span class="class">number</span>
            </div>
            
            <p>Given a point (x<sub>2</sub>, x<sub>1</sub>) in rectangular coordinates, this function returns the phase of its representation in polar coordinates. If x<sub>1</sub> is zero and x<sub>2</sub> is negative, the result is positive. If x<sub>1</sub> and x<sub>2</sub> are both zero, the result is <a href="#td_implementation_defined">implementation defined</a>.</p>
            <p>An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
            <p>The value of atan2 is always between −π (exclusive) and π (inclusive) when minus zero is not supported; when minus zero is supported, the range includes −π.</p>
            
            <table border="1">
                <caption>Figure 3. Quadrant information for atan2</caption>
                <tr>
                    <th>y Condition</th>
                    <th>x Condition</th>
                    <th>Cartesian locus</th>
                    <th>Range of result</th>
                </tr>
                <tr>
                    <td>y=0</td>
                    <td>x&gt;0</td>
                    <td>Positive x-axis</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>* y=+0</td>
                    <td>x&gt;0</td>
                    <td>Positive x-axis</td>
                    <td>+0</td>
                </tr>
                <tr>
                    <td>* y=-0</td>
                    <td>x&gt;0</td>
                    <td>Positive x-axis</td>
                    <td>-0</td>
                </tr>
                <tr>
                    <td>y&gt;0</td>
                    <td>x&gt;0</td>
                    <td>Quadrant I</td>
                    <td>0&gt;result&gt;π/2</td>
                </tr>
                <tr>
                    <td>y&gt;0</td>
                    <td>x=0</td>
                    <td>Positive y-axis</td>
                    <td>π/2</td>
                </tr>
                <tr>
                    <td>y&gt;0</td>
                    <td>x&lt;0</td>
                    <td>Quadrant II</td>
                    <td>π/2&lt;result&lt;π</td>
                </tr>
                <tr>
                    <td>y=0</td>
                    <td>x&lt;0</td>
                    <td>Negative x-asis</td>
                    <td>π</td>
                </tr>
                <tr>
                    <td>*y=+0</td>
                    <td>x&lt;0</td>
                    <td>Negative x-asis</td>
                    <td>π</td>
                </tr>
                <tr>
                    <td>*y=-0</td>
                    <td>x&lt;0</td>
                    <td>Negative x-asis</td>
                    <td>-π</td>
                </tr>
                <tr>
                    <td>y&lt;0</td>
                    <td>x=0</td>
                    <td>Quadrand III</td>
                    <td>-π&lt;result&lt;0</td>
                </tr>
                <tr>
                    <td>y&lt;0</td>
                    <td>x&gt;0</td>
                    <td>Negative y-axis</td>
                    <td>-π/2</td>
                </tr>
                <tr>
                    <td>y&lt;0</td>
                    <td>x=0</td>
                    <td>Quadrant IV</td>
                    <td>-π/2&lt;result&lt;0</td>
                </tr>
                <tr>
                    <td>y=0</td>
                    <td>x=0</td>
                    <td>Origin</td>
                    <td><a href="#td_implementation_defined">implementation defined</a></td>
                </tr>
                <tr>
                    <td>*y=+0</td>
                    <td>x=+0</td>
                    <td>Origin</td>
                    <td>+0</td>
                </tr>
                <tr>
                    <td>*y=-0</td>
                    <td>x=+0</td>
                    <td>Origin</td>
                    <td>-0</td>
                </tr>
                <tr>
                    <td>*y=+0</td>
                    <td>x=-0</td>
                    <td>Origin</td>
                    <td>π</td>
                </tr>
                <tr>
                    <td>*y=-0</td>
                    <td>x=-0</td>
                    <td>Origin</td>
                    <td>-π</td>
                </tr>
            </table>
            
            <p>The signs of x<sub>1</sub> (indicated as y) and x<sub>2</sub> (indicated as x) are used to derive quadrant information. Figure 19.1 details various special cases. The asterisk (*) indicates that the entry in the figure applies to implementations that support minus zero.</p>
<pre class="example">
(atan2 0 3.0)     ⇒ 0 or 0.0 (<a href="#td_implementation_defined">implementation-defined</a>)

(atan2 1 1)       ⇒ 0.7853981633974483

(atan2 1.0 -0.3)  ⇒ 1.8622531212727635

(atan2 0.0 -0.5)  ⇒ 3.141592653589793

(atan2 -1 -1)     ⇒ -2.356194490192345

(atan2 -1.0 0.3)  ⇒ -1.2793396

(atan2 0.0 0.5)   ⇒ 0.0
                
(defun asin (x) (atan2 x (sqrt (- 1 (expt x 2))))) ⇒ asin

(defun acos (x) (atan2 (sqrt (- 1 (expt x 2))) x)) ⇒ acos

(defun atan (x) (atan2 x 1)) ⇒ atan
</pre>
            
            <div id="f_sinh" class="definition-function">
                (<span class="operator">sinh</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            <div id="f_cosh" class="definition-function">
                (<span class="operator">cosh</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            <div id="f_tanh" class="definition-function">
                (<span class="operator">tanh</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            
            <p>The function sinh returns the hyperbolic sine of x . The function cosh returns the hyperbolic cosine of x . The function tanh returns the hyperbolic tangent of x.</p>
            <p>An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(sinh 1)     ⇒ 1.1752011936438014

(sinh 0)     ⇒ 0 or 0.0 (<a href="#td_implementation_defined">implementation-defined</a>)

(sinh 0.001) ⇒ 0.001000000166666675

(sinh 1)     ⇒ 1.5430806348152437

(cosh 0)     ⇒ 1 or 1.0 (<a href="#td_implementation_defined">implementation-defined</a>)

(cosh 0.001) ⇒ 1.0000005000000416

(tanh 1)     ⇒ 0.7615941559557649

(tanh 0)     ⇒ 0 or 0.0 (<a href="#td_implementation_defined">implementation-defined</a>)

(tanh 0.001) ⇒ 9.999996666668002E-4
</pre>
            
            <div id="f_atanh" class="definition-function">
                (<span class="operator">atanh</span> <span class="arg">x</span>) → <span class="class">number</span>
            </div>
            
            <p>Returns the hyperbolic arc tangent of x . An error shall be signaled if x is not a number with absolute value less than 1 (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(atanh 0.5)   ⇒ 0.5493061443340549

(atanh 0)     ⇒ 0 or 0.0 (<a href="#td_implementation_defined">implementation-defined</a>)

(atanh 0.001) ⇒ 0.0010000003333335335
                
(defun asinh (x) (atanh (quotient x (sqrt (+ 1 (expt x 2)))))) ⇒ asinh
                
(defun acosh (x) (atanh (quotient (sqrt (* (- x 1) (+ x 1))) x))) ⇒ acosh
</pre>
            
            <h4 id="float_class">Float class</h4>
            
            <p>This class represents the set of ﬂoating-point numbers. Each ﬂoating-point number is represented by a rational number with some given precision; see IEEE standard 754-1985 for details.</p>
            <p>Floating-point numbers are written in one of the following formats:</p>
<pre>
[s]dd … d.dd … d
[s]dd … d.dd … dE[s]dd … d
[s]dd … d.dd … de[s]dd … d
[s]dd … dE[s]dd … d
[s]dd … de[s]dd … d
</pre>
            <p>where s is either <q>+</q> or <q>-</q>, and dd … d is at least one digit from <q>0</q>–<q>9</q>.</p>
            <p>There must be at least one digit before the decimal point and at least one mantissa digit after the decimal point.</p>
            
            <div id="c_most_positive_float" class="definition-constant">
                <span class="terminal">*most-positive-float*</span> → <span class="class">float</span>
            </div>
            <div id="c_most_negative_float" class="definition-constant">
                <span class="terminal">*most-negative-float*</span> → <span class="class">float</span>
            </div>
            
            <p>The value of *most-positive-float* is the <a href="#td_implementation_dependent">implementation-dependent</a> ﬂoating-point number closest to positive infinity.</p>
            <p>The value of *most-negative-float* is the <a href="#td_implementation_dependent">implementation-dependent</a> ﬂoating-point number closest to negative infinity.</p>
            
            <div id="f_floatp" class="definition-function">
                (<span class="operator">floatp</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if obj is a ﬂoat (instance of class <span class="class">float</span>); otherwise, returns nil. The obj may be any ISLISP object.</p>
            
<pre class="example">
(floatp "2.4") ⇒ nil

(floatp 2)     ⇒ nil

(floatp 2.0)   ⇒ t
</pre>
            
            <div id="f_float" class="definition-function">
                (<span class="operator">float</span> <span class="arg">x</span>) → <span class="class">float</span>
            </div>
            
            <p>Returns x itself if it is an instance of the class <span class="class">float</span> and returns a ﬂoating-point approximation of x otherwise. An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(float 0)                           ⇒ 0.0

(float 2)                           ⇒ 2.0

(float -2.0)                        ⇒ -2.0

(float 123456789123456789123456789) ⇒ 1.2345678912345679E26
</pre>
            
            <div id="f_floor" class="definition-function">
                (<span class="operator">floor</span> <span class="arg">x</span>) → <span class="class">integer</span>
            </div>
            
            <p>Returns the greatest integer less than or equal to x . That is, x is truncated towards negative infinity. An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(floor 3.0)  ⇒ 3

(floor 3.4)  ⇒ 3

(floor 3.9)  ⇒ 3

(floor -3.9) ⇒ -4

(floor -3.4) ⇒ -4

(floor -3.0) ⇒ -3
</pre>
            
            <div id="f_ceiling" class="definition-function">
                (<span class="operator">ceiling</span> <span class="arg">x</span>) → <span class="class">integer</span>
            </div>
            
            <p>Returns the smallest integer that is not smaller than x. That is, x is truncated towards positive infinity. An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(ceiling 3.0)  ⇒ 3

(ceiling 3.4)  ⇒ 4

(ceiling 3.9)  ⇒ 4

(ceiling -3.9) ⇒ -3

(ceiling -3.4) ⇒ -3

(ceiling -3.0) ⇒ -3
</pre>
            
            <div id="f_truncate" class="definition-function">
                (<span class="operator">truncate</span> <span class="arg">x</span>) → <span class="class">integer</span>
            </div>
            
            <p>Returns the integer between 0 and x (inclusive) that is nearest to x. That is, x is truncated towards zero. An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(truncate 3.0)  ⇒ 3

(truncate 3.4)  ⇒ 3

(truncate 3.9)  ⇒ 3

(truncate -3.4) ⇒ -3

(truncate -3.9) ⇒ -3

(truncate -3.0) ⇒ -3
</pre>
            
            <div id="f_round" class="definition-function">
                (<span class="operator">round</span> <span class="arg">x</span>) → <span class="class">integer</span>
            </div>
            
            <p>Returns the integer nearest to x. If x is exactly halfway between two integers, the even one is chosen. An error shall be signaled if x is not a number (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(round 3.0)  ⇒ 3

(round 3.4)  ⇒ 3

(round -3.4) ⇒ -3

(round 3.6)  ⇒ 4

(round -3.6) ⇒ -4

(round 3.5)  ⇒ 4

(round -3.5) ⇒ -4

(round 2.5)  ⇒ 2

(round -0.5) ⇒ 0
</pre>
            
            <h4 id="integer_class">Integer class</h4>
            
            <p>Integer objects correspond to mathematical integers.</p>
            <p>Arithmetic operations that only involve integers behave in a mathematically correct way, regardless of the size of the integer. If there are cases where arithmetic on integers would produce results or intermediate expressions that exceed the precision of the underlying hardware, an ISLISP processor shall simulate any necessary operations in software in order to assure mathematical correctness. The circumstances, if any, for which such simulation is necessary is <a href="#td_implementation_defined">implementation defined</a>; the point at which such simulation will exceed the capacity of the processor is also <a href="#td_implementation_defined">implementation defined</a>.</p>
            <p>Integers are written in one of the following formats.</p>
<pre>
#B [s]bb … b, each b being either <q>0</q> or <q>1</q>.
#b [s]bb … b, each b being either <q>0</q> or <q>1</q>.

#O [s]oo … o, each o being one of <q>0</q>–<q>7</q>.
#o [s]oo … o, each o being one of <q>0</q>–<q>7</q>.

   [s]dd … d, each d being one of <q>0</q>–<q>9</q>.

#X [s]xx … x, each x being one of <q>0</q>–<q>9</q>, <q>A</q>–<q>F</q>, <q>a</q>–<q>f</q>.
#x [s]xx … x, each x being one of <q>0</q>–<q>9</q>, <q>A</q>–<q>F</q>, <q>a</q>–<q>f</q>.
</pre>
            <p>where s is either <q>+</q> or <q>-</q>.</p>
            <div class="note">Note: In ISLISP, there is no variable that controls the reader. Thus the above notations are exactly the notations for integers.</div>
            <div id="f_integerp" class="definition-function">
                (<span class="operator">integerp</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if obj is an integer (instance of class <span class="class">integer</span>); otherwise, returns nil. obj may be any ISLISP object.</p>
            
<pre class="example">
(integerp 3)        ⇒ t 

(integerp 3.4)      ⇒ nil

(integerp "4")      ⇒ nil

(integerp '(a b c)) ⇒ nil
</pre>
            
            <div id="f_div" class="definition-function">
                (<span class="operator">div</span> <span class="arg">z<sub>1</sub></span> <span class="arg">z<sub>2</sub>)</span> → <span class="class">integer</span>
            </div>
            <div id="f_mod" class="definition-function">
                (<span class="operator">mod</span> <span class="arg">z<sub>1</sub></span> <span class="arg">z<sub>2</sub>)</span> → <span class="class">integer</span>
            </div>
            
            <p>div returns the greatest integer less than or equal to the quotient of z<sub>1</sub> and z<sub>2</sub>. An error shall be signaled if z<sub>2</sub> is zero (error-id. <span class="error_id">division-by-zero</span>).</p>
            <p>mod returns the remainder of the integer division of z<sub>1</sub> by z<sub>2</sub>. The sign of the result is the sign of z<sub>2</sub>. The result lies between 0 (inclusive) and z<sub>2</sub> (exclusive), and the difference of z<sub>1</sub> and this result is divisible by z<sub>2</sub> without remainder.</p>
            <p>div and mod satisfy:</p>
<pre>
(= z1 (+ (* (div z<sub>1</sub> z<sub>2</sub>) z<sub>2</sub>) (mod z<sub>1</sub> z<sub>2</sub>)))
</pre>
            <p>That is, the evaluation of the above form always return t.</p>
            <p>An error shall be signaled if either z<sub>1</sub> or z<sub>2</sub> is not an integer (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(div 12 3)   ⇒ 4

(div 14 3)   ⇒ 4

(div -12 3)  ⇒ -4

(div -14 3)  ⇒ -5

(div 12 -3)  ⇒ -4

(div 14 -3)  ⇒ -5

(div -12 -3) ⇒ 4

(div -14 -3) ⇒ 4

(mod 12 3)   ⇒ 0

(mod 7 247)  ⇒ 7

(mod 247 7)  ⇒ 2

(mod 14 3)   ⇒ 2

(mod -12 3)  ⇒ 0

(mod -14 3)  ⇒ 1

(mod 12 -3)  ⇒ 0

(mod 14 -3)  ⇒ -1

(mod -12 -3) ⇒ 0

(mod -14 -3) ⇒ 02
</pre>
            
            <div id="f_gcd" class="definition-function">
                (<span class="operator">gcd</span> <span class="arg">z<sub>1</sub></span> <span class="arg">z<sub>2</sub></span>) → <span class="class">integer</span>
            </div>
            
            <p>gcd returns the greatest common divisor of its integer arguments. The result is a non-negative integer. For nonzero arguments the greatest common divisor is the largest integer z such that z<sub>1</sub> and z<sub>2</sub> are integral multiples of z.</p>
            <p>An error shall be signaled if either z<sub>1</sub> or z<sub>2</sub> is not an integer (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(gcd 12 5)    ⇒ 1

(gcd 15 24)   ⇒ 3

(gcd -15 24)  ⇒ 3

(gcd 15 -24)  ⇒ 3

(gcd -15 -24) ⇒ 3

(gcd 0 -4)    ⇒ 4

(gcd 0 0)     ⇒ 0
</pre>
            
            <div id="f_lcm" class="definition-function">
                (<span class="operator">lcm</span> <span class="arg">z<sub>1</sub></span> <span class="arg">z<sub>2</sub></span>) → <span class="class">integer</span>
            </div>
            <p>lcm returns the least common multiple of its integer arguments. gcd and lcm satisfies:</p>
<pre>
(= (* (gcd m n) (lcm m n)) (abs (* m n)))
</pre>
            <p>That is, the evaluation of the above form always return t.</p>
            <p>An error shall be signaled if either z<sub>1</sub> or z<sub>2</sub> is not an integer (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(lcm 2 3)     ⇒ 6

(lcm 15 24)   ⇒ 120

(lcm 15 -24)  ⇒ 120

(lcm -15 24)  ⇒ 120

(lcm -15 -24) ⇒ 120

(lcm 0 -4)    ⇒ 0

(lcm 0 0)     ⇒ 0
</pre>
            
            <div id="f_isqrt" class="definition-function">
                (<span class="operator">isqrt</span> <span class="arg">z</span>) → <span class="class">integer</span>
            </div>
            
            <p>Returns the greatest integer less than or equal to the exact positive square root of z . An error shall be signaled if z is not a non-negative integer (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(isqrt 49) ⇒ 7

(isqrt 63) ⇒ 7

(isqrt 1000000000000002000000000000000)
           ⇒ 1000000000000000
</pre>
            
            <h3 id="character_class">Character class</h3>
            
            <p>Characters are represented as instances of the <span class="class">character</span> class. This insulates the programmer from particular character codes.</p>
            <p>The ISLISP character set has at least ninety-five printing characters plus a newline character. The ISLISP printing characters are the space character, and the following ninety-four non-blank characters:
            </p>
<pre>
! &quot; # $ % &amp; ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ?
@ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \ ] ^ _
` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~
</pre>
            
            <p>A character literal is denoted by #\ followed by a token which is either the character itself, or, if the character has a name, the character's name. For example, the letter A is denoted by <q>#\A</q>. The newline and space characters have the names <q>newline</q> and <q>space,</q> respectively, so they can be denoted by <q>#\newline</q> and <q>#\space</q>. (Case is not significant when naming a character.)</p>
            <p>Characters are ordered by char&lt;, and this order satisfies:</p>
<pre>
0&lt;1&lt;2&lt;3&lt;4&lt;5&lt;6&lt;7&lt;8&lt;9
A&lt;B&lt;C&lt;D&lt;E&lt;F&lt;G&lt;H&lt;I&lt;J&lt;K&lt;L&lt;M&lt;N&lt;O&lt;P&lt;Q&lt;R&lt;S&lt;T&lt;U&lt;V&lt;W&lt;X&lt;Y&lt;Z
a&lt;b&lt;c&lt;d&lt;e&lt;f&lt;g&lt;h&lt;i&lt;j&lt;k&lt;l&lt;m&lt;n&lt;o&lt;p&lt;q&lt;r&lt;s&lt;t&lt;u&lt;v&lt;w&lt;x&lt;y&lt;z
</pre>
            <p>where char1 &lt; char2 means that (char&lt; char1 char2) is true.</p>
            
            <div id="f_characterp" class="definition-function">
                (<span class="operator">characterp</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if obj is a character (instance of class <span class="class">character</span>); otherwise, returns nil. obj may be any ISLISP object.</p>
            
<pre class="example">
(characterp #\a) ⇒ t

(characterp "a") ⇒ nil

(characterp 'a)  ⇒ nil
</pre>
            
            <div id="f_char_eq" class="definition-function">
                (<span class="operator">char=</span> <span class="arg">char<sub>1</sub></span> <span class="arg">char<sub>2</sub></span>) → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_char_neq" class="definition-function">
                (<span class="operator">char/=</span> <span class="arg">char<sub>1</sub></span> <span class="arg">char<sub>2</sub></span>) → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_char_lt" class="definition-function">
                (<span class="operator">char&lt;</span> <span class="arg">char<sub>1</sub></span> <span class="arg">char<sub>2</sub>)</span> → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_char_gt" class="definition-function">
                (<span class="operator">char&gt;</span> <span class="arg">char<sub>1</sub></span> <span class="arg">char<sub>2</sub></span>) → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_char_lteq" class="definition-function">
                (<span class="operator">char&lt;=</span> <span class="arg">char<sub>1</sub></span> <span class="arg">char<sub>2</sub></span>) → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_char_gteq" class="definition-function">
                (<span class="operator">char&gt;=</span> <span class="arg">char<sub>1</sub></span> <span class="arg">char<sub>2</sub></span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>The function char= tests whether char<sub>1</sub> is the same character as char<sub>2</sub>. The function char&lt; tests whether char<sub>1</sub> is less than char<sub>2</sub>. The function char&lt;= tests whether char<sub>1</sub> is less than or equal to char<sub>2</sub>. The ordering used is the partial order defined above, extended to a total order on all characters in an <a href="#td_implementation_defined">implementation-defined</a> manner. If the test is satisfied, t is returned; otherwise, nil is returned.</p>
            <p>Two characters are char/= if and only if they are not char=. Two characters are char&gt; if and only if they are not char&lt;=. Two characters are char&gt;= if and only if they are not char&lt;.</p>
            <p>An error shall be signaled if either char1 or char2 is not a character (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(char= #\a #\a)     ⇒ t

(char= #\a #\b)     ⇒ nil

(char= #\a #\A)     ⇒ nil

(char/= #\a #\a)    ⇒ nil

(char&lt; #\a #\a)  ⇒ nil

(char&lt; #\a #\b)  ⇒ t

(char&lt; #\b #\a)  ⇒ nil

(char&lt; #\a #\A)  ⇒ nil or t (<a href="#td_implementation_defined">implementation-defined</a>)

(char&lt; #\* #\a)  ⇒ nil or t (<a href="#td_implementation_defined">implementation-defined</a>)

(char&gt; #\b #\a)  ⇒ t

(char&lt;= #\a #\a) ⇒ t

(char&lt;= #\a #\A) ⇒ nil or t (<a href="#td_implementation_defined">implementation-defined</a>)

(char&gt;= #\b #\a) ⇒ t

(char&gt;= #\a #\a) ⇒ t
</pre>
            
            <h3 id="list_class">List class</h3>
            <p>The <span class="class">list</span> class is partitioned into two subclasses <span class="class">cons</span> and <span class="class">null</span>.</p>
            
            <h4 id="cons">Cons</h4>
            <p>A cons (sometimes also called <q>dotted pair</q>) consists of two components; the left component is called car and the right component is called cdr. The constructor of this class is cons. Conses are written as</p>
<pre>(<span class="nonterminal">car</span> . <span class="nonterminal">cdr</span>)</pre>
            <p>where <span class="nonterminal">car</span> and <span class="nonterminal">cdr</span> denote the values in the car and cdr components, respectively, of the cons object. As a special case, if the <span class="nonterminal">cdr</span> value is <span class="terminal">nil</span>, then the cons object is written as</p>
<pre>
(<span class="nonterminal">car</span>)
</pre>
            <p>Thus, in general, a data structure that consists of cons objects will be written in either of the following formats:</p>
<pre>
(<span class="nonterminal">x<sub>1</sub></span> . (<span class="nonterminal">x<sub>2</sub></span> . … (<span class="nonterminal">x<sub>n−1</sub></span> . <span class="nonterminal">x<sub>n</sub></span>)…))

(<span class="nonterminal">x<sub>1</sub></span> . (<span class="nonterminal">x<sub>2</sub></span> . … (<span class="nonterminal">x<sub>n−1</sub>)</span>)…)
</pre>
            <p>These may be written, respectively, as</p>
<pre>
(<span class="nonterminal">x<sub>1</sub></span> <span class="nonterminal">x<sub>2</sub></span> … <span class="nonterminal">x<sub>n−1</sub></span> . <span class="nonterminal">x<sub>n</sub></span>)

(<span class="nonterminal">x<sub>1</sub></span> <span class="nonterminal">x<sub>2</sub></span> … <span class="nonterminal">x<sub>n−1</sub></span>)
</pre>
            <div id="f_consp" class="definition-function">
                (<span class="operator">consp</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns <span class="terminal">t</span> if <span class="nonterminal">obj</span> is a cons (instance of class <span class="class">cons</span>); otherwise, returns <span class="terminal">nil</span>. <span class="nonterminal">obj</span> may be any ISLISP object.</p>
<pre class="example">

<span class="input" contenteditable="true">(consp '(a . b))</span><button class="eval"> ⇒ </button> <span class="output">t</span>

<span class="input" contenteditable="true">(consp '(a b c))</span><button class="eval"> ⇒ </button> <span class="output">t</span>

<span class="input" contenteditable="true">(consp '())</span><button class="eval"> ⇒ </button> <span class="output">nil</span>

<span class="input" contenteditable="true">(consp #(a b))</span><button class="eval"> ⇒ </button> <span class="output">nil</span>
</pre>
            
            <div id="f_cons" class="definition-function">
                (<span class="operator">cons</span> <span class="arg">obj<sub>1</sub></span> <span class="arg">obj<sub>2</sub></span>) → <span class="class">cons</span>
            </div>
            
            <p>This function builds a cons from two objects, with <span class="nonterminal">obj<sub>1</sub></span> as its car (or `left') part and with <span class="nonterminal">obj<sub>2</sub></span> as its cdr (or `right') part. An error shall be signaled if the requested cons cannot be allocated (error-id. <span class="error_id">cannot-create-cons</span>). Both <span class="nonterminal">obj<sub>1</sub></span> and <span class="nonterminal">obj<sub>2</sub></span> may be any ISLISP object.</p>
            
<pre class="example">
<span class="input" contenteditable="true">(cons 'a '())</span><button class="eval"> ⇒ </button><span class="output">(a)</span>

<span class="input" contenteditable="true">(cons '(a) '(b c d))</span><button class="eval"> ⇒ </button><span class="output">((a) b c d)</span>

<span class="input" contenteditable="true">(cons "a" '(b c))</span><button class="eval"> ⇒ </button><span class="output">("a" b c)</span>

<span class="input" contenteditable="true">(cons 'a 3)</span><button class="eval"> ⇒ </button><span class="output">(a . 3)</span>

<span class="input" contenteditable="true">(cons '(a b) 'c)</span><button class="eval"> ⇒ </button><span class="output">((a b) . c)</span>
</pre>
            
            <div id="f_car" class="definition-function">
                (<span class="operator">car</span> <span class="arg">cons</span>) → <span class="class">object</span>
            </div>
            
            <p>The function <span class="terminal">car</span> returns the left component of the <span class="nonterminal">cons</span>. An error shall be signaled if <span class="nonterminal">cons</span> is not a cons (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
<span class="input" contenteditable="true">(car '())</span><button class="eval"> ⇒ </button><span class="output"><span class="comment">an error shall be signaled</span></span>

<span class="input" contenteditable="true">(car '(a b c))</span><button class="eval"> ⇒ </button><span class="output">a</span>

<span class="input" contenteditable="true">(car '((a) b c d))</span><button class="eval"> ⇒ </button><span class="output">(a)</span>

<span class="input" contenteditable="true">(car '(1 . 2))</span><button class="eval"> ⇒ </button><span class="output">1</span>
</pre>
            
            <div id="f_cdr" class="definition-function">
                (<span class="operator">cdr</span> <span class="arg">cons</span>) → <span class="class">object</span>
            </div>
            
            <p>The function <span class="terminal">cdr</span> returns the right component of the <span class="nonterminal">cons</span>. An error shall be signaled if <span class="nonterminal">cons</span> is not a cons (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
<span class="input" contenteditable="true">(cdr '())</span><button class="eval"> ⇒ </button><span class="output"><span class="comment">an error shall be signaled</span></span>

<span class="input" contenteditable="true">(cdr '((a) b c d))</span><button class="eval"> ⇒ </button><span class="output">(b c d)</span>

<span class="input" contenteditable="true">(cdr '(1 . 2))</span><button class="eval"> ⇒ </button><span class="output">2</span>
</pre>
            
            <div class="definition-special-form">
                (<span class="operator">setf</span> (<span class="operator">car</span> <span class="arg">cons</span>) <span class="arg">obj</span>) → <span class="class">object</span>
            </div>
            
            <div id="f_set_car" class="definition-function">
                (<span class="operator">set-car</span> <span class="arg">obj</span> <span class="arg">cons</span>) → <span class="class">object</span>
            </div>
            
            <p>Updates the left component of <span class="nonterminal">cons</span> with <span class="nonterminal">obj</span>. The returned value is <span class="nonterminal">obj</span>. An error shall be signaled if <span class="nonterminal">cons</span> is not a cons (error-id. <span class="error_id">domain-error</span>). <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            
<pre class="example">
(let ((x (list 'apple 'orange)))
  (list x (car x)
        (setf (car x) 'banana)
        x (car x)))
⇒ ((banana orange) apple banana (banana orange) banana)
</pre>
            
            <div id="s_setf_cdr" class="definition-special-form">
                (<span class="operator">setf</span> (<span class="operator">cdr</span> <span class="arg">cons</span>) <span class="arg">obj</span>) → <span class="class">object</span>
            </div>
            
            <div id="f_set_cdr" class="definition-function">
                (<span class="operator">set-cdr</span> <span class="arg">obj</span> <span class="arg">cons</span>) → <span class="class">object</span>
            </div>
            
            <p>Updates the right component of <span class="nonterminal">cons</span> with <span class="nonterminal">obj</span>. The returned value is <span class="nonterminal">obj</span> . An error shall be signaled if <span class="nonterminal">cons</span> is not a cons (error-id. <span class="error_id">domain-error</span>). <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            
<pre class="example">
(let ((x (list 'apple 'orange)))
  (list x (cdr x)
        (setf (cdr x) 'banana)
        x (cdr x)))
⇒ ((apple . banana) (orange) banana (apple . banana) banana)
</pre>
            
            <h4 id="null_class">Null class</h4>
            
            <p>This class consists of only one element, the object called <span class="terminal">nil</span>. This object is the false value in boolean expressions. The length of the sequence <span class="terminal">nil</span> is 0.</p>
            <div id="f_null" class="definition-function">
                (<span class="operator">null</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p><span title="If the naming conventions were strictly observed, null would be named nullp; it is named null for historical and compatibility reasons.">Returns t if <span class="nonterminal">obj</span> is <span class="terminal">nil</span>; otherwise, returns <span class="terminal">nil</span></span>. <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            
<pre class="example">
<span class="input" contenteditable="true">(null '(a b c))</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(null '())</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(null (list))</span><button class="eval"> ⇒ </button><span class="output">t</span>
</pre>
            
            <h4 id="list_operations">List operations</h4>
            
            <div id="f_listp" class="definition-function">
                (<span class="operator">listp</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns <span class="terminal">t</span> if <span class="nonterminal">obj</span> is a list (instance of class <span class="class">list</span>); otherwise, returns <span class="terminal">nil</span>. <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            
<pre class="example">
<span class="input" contenteditable="true">(listp '(a b c))</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(listp '())</span><button class="eval"> ⇒ </button><span class="output">t</span>

<span class="input" contenteditable="true">(listp '(a . b))</span><button class="eval"> ⇒ </button><span class="output">t</span>

(let ((x (list 'a)))
  (setf (cdr x) x)
  (listp x))  ⇒ t

<span class="input" contenteditable="true">(listp "abc")</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(listp #(1 2))</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(listp 'jerome)</span><button class="eval"> ⇒ </button><span class="output">nil</span>
</pre>
            
            <div id="f_create_list" class="definition-function">
                (<span class="operator">create-list</span> <span class="arg">i</span> [<span class="arg">initial-element</span>]) → <span class="class">list</span>
            </div>
            
            <p>Returns a list of length <span class="nonterminal">i</span>. If <span class="nonterminal">initial-element</span> is given, the elements of the new list are initialized with this object; otherwise, the initialization is <a href="#td_implementation_defined">implementation defined</a>. An error shall be signaled if the requested list cannot be allocated (error-id. <span class="error_id">cannot-create-list</span>). An error shall be signaled if <span class="nonterminal">i</span> is not a non-negative integer (error-id. <span class="error_id">domain-error</span>). <span class="nonterminal">initial-element</span> may be any ISLISP object.</p>
<pre class="example">
<span class="input" contenteditable="true">(create-list 3 17)</span><button class="eval"> ⇒ </button><span class="output">(17 17 17)</span>

<span class="input" contenteditable="true">(create-list 2 #\a)</span><button class="eval"> ⇒ </button><span class="output">(#\a #\a)</span>
</pre>
            
            <div id="f_list" class="definition-function">
                (<span class="operator">list</span> <span class="arg">obj</span>*) → <span class="class">list</span>
            </div>
            
            <p>Returns a new list whose length is the number of arguments and whose elements are the arguments in the same order as in the list-form. An error shall be signaled if the requested list cannot be allocated (error-id. <span class="error_id">cannot-create-list</span>). Each <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            
<pre class="example">
<span class="input" contenteditable="true">(list 'a (+ 3 4) 'c)</span><button class="eval"> ⇒ </button><span class="output">(a 7 c)</span>

<span class="input" contenteditable="true">(list)</span><button class="eval"> ⇒ </button><span class="output">nil</span>
</pre>
            
<div id="f_reverse" class="definition-function">
(<span class="operator">reverse</span> <span class="arg">list</span>) → <span class="class">list</span>
</div>
<div id="f_nreverse" class="definition-function">
(<span class="operator">nreverse</span> <span class="arg">list</span>) → <span class="class">list</span>
</div>
            <p>These functions each return a list whose elements are those of the given <span class="nonterminal">list</span>, but in reverse order. An error shall be signaled if <span class="nonterminal">list</span> is not a list (error-id. <span class="error_id">domain-error</span>).</p>
            <p>For <span class="terminal">reverse</span>, no side-effect to the given <span class="nonterminal">list</span> occurs. The resulting list is permitted but not required to share structure with the input <span class="nonterminal">list</span>.</p>
            <p>For <span class="terminal">nreverse</span>, the conses which make up the top level of the given <span class="nonterminal">list</span> are permitted, but not required, to be side-effected in order to produce this new list. <span class="terminal">nreverse</span> should never be called on a literal object.</p>
<pre class="example">
<span class="input" contenteditable="true">(reverse '(a b c d e))</span><button class="eval"> ⇒ </button><span class="output">(e d c b a)</span>

<span class="input" contenteditable="true">(reverse '(a))</span><button class="eval"> ⇒ </button><span class="output">(a)</span>

<span class="input" contenteditable="true">(reverse '())</span><button class="eval"> ⇒ </button><span class="output">()</span>

(let* ((x (list 'a 'b))
       (y (nreverse x)))
  (equal x y))
⇒ <a href="#td_implementation_defined">implementation-defined</a>
</pre>
            
            <div id="f_append" class="definition-function">
                (<span class="operator">append</span> <span class="arg">list</span>*) → <span class="class">list</span>
            </div>
            
            <p>Returns the result of appending all of the <span class="nonterminal">lists</span>, or <span class="terminal">()</span> if given no lists. An error shall be signaled if any <span class="nonterminal">list</span> is not a list (error-id. <span class="error_id">domain-error</span>).</p>
            <p>This function does not modify its arguments. It is <a href="#td_implementation_defined">implementation defined</a> whether and when the result shares structure with its <span class="nonterminal">list</span> arguments.</p>
            <p>An error shall be signaled if the list cannot be allocated (error-id. <span class="error_id">cannot-create-list</span>).</p>
            
<pre class="example">
<span class="input" contenteditable="true">(append '(a b c) '(d e f))</span><button class="eval"> ⇒ </button><span class="output">(a b c d e f)</span>
</pre>
            
            <div id="f_member" class="definition-function">
                (<span class="operator">member</span> <span class="arg">obj</span> <span class="arg">list</span>) → <span class="class">list</span>
            </div>
            
            <p>If <span class="nonterminal">list</span> contains at least one occurrence of <span class="nonterminal">obj</span> (as determined by <span class="terminal">eql</span>), the first sublist of <span class="nonterminal">list</span> whose car is <span class="nonterminal">obj</span> is returned. Otherwise, <span class="terminal">nil</span> is returned. An error shall be signaled if <span class="nonterminal">list</span> is not a list (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
<span class="input" contenteditable="true">(member 'c '(a b c d e f))</span><button class="eval"> ⇒ </button><span class="output">(c d e f)</span>

<span class="input" contenteditable="true">(member 'g '(a b c d e f))</span><button class="eval"> ⇒ </button><span class="output">nil</span>

<span class="input" contenteditable="true">(member 'c '(a b c a b c))</span><button class="eval"> ⇒ </button><span class="output">(c a b c)</span>
</pre>
            
            <div id="f_mapcar" class="definition-function">
                (<span class="operator">mapcar</span> <span class="arg">function</span> <span class="arg">list+</span>) → <span class="class">list</span>
            </div>
            <div id="f_mapc" class="definition-function">
                (<span class="operator">mapc</span> <span class="arg">function</span> <span class="arg">list+</span>) → <span class="class">list</span>
            </div>
            <div id="f_mapcan" class="definition-function">
                (<span class="operator">mapcan</span> <span class="arg">function</span> <span class="arg">list+</span>) → <span class="class">list</span>
            </div>
            <div id="f_maplist" class="definition-function">
                (<span class="operator">maplist</span> <span class="arg">function</span> <span class="arg">list+</span>) → <span class="class">list</span>
            </div>
            <div id="f_mapl" class="definition-function">
                (<span class="operator">mapl</span> <span class="arg">function</span> <span class="arg">list+</span>) → <span class="class">list</span>
            </div>
            <div id="f_mapcon" class="definition-function">
                (<span class="operator">mapcon</span> <span class="arg">function</span> <span class="arg">list+</span>) → <span class="class">list</span>
            </div>
            
            <p>Successively applies the given <span class="nonterminal">function</span> to sets of arguments determined by the given <span class="nonterminal">lists</span>. The way in which the arguments are determined, and the way in which the result is accumulated are how these functions differ.</p>
            <table border="1">
                <tr>
                    <th>Function</th>
                    <th align="center">Argument</th>
                    <th align="center">Result</th>
                </tr>
                <tr>
                    <td><span class="terminal">mapcar</span></td>
                    <td align="center">successive elements</td>
                    <td align="center">successive cons</td>
                </tr>
                <tr>
                    <td><span class="terminal">mapc</span></td>
                    <td align="center">successive elements</td>
                    <td align="center">none (<span class="latin">i.e.</span>, <span class="nonterminal">list<sub>1</sub></span> returned)</td>
                </tr>
                <tr>
                    <td><span class="terminal">mapcan</span></td>
                    <td align="center">successive elements</td>
                    <td align="center">successive <q>destructive append</q></td>
                </tr>
                <tr>
                    <td><span class="terminal">maplist</span></td>
                    <td align="center">successive sublists</td>
                    <td align="center">successive cons</td>
                </tr>
                <tr>
                    <td><span class="terminal">mapl</span></td>
                    <td align="center">successive sublists</td>
                    <td align="center">none (<span class="latin">i.e.</span>, <span class="nonterminal">list<sub>1</sub></span> returned)</td>
                </tr>
                <tr>
                    <td><span class="terminal">mapcon</span></td>
                    <td align="center">successive sublists</td>
                    <td align="center">successive <q>destructive append</q></td>
                </tr>
            </table>
            
            <p><span class="terminal">mapcar</span> operates on successive elements of the <span class="nonterminal">lists</span>. <span class="nonterminal">function</span> is applied to the first element of each <span class="nonterminal">list</span>, then to the second element of each <span class="nonterminal">list</span>, and so on. The iteration terminates when the shortest <span class="nonterminal">list</span> runs out, and excess elements in other <span class="nonterminal">lists</span> are ignored. The value returned by <span class="terminal">mapcar</span> is a list of the results of successive calls to <span class="nonterminal">function</span>.</p>
            <p><span class="terminal">mapc</span> is like <span class="terminal">mapcar</span> except that the results of applying <span class="nonterminal">function</span> are not accumulated; <span class="nonterminal">list<sub>1</sub></span> is returned.</p>
            <p><span class="terminal">maplist</span> is like <span class="terminal">mapcar</span> except that <span class="nonterminal">function</span> is applied to successive sublists of the <span class="nonterminal">lists</span>. <span class="nonterminal">function</span> is first applied to the <span class="nonterminal">lists</span> themselves, and then to the cdr of each <span class="nonterminal">list</span>, and then to the cdr of the cdr of each <span class="nonterminal">list</span>, and so on.</p>
            <p><span class="terminal">mapl</span> is like <span class="terminal">maplist</span> except that the results of applying <span class="nonterminal">function</span> are not accumulated; <span class="nonterminal">list<sub>1</sub></span> is returned.</p>
            <p><span class="terminal">mapcan</span> and <span class="terminal">mapcon</span> are like <span class="terminal">mapcar</span> and <span class="terminal">maplist</span> respectively, except that the results of applying <span class="nonterminal">function</span> are combined into a list by the use of an operation that performs a destructive form of append rather than list.</p>
            <p>An error shall be signaled if <span class="nonterminal">function</span> is not a function (error-id. <span class="error_id">domain-error</span>). An error shall be signaled if any <span class="nonterminal">list</span> is not a list (error-id. <span class="error_id">domain-error</span>).</p>
            <p>In all cases, the calls to <span class="nonterminal">function</span> proceed from left to right, so that if <span class="nonterminal">function</span> has side-effects, it can rely upon being called first on all of the elements with index 0, then on all of those numbered 1, and so on.</p>
<pre class="example">
<span class="input" contenteditable="true">(mapcar #'car '((1 a) (2 b) (3 c)))</span><button class="eval"> ⇒ </button><span class="output">(1 2 3)</span>

<span class="input" contenteditable="true">(mapcar #'abs '(3 -4 2 -5 -6))</span><button class="eval"> ⇒ </button><span class="output">(3 4 2 5 6)</span>

<span class="input" contenteditable="true">(mapcar #'cons '(a b c) '(1 2 3))</span><button class="eval"> ⇒ </button><span class="output">((a . 1) (b . 2) (c . 3))</span>
                
(let ((x 0))
  (mapc (lambda (v) (setq x (+ x v))) '(3 5))
    x)
⇒ 8

<span class="input" contenteditable="true">(maplist #'append '(1 2 3 4) '(1 2) '(1 2 3))</span><button class="eval"> ⇒ </button><span class="output">((1 2 3 4 1 2 1 2 3) (2 3 4 2 2 3))</span>

<span class="input" contenteditable="true">(maplist (lambda (x) (cons 'foo x)) '(a b c d))</span><button class="eval"> ⇒ </button><span class="output">((foo a b c d) (foo b c d) (foo c d) (foo d))</span>

(maplist (lambda (x) (if (member (car x) (cdr x)) 0 1))
         '(a b a c d b c))
⇒ (0 0 1 0 1 1 1)
                
(let ((k 0))
  (mapl (lambda (x)
          (setq k (+ k (if (member (car x) (cdr x)) 0 1))))
    '(a b a c d b c))
  k)
⇒ 4
                
(mapcan (lambda (x) (if (&gt; x 0) (list x)))
  '(-3 4 0 5 -2 7))
⇒ (4 5 7)
                
(mapcon (lambda (x) (if (member (car x) (cdr x)) (list (car x))))
  '(a b a c d b c b c))
⇒ (a b c b c)
                
<span class="input" contenteditable="true">(mapcon #'list '(1 2 3 4))</span><button class="eval"> ⇒ </button><span class="output">((1 2 3 4) (2 3 4) (3 4) (4))</span>
</pre>
            
            <div id="f_assoc" class="definition-function">
                (<span class="operator">assoc</span> <span class="arg">obj</span> <span class="arg">association-list</span>) → <span class="class">list</span>
            </div>
            
            <p>If <span class="nonterminal">assocation-list</span> contains at least one cons whose car is <span class="nonterminal">obj</span> (as determined by <span class="terminal">eql</span>), the first such cons is returned. Otherwise, <span class="terminal">nil</span> is returned. An error shall be signaled if <span class="nonterminal">association-list</span> is not a list of conses (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
<span class="input" contenteditable="true">(assoc 'a '((a . 1) (b . 2)))</span><button class="eval"> ⇒ </button><span class="output">(a . 1)</span>

<span class="input" contenteditable="true">(assoc 'c '((a . 1) (b . 2)))</span><button class="eval"> ⇒ </button><span class="output">nil</span>
</pre>
            
            <h3 id="arrays">Arrays</h3>
            <h4 id="array_classes">Array classes</h4>
            
            <p>Arrays store data in array components, which are indexed by a tuple of non-negative integers called <span class="nonterminal">indices</span>.</p>
            <p>The total number of elements in the array is the product of the dimensions. Zero-dimensional arrays are permissible and, as a consequence of this rule, can store exactly one element, indexed by an empty tuple of indices.</p>
            <p>There are several array classes. For a pictorial representation of their inheritance relationship, see <a href="#figure_1">Figure 1</a>. The following is an explanation of the purpose of each of these classes:</p>
            <dl>
                <dt><span class="class">basic-array</span></dt>
                <dd>
                    <p>All arrays are of the abstract class <span class="class">basic-array</span>, but (as with all abstract classes) there are no direct instances of this class. It is provided for type discrimination purposes only.</p>
                    <p>ISLISP defines two direct subclasses of <span class="class">basic-array</span>: <span class="class">basic-vector</span> and &lt;basic-array*&gt;. These classes are mutually exclusive and form an exhaustive partition of the set of basic-arrays. There shall be no other direct subclasses of <span class="class">basic-array</span>.</p>
                </dd>
                <dt><span class="class">basic-vector</span></dt>
                <dd>
                    <p>All one-dimensional arrays are of the abstract class <span class="class">basic-vector</span>, but (as with all abstract classes) there are no direct instances of this class. It is provided for type discrimination purposes only.</p>
                    <p>ISLISP defines only two direct subclasses of <span class="class">basic-vector</span>: <span class="class">general-vector</span> and <span class="class">string</span>. There may be additional, <a href="#td_implementation_defined">implementation-defined</a> subclasses of <span class="class">basic-vector</span>.</p>
                    <div class="note">Note: An implementation might provide specialized array representations for one-dimensional arrays of bits. If provided, such an array representation would be subclass of <span class="class">basic-vector</span>.</div>
                </dd>
                <dt><span class="class">general-vector</span></dt>
                <dd>An object of class <span class="class">general-vector</span> is a one-dimensional array that is capable of holding elements of type <span class="class">object</span>. When the function create-array is asked to create a one-dimensional array, the resulting array is of this class.</dd>
                <dt><span class="class">string</span></dt>
                <dd>An object of class <span class="class">string</span> is a one-dimensional array that is capable only of holding elements of type <span class="class">character</span>. When the function create-string is used, the result is of this class.</dd>
                <dt><span class="class">basic-array*</span></dt>
                <dd>
                    <p>All non-one-dimensional arrays are of the abstract class &lt;basic-array*&gt;, but (as with all abstract classes) there are no direct instances of this class. It is provided for type discrimination purposes only.</p>
                    <p>ISLISP defines only one direct subclass of &lt;basic-array*&gt;: &lt;general-array*&gt;. There may be additional, <a href="#td_implementation_defined">implementation-defined</a> subclasses of &lt;basic-array*&gt;.</p>
                    <div class="note">Note: An implementation might provide specialized array representations for two-dimensional arrays of 1 or more bits to hold display information for a monochrome or color screen. If provided, such array representations would be subclasses of &lt;basic-array*&gt;.</div>
                </dd>
                <dt><span class="class">general-array*</span></dt>
                <dd>An object of class &lt;general-array*&gt; is a non-one-dimensional array that is capable of holding elements of type <span class="class">object</span>. When the function create-array is asked to create an array of dimensionality other than 1, the resulting array is of this class.</dd>
            </dl>
            
            <h4 id="general_arrays">General arrays</h4>
            <p>An object that is either of class <span class="class">general-vector</span> or of class &lt;general-array*&gt; is sometimes called a <q>general array.</q></p>
            <p>General arrays are capable of storing any object of class <span class="class">object</span>. Those arrays that are not general arrays are the ones restricted to storage objects of more specialized classes.</p>
            <p>A general array can be expressed as a textual literal using #<span class="nonterminal">n</span>a notation (where <span class="nonterminal">n</span> is an integer indicating the number of dimensions of the array) followed by a nested list of sequences denoting the contents of the array. This structure can be defined as follows. If <span class="nonterminal">n</span> = 1 the structure is simply (<span class="nonterminal">obj<sub>1</sub></span> … <span class="nonterminal">obj<sub>n</sub></span>). If <span class="nonterminal">n</span> &gt; 1 and the dimensions are (<span class="nonterminal">n<sub>1</sub></span> <span class="nonterminal">n<sub>2</sub></span> …), the structure is (<span class="nonterminal">str<sub>1</sub></span> … <span class="nonterminal">str<sub>n1</sub></span>), where the <span class="nonterminal">str<sub>i</sub></span> are the structures of the <span class="nonterminal">n<sub>1</sub></span> subarrays, each of which has dimensions (<span class="nonterminal">n<sub>2</sub></span> …). For example, the textual representation of (create-array '(2 3 4) 5) is as follows:
            </p>
<pre>
#3a(((5 5 5 5) (5 5 5 5) (5 5 5 5)) ((5 5 5 5) (5 5 5 5) (5 5 5 5))).
</pre>
            
            <h4 id="array_operations">Array operations</h4>
            
            <p>To manipulate arrays ISLISP provides the following functions.</p>
            
            <div id="f_basic_array_p" class="definition-function">
                (<span class="operator">basic-array-p</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_basic_array_s_p" class="definition-function">
                (<span class="operator">basic-array*-p</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_general_array_s_p" class="definition-function">
                (<span class="operator">general-array*-p</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p><span class="terminal">basic-array-p</span> returns <span class="terminal">t</span> if <span class="nonterminal">obj</span> is a basic-array (instance of class <span class="class">basic-array</span>); otherwise, returns <span class="terminal">nil</span>. <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            <p><span class="terminal">basic-array*-p</span> returns <span class="terminal">t</span> if <span class="nonterminal">obj</span> is a basic-array* (instance of class <span class="class">basic-array*</span>); otherwise, returns <span class="terminal">nil</span>. <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            <p><span class="terminal">general-array*-p</span> returns <span class="terminal">t</span> if <span class="nonterminal">obj</span> is a general-array* (instance of class <span class="class">general-array*</span>); otherwise, returns <span class="terminal">nil</span>. <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            
<pre class="example">
(mapcar (lambda (x)
          (list (basic-array-p x)
                (basic-array*-p x)
                (general-array*-p x)))
        '((a b c)
          "abc"
          #(a b c)
          #1a(a b c)
          #2a((a) (b) (c))))    
⇒ ((nil nil nil) (t nil nil) (t nil nil) (t nil nil) (t t t))
</pre>
            
            <div id="f_create_array" class="definition-function">
                (<span class="operator">create-array</span> <span class="arg">dimensions</span> [<span class="arg">initial-element</span>]) → <span class="class">basic-array</span>
            </div>
            
            <p>This function creates an array of the given <span class="nonterminal">dimensions</span>. The <span class="nonterminal">dimensions</span> argument is a list of non-negative integers.</p>
            <p>The result is of class <span class="class">general-vector</span> if there is only one dimension, or of class <span class="class">general-array*</span> otherwise.</p>
            <p>If <span class="nonterminal">initial-element</span> is given, the elements of the new array are initialized with this object, otherwise the initialization is <a href="#td_implementation_defined">implementation defined</a>.</p>
            <p>An error shall be signaled if the requested array cannot be allocated (error-id. <span class="error_id">cannot-create-array</span>).</p>
            <p>An error shall be signaled if <span class="nonterminal">dimensions</span> is not a proper list of non-negative integers (error-id. <span class="error_id">domain-error</span>). <span class="nonterminal">initial-element</span> may be any ISLISP object.</p>
<pre class="example">
(create-array '(2 3) 0.0) ⇒ #2a((0.0 0.0 0.0) (0.0 0.0 0.0))

(create-array '(2) 0.0)   ⇒ #(0.0 0.0)
</pre>
            
            <div id="f_aref" class="definition-function">
                (<span class="operator">aref</span> <span class="arg">basic-array</span> <span class="arg">z</span>*) → <span class="class">object</span>
            </div>
            <div id="f_garef" class="definition-function">
                (<span class="operator">garef</span> <span class="arg">general-array</span> <span class="arg">z</span>*) → <span class="class">object</span>
            </div>
            
            <p><span class="terminal">aref</span> returns the object stored in the component of the <span class="nonterminal">basic-array</span> specified by the sequence of integers <span class="nonterminal">z</span>. This sequence must have exactly as many elements as there are dimensions in the <span class="nonterminal">basic-array</span>, and each one must satisfy 0 ≤ <span class="nonterminal">zi</span> &lt; <span class="nonterminal">di</span> , <span class="nonterminal">di</span> the <span class="nonterminal">i</span>th dimension and 0 ≤ <span class="nonterminal">i</span> &lt; <span class="nonterminal">d</span>, <span class="nonterminal">d</span> the number of dimensions. Arrays are indexed 0 based, so the ith row is accessed via the index <span class="nonterminal">i</span> − 1.</p>
            <p>An error shall be signaled if <span class="nonterminal">basic-array</span> is not a <a href="#figure_1">basic-array</a> (error-id. <span class="error_id">domain-error</span>). An error shall be signaled if any <span class="nonterminal">z</span> is not a non-negative integer (error-id. <span class="error_id">domain-error</span>).</p>
            <p><span class="terminal">garef</span> is like <span class="terminal">aref</span> but an error shall be signaled if its first argument, <span class="nonterminal">general-array</span>, is not an object of class <a href="#figure_1"><span class="class">general-vector</span></a> or of class <a href="#figure_1"><span class="class">general-array*</span></a> (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(defglobal array1 (create-array '(3 3 3) 0))
⇒ array1
                
array1
⇒ #3a(((0 0 0) (0 0 0) (0 0 0))
      ((0 0 0) (0 0 0) (0 0 0))
      ((0 0 0) (0 0 0) (0 0 0)))
                
(aref array1 0 1 2)                ⇒ 0

(setf (aref array1 0 1 2) 3.14)    ⇒ 3.14

(aref array1 0 1 2)                ⇒ 3.14
                
(aref (create-array '(8 8) 6) 1 1) ⇒ 6

(aref (create-array '() 19))       ⇒ 19
</pre>
            
            <div id="s_setf_aref" class="definition-special-form">
                (<span class="operator">setf</span> (<span class="operator">aref</span> <span class="arg">basic-array</span> <span class="arg">z</span>*) <span class="arg">obj</span>) → <span class="class">object</span>
            </div>
            <div id="f_set_aref" class="definition-function">
                (<span class="operator">set-aref</span> <span class="arg">obj</span> <span class="arg">basic-array</span> <span class="arg">z</span>*) → <span class="class">object</span>
            </div>
            <div class="definition-special-form">
                (<span class="operator">setf</span> (<span class="operator">garef</span> <span class="arg">general-array</span> <span class="arg">z</span>*) obj) → <span class="class">object</span>
            </div>
            <div id="f_set_garef" class="definition-function">
                (<span class="operator">set-garef</span> <span class="arg">obj</span> <span class="arg">general-array</span> <span class="arg">z</span>*) → <span class="class">object</span>
            </div>
            
            <p>These replace the object obtainable by <span class="terminal">aref</span> or <span class="terminal">garef</span> with <span class="nonterminal">obj</span>. The returned value is <span class="nonterminal">obj</span>. The constraints on the <span class="nonterminal">basic-array</span>, the <span class="nonterminal">general-array</span>, and the sequence of indices <span class="nonterminal">z</span> is the same as for <span class="terminal">aref</span> and <span class="terminal">garef</span>.</p>
            
<pre class="example">
(setf (aref array1 0 1 2) 3.15) ⇒ 3.15

(set-aref 51.3 array1 0 1 2)    ⇒ 51.3
</pre>
            
            <div id="f_array_dimensions" class="definition-function">
                (<span class="operator">array-dimensions</span> <span class="arg">basic-array</span>) → <span class="class">list</span>
            </div>
            
            <p>Returns a list of the dimensions of a given <span class="nonterminal">basic-array</span>. An error shall be signaled if <span class="nonterminal">basic-array</span> is not a basic-array (error-id. <span class="error_id">domain-error</span>). The consequences are undefined if the returned list is modified.</p>
            
<pre class="example">
(array-dimensions
  (create-array '(2 2) 0))        ⇒ (2 2)

(array-dimensions (vector 'a 'b)) ⇒ (2)

(array-dimensions "foo")          ⇒ (3)
</pre>
            
            <h3 id="vectors">Vectors</h3>
            
            <p>A vector is a one dimensional array. See <a href="#array_classes">§22.1</a> for detailed information about the relationship of arrays and vectors.</p>
            <p>General vectors are written as follows:</p>
<pre>
#(<span class="nonterminal">x<sub>1</sub></span> <span class="nonterminal">x<sub>2</sub></span> … <span class="nonterminal">x<sub>n</sub></span>)
</pre>
            
            <div id="f_basic_vector_p" class="definition-function">
                (<span class="operator">basic-vector-p</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            <div id="f_general_vector_p" class="definition-function">
                (<span class="operator">general-vector-p</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p><span class="terminal">basic-vector-p</span> returns <span class="terminal">t</span> if <span class="nonterminal">obj</span> is a basic-vector (instance of class <span class="class">basic-vector</span>); otherwise, returns <span class="terminal">nil</span>. <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            <p><span class="terminal">general-vector-p</span> returns <span class="terminal">t</span> if <span class="nonterminal">obj</span> is a general-vector (instance of class <span class="class">general-vector</span>); otherwise, returns <span class="terminal">nil</span>. <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            
<pre class="example">
(mapcar (lambda (x)
          (list (basic-vector-p x)
                (general-vector-p x)))
        '((a b c)
          "abc"
          #(a b c)
          #1a(a b c)
          #2a((a) (b) (c))))
⇒ ((nil nil) (t nil) (t t) (t t) (nil nil))
</pre>
            
            <div id="f_create_vector" class="definition-function">
                (<span class="operator">create-vector</span> <span class="arg">i</span> [<span class="arg">initial-element</span>]) → <span class="class">general-vector</span>
            </div>
            
            <p>Returns a general-vector of length <span class="nonterminal">i</span>. If <span class="nonterminal">initial-element</span> is given, the elements of the new vector are initialized with this object, otherwise the initialization is <a href="#td_implementation_defined">implementation defined</a>. An error shall be signaled if the requested vector cannot be allocated (error-id. <span class="error_id">cannot-create-vector</span>). An error shall be signaled if <span class="nonterminal">i</span> is not a non-negative integer (error-id. <span class="error_id">domain-error</span>). <span class="nonterminal">initial-element</span> may be any ISLISP object.</p>
            
<pre class="example">
(create-vector 3 17)  ⇒ #(17 17 17)

(create-vector 2 #\a) ⇒ #(#\a #\a)
</pre>
            
            <div id="f_vector" class="definition-function">
                (<span class="operator">vector</span> <span class="arg">obj</span>*) → <span class="class">general-vector</span>
            </div>
            
            <p>Returns a new general-vector whose elements are its <span class="nonterminal">obj</span> arguments. The length of the newly created vector is, therefore, the number of <span class="nonterminal">objs</span> passed as arguments. The vector is indexed by integers ranging from 0 to dimension−1. An error shall be signaled if the requested vector cannot be allocated (error-id. <span class="error_id">cannot-create-vector</span>). Each <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            
<pre class="example">
(vector 'a 'b 'c) ⇒ #(a b c)

(vector)          ⇒ #()
</pre>
            
            <h3 id="string_class">String class</h3>
            
            <p>A string is a vector that is capable only of holding elements of type <span class="class">character</span>. See <a href="#array_classes">§22.1</a> for detailed information about the relationship of arrays, vectors, and strings.</p>
            <p>Any <a href="#td_implementation_defined">implementation-defined</a> character can be a string element. In ISLISP, string indices are 0-based. Strings are written by listing all the element characters in order and by enclosing them with double quotes <q>&quot;</q>. If the string has a double quote as its element, the double quote must be preceded by a backslash <q>\</q>. If the string has a backslash as its element, the backslash must be preceded by another backslash. Strings contained in program text as literals are immutable objects. The representation of non-printing characters is <a href="#td_implementation_defined">implementation defined</a>.</p>
            
            <div id="f_stringp" class="definition-function">
                (<span class="operator">stringp</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns <span class="terminal">t</span> if <span class="nonterminal">obj</span> is a string (instance of class <span class="class">string</span>); otherwise, returns <span class="terminal">nil</span>. <span class="nonterminal">obj</span> may be any ISLISP object.</p>
            
<pre class="example">
(stringp "abc") ⇒ t

(stringp 'abc) ⇒ nil
</pre>
            
            <div id="f_create_string" class="definition-function">
                (<span class="operator">create-string</span> <span class="arg">i</span> [<span class="arg">initial-character</span> ]) → <span class="class">string</span>
            </div>
            
            <p>Returns a string of length <span class="nonterminal">i</span>. If <span class="nonterminal">initial-character</span> is given, then the characters of the new string are initialized with this character, otherwise the initialization is <a href="#td_implementation_defined">implementation defined</a>. An error shall be signaled if the requested string cannot be allocated (error-id. <span class="error_id">cannot-create-string</span>). An error shall be signaled if <span class="nonterminal">i</span> is not a non-negative integer or if <span class="nonterminal">initial-character</span> is not a character (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(create-string 3 #\a) ⇒ "aaa"

(create-string 0 #\a) ⇒ ""
</pre>
            
            <div id="f_stringeq" class="definition-function">
                (<span class="operator">string=</span> <span class="arg">string<sub>1</sub></span> <span class="arg">string<sub>2</sub></span>) → <span class="nonterminal">quasi-boolean</span>
            </div>
            <div id="f_stringneq" class="definition-function">
                (<span class="operator">string/=</span> <span class="arg">string<sub>1</sub></span> <span class="arg">string<sub>2</sub></span>) → <span class="nonterminal">quasi-boolean</span>
            </div>
            <div id="f_stringlt" class="definition-function">
                (<span class="operator">string&lt;</span> <span class="arg">string<sub>1</sub></span> <span class="arg">string<sub>2</sub></span>) → <span class="nonterminal">quasi-boolean</span>
            </div>
            <div id="f_stringgt" class="definition-function">
                (<span class="operator">string&gt;</span> <span class="arg">string<sub>1</sub></span> <span class="arg">string<sub>2</sub></span>) → <span class="nonterminal">quasi-boolean</span>
            </div>
            <div id="f_stringgteq" class="definition-function">
                (<span class="operator">string&gt;=</span> <span class="arg">string<sub>1</sub></span> <span class="arg">string<sub>2</sub></span>) → <span class="nonterminal">quasi-boolean</span>
            </div>
            <div id="f_stringlteq" class="definition-function">
                (<span class="operator">string&lt;=</span> <span class="arg">string<sub>1</sub></span> <span class="arg">string<sub>2</sub></span>) → <span class="nonterminal">quasi-boolean</span>
            </div>
            
            <p>The function <span class="terminal">string=</span> tests whether <span class="nonterminal">string<sub>1</sub></span> is the same string as <span class="nonterminal">string<sub>2</sub></span>. The function <span class="terminal">string&lt;</span> tests whether <span class="nonterminal">string<sub>1</sub></span> is less than <span class="nonterminal">string<sub>2</sub></span>. The function <span class="terminal">string&lt;=</span> tests whether <span class="nonterminal">string<sub>1</sub></span> is less than or equal to <span class="nonterminal">string<sub>2</sub></span>.</p>
            <p>The ordering used is based on character comparisons.</p>
            <p>Two strings are <span class="terminal">string=</span> if they are of the same length, <span class="nonterminal">l</span> , and if for every <span class="nonterminal">i</span>, where 0 ≤ <span class="nonterminal">i</span> &lt; <span class="nonterminal">l</span>, (<span class="terminal">char=</span> (<span class="terminal">elt</span> <span class="nonterminal">string<sub>1</sub></span> <span class="nonterminal">i</span>) (<span class="terminal">elt</span> <span class="nonterminal">string<sub>2</sub></span> <span class="nonterminal">i</span>)) holds.</p>
            <p>Two strings <span class="nonterminal">string<sub>1</sub></span> and <span class="nonterminal">string<sub>2</sub></span> are in order (<span class="terminal">string&lt;</span>) if in the first position in which they differ the character of <span class="nonterminal">string<sub>1</sub></span> is <span class="terminal">char&lt;</span> the corresponding character of <span class="nonterminal">string<sub>2</sub></span>, or if the <span class="nonterminal">string<sub>1</sub></span> is a proper prefix of <span class="nonterminal">string<sub>2</sub></span> (of shorter length and matching in all the characters of <span class="nonterminal">string<sub>1</sub></span>).</p>
            <p>Two strings are <span class="nonterminal">string&lt;=</span> if they are either <span class="terminal">string&lt;</span> or they are <span class="terminal">string=</span>.</p>
            <p>Two strings are <span class="terminal">string/=</span> if and only if they are not <span class="terminal">string=</span>. Two strings are <span class="terminal">string&gt;</span> if and only if they are not <span class="terminal">string&lt;=</span>. Two strings are <span class="terminal">string&gt;=</span> if and only if they are not <span class="terminal">string&lt;</span>.</p>
            <p>For these 6 string comparison functions, if the test is satisfied, an <a href="#td_implementation_defined">implementation-defined</a> non-nil value is returned; otherwise, <span class="terminal">nil</span> is returned.</p>
            <p>An error shall be signaled if either <span class="nonterminal">string<sub>1</sub></span> or <span class="nonterminal">string<sub>2</sub></span> is not a string (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(if (string= "abcd" "abcd") t nil)   ⇒ t

(if (string= "abcd" "wxyz") t nil)   ⇒ nil

(if (string= "abcd" "abcde") t nil)  ⇒ nil

(if (string= "abcde" "abcd") t nil)  ⇒ nil

(if (string/= "abcd" "wxyz") t nil)  ⇒ t

(if (string&lt; "abcd" "abcd") t nil)   ⇒ nil

(if (string&lt; "abcd" "wxyz") t nil)   ⇒ t

(if (string&lt; "abcd" "abcde") t nil)  ⇒ t

(if (string&lt; "abcde" "abcd") t nil)  ⇒ nil

(if (string&lt;= "abcd" "abcd") t nil)  ⇒ t

(if (string&lt;= "abcd" "wxyz") t nil)  ⇒ t

(if (string&lt;= "abcd" "abcde") t nil) ⇒ t

(if (string&lt;= "abcde" "abcd") t nil) ⇒ nil

(if (string&gt; "abcd" "wxyz") t nil)   ⇒ nil

(if (string&gt;= "abcd" "abcd") t nil)  ⇒ t
</pre>
            
            <div id="f_char_index" class="definition-function">
                (<span class="operator">char-index</span> <span class="arg">char</span> <span class="arg">string</span> [<span class="arg">start-position</span>]) → <span class="class">object</span>
            </div>
            <p>Returns the position of <span class="nonterminal">char</span> in <span class="nonterminal">string</span>, The search starts from the position indicated by <span class="nonterminal">start-position</span> (which is 0-based and defaults to 0). The value returned if the search succeeds is an offset from the beginning of the string, not from the starting point. If the <span class="nonterminal">char</span> does not occur in the <span class="nonterminal">string</span>, <span class="terminal">nil</span> is returned. The function <span class="terminal">char=</span> is used for the comparisons.</p>
            <p>An error shall be signaled if <span class="nonterminal">char</span> is not a character or if <span class="nonterminal">string</span> is not a string (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(char-index #\b "abcab")   ⇒ 1

(char-index #\B "abcab")   ⇒ nil

(char-index #\b "abcab" 2) ⇒ 4

(char-index #\d "abcab")   ⇒ nil

(char-index #\a "abcab" 4) ⇒ nil
</pre>
            
            <div id="f_string_index" class="definition-function">
                (<span class="operator">string-index</span> <span class="arg">substring</span> <span class="arg">string</span> [<span class="arg">start-position</span>]) → <span class="class">object</span>
            </div>
            
            <p>Returns the position of the given <span class="nonterminal">substring</span> within <span class="nonterminal">string</span>. The search starts from the position indicated by <span class="nonterminal">start-position</span> (which is 0-based and defaults to 0). The value returned if the search succeeds is an offset from the beginning of the string, not from the starting point. If that <span class="nonterminal">substring</span> does not occur in the <span class="nonterminal">string</span>, <span class="terminal">nil</span> is returned. Presence of the <span class="nonterminal">substring</span> is done by sequential use of <span class="terminal">char=</span> on corresponding elements of the two strings.</p>
            <p>An error shall be signaled if either <span class="nonterminal">substring</span> or <span class="nonterminal">string</span> is not a string (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(string-index "foo" "foobar")   ⇒ 0

(string-index "bar" "foobar")   ⇒ 3

(string-index "FOO" "foobar")   ⇒ nil

(string-index "foo" "foobar" 1) ⇒ nil

(string-index "bar" "foobar" 1) ⇒ 3

(string-index "foo" "")         ⇒ nil

(string-index "" "foo")         ⇒ 0
</pre>
            
            <div id="f_string_append" class="definition-function">
                (<span class="operator">string-append</span> <span class="arg">string*</span>) → <span class="class">string</span>
            </div>
            
            <p>Returns a single string containing a sequence of characters that results from appending the sequences of characters of each of the <span class="nonterminal">strings</span>, or "" if given no <span class="nonterminal">strings</span>. An error shall be signaled if any <span class="nonterminal">string</span> is not a string (error-id. <span class="error_id">domain-error</span>).</p>
            <p>This function does not modify its arguments. It is <a href="#td_implementation_defined">implementation defined</a> whether and when the result shares structure with its <span class="nonterminal">string</span> arguments.</p>
            <p>An error shall be signaled if the string cannot be allocated (error-id. <span class="error_id">cannot-create-string</span>).</p>
            
<pre class="example">
(string-append "abc" "def")    ⇒ "abcdef"

(string-append "abc" "abc")    ⇒ "abcabc"

(string-append "abc" "")       ⇒ "abc"

(string-append "" "abc")       ⇒ "abc"

(string-append "abc" "" "def") ⇒ "abcdef"
</pre>
            
            <h3 id="sequence_functions">Sequence functions</h3>
            
            <p>Objects that are either of class <span class="class">basic-vector</span> or of class <span class="class">list</span> are sometimes called <q>sequences</q>. The operations upon sequences are called <q>sequence functions.</q></p>
            
            <div id="f_length" class="definition-function">
                (<span class="operator">length</span> <span class="arg">sequence</span>) → <span class="class">integer</span>
            </div>
            
            <p>Returns the length of <span class="nonterminal">sequence</span> as an integer greater than or equal to 0.</p>
            <p>When <span class="nonterminal">sequence</span> is a basic-vector, <span class="terminal">length</span> returns its dimension.</p>
            <p>When <span class="nonterminal">sequence</span> is a list, the result is the number of elements in the list; if an element is itself a list, the elements within this sublist are not counted. In the case of dotted lists, <span class="terminal">length</span> returns the number of conses at the uppermost level of the list. For example, (<span class="terminal">length</span> '(a b . c)) ⇒ 2, since '(a b . c) ≡ (<span class="terminal">cons</span> 'a (cons 'b 'c)).</p>
            <p>An error shall be signaled if <span class="nonterminal">sequence</span> is not a basic-vector or a list (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(length '(a b c))          ⇒ 3

(length '(a (b) (c d e)))  ⇒ 3

(length '())               ⇒ 0

(length (vector 'a 'b 'c)) ⇒ 3
</pre>
            
            <div id="f_elt" class="definition-function">
                (<span class="operator">elt</span> <span class="arg">sequence</span> <span class="arg">z</span>) → <span class="class">object</span>
            </div>
            
            <p>Given a <span class="nonterminal">sequence</span> and an integer <span class="nonterminal">z</span> satisfying 0 ≤ <span class="nonterminal">z</span> &lt; (<span class="terminal">length sequence</span>), <span class="terminal">elt</span> returns the element of <span class="nonterminal">sequence</span> that has index <span class="nonterminal">z</span>. Indexing is 0-based; <span class="latin">i.e.</span>, <span class="nonterminal">z</span> = 0 designates the first element. An error shall be signaled if <span class="nonterminal">z</span> is an integer outside of the mentioned range (error-id. <span class="error_id">index-out-of-range</span>).</p>
            <p>An error shall be signaled if <span class="nonterminal">sequence</span> is not a basic-vector or a list or if <span class="nonterminal">z</span> is not an integer (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(elt '(a b c) 2)          ⇒ c

(elt (vector 'a 'b 'c) 1) ⇒ b

(elt "abc" 0)             ⇒ #\a
</pre>
            
            <div id="s_setf_elt" class="definition-special-form">
                (<span class="operator">setf</span> (<span class="operator">elt</span> <span class="arg">sequence</span> <span class="arg">z</span>) <span class="arg">obj</span>) → <span class="class">object</span>
            </div>
            
            <div id="f_set_elt" class="definition-function">
                (<span class="operator">set-elt</span> <span class="arg">obj</span> <span class="arg">sequence</span> <span class="arg">z</span>) → <span class="class">object</span>
            </div>
            
            <p>These replace the object obtainable by <span class="terminal">elt</span> with <span class="nonterminal">obj</span>. The returned value is <span class="nonterminal">obj</span>.</p>
            <p>An error shall be signaled if <span class="nonterminal">z</span> is an integer outside of the valid range of indices (error-id. <span class="error_id">index-out-of-range</span>). An error shall be signaled if <span class="nonterminal">sequence</span> is not a basic-vector or a list or if <span class="nonterminal">z</span> is not an integer (error-id. <span class="error_id">domain-error</span>). obj may be any ISLISP object.</p>
            
<pre class="example">
(let ((string (create-string 5 #\x)))
  (setf (elt string 2) #\O)
  x)
⇒ "xxOxx"
</pre>
            
            <div id="f_subseq" class="definition-function">
                (<span class="operator">subseq</span> <span class="arg">sequence</span> <span class="arg">z<sub>1</sub></span> <span class="arg">z<sub>2</sub></span>) → <span class="class">sequence</span>
            </div>
            
            <p>Given a sequence <span class="nonterminal">sequence</span> and two integers <span class="nonterminal">z<sub>1</sub></span> and <span class="nonterminal">z<sub>2</sub></span> satisfying 0 ≤ <span class="nonterminal">z<sub>1</sub></span> ≤ <span class="nonterminal">z<sub>2</sub></span> ≤ (<span class="terminal">length</span> <span class="nonterminal">sequence</span>), this function returns the subsequence of length <span class="nonterminal">z<sub>2</sub></span> − <span class="nonterminal">z<sub>1</sub></span>, containing the elements with indices from <span class="nonterminal">z<sub>1</sub></span> (inclusive) to <span class="nonterminal">z<sub>2</sub></span> (exclusive). The subsequence is newly allocated, and has the same class as <span class="nonterminal">sequence</span>.</p>
            <p>An error shall be signaled if the requested subsequence cannot be allocated (error-id. <span class="error_id">cannot-create-sequence</span>). An error shall be signaled if <span class="nonterminal">z<sub>1</sub></span> or <span class="nonterminal">z<sub>2</sub></span> are outside of the bounds mentioned (error-id. <span class="error_id">index-out-of-range</span>). An error shall be signaled if <span class="nonterminal">sequence</span> is not a basic-vector or a list, or if <span class="nonterminal">z<sub>1</sub></span> is not an integer, or if <span class="nonterminal">z<sub>2</sub></span> is not an integer (error-id. <span class="error_id">domain-error</span>).</p>
<pre class="example">
(subseq "abcdef" 1 4)              ⇒ "bcd"

(subseq '(a b c d e f) 1 4)        ⇒ (b c d)

(subseq (vector 'a 'b 'c 'd 'e 'f) 1 4)
⇒ #(b c d)
</pre>
            
            <div id="f_map_into" class="definition-function">
                (<span class="operator">map-into</span> <span class="arg">destination</span> <span class="arg">function</span> <span class="arg">sequence</span>*) → <span class="class">sequence</span>
            </div>
            
            <p>Destructively modifies destination to contain the results of applying <span class="nonterminal">function</span> to successive elements in the <span class="nonterminal">sequences</span>. The <span class="nonterminal">destination</span> is returned.</p>
            <p>If <span class="nonterminal">destination</span> and each element of <span class="nonterminal">sequences</span> are not all the same length, the iteration terminates when the shortest <span class="nonterminal">sequence</span> (of any of the <span class="nonterminal">sequences</span> or the <span class="nonterminal">destination</span>) is exhausted.</p>
            <p>The calls to <span class="nonterminal">function</span> proceed from left to right, so that if <span class="nonterminal">function</span> has side-effects, it can rely upon being called first on all of the elements with index 0, then on all of those numbered 1, and so on.</p>
            <p>An error shall be signaled if <span class="nonterminal">destination</span> is not a basic-vector or a list (error-id. <span class="error_id">domain-error</span>).</p>
            <p>An error shall be signaled if any <span class="nonterminal">sequence</span> is not a basic-vector or a list (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(setq a (list 1 2 3 4))     ⇒ (1 2 3 4)

(setq b (list 10 10 10 10)) ⇒ (10 10 10 10)

(map-into a #'+ a b)        ⇒ (11 12 13 14)

a                           ⇒ (11 12 13 14)

b                           ⇒ (10 10 10 10)

(setq k '(one two three))   ⇒ (one two three)

(map-into a #'cons k a)     ⇒ ((one . 11) (two . 12) (three . 13) 14)

(let ((x 0))
  (map-into a
    (lambda () (setq x (+ x 2)))))
                            ⇒ (2 4 6 8)

a                           ⇒ (2 4 6 8)
</pre>
            
            <h3 id="stream_class">Stream class</h3>
            
            <p>Streams are instances of the <span class="class">stream</span> class. They are objects that serve as sources or sinks of data.</p>
            
            <div id="f_streamp" class="definition-function">
                (<span class="operator">streamp</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if obj is a stream (instance of class <span class="class">stream</span>); otherwise, returns nil. obj may be any ISLISP object. streamp is unaffected by whether its argument, if an instance of the class <span class="class">stream</span>, is open or closed.</p>
            
<pre class="example">
(streamp (standard-input)) ⇒ t

(streamp '())              ⇒ nil
</pre>
            
            <div id="f_open_stream_p" class="definition-function">
                (<span class="operator">open-stream-p</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if obj is an open stream; otherwise, returns nil.</p>
            
            <div id="f_input_stream_p" class="definition-function">
                (<span class="operator">input-stream-p</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if obj is a stream that can handle input operations; otherwise, returns nil.</p>
<pre class="example">
(input-stream-p (standard-input))  ⇒ t

(input-stream-p (standard-output)) ⇒ nil

(input-stream-p '(a b c))          ⇒ nil
</pre>
            
            <div id="f_output_stream_p" class="definition-function">
                (<span class="operator">output-stream-p</span> <span class="arg">obj</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if obj is a stream that can handle output operations; otherwise, returns nil.</p>
            
<pre class="example">
(output-stream-p (standard-output)) ⇒ t

(output-stream-p (standard-input))  ⇒ nil

(output-stream-p "hello")           ⇒ nil
</pre>
            
            <div id="f_standard_input" class="definition-function">
                (<span class="operator">standard-input</span>) → <span class="class">stream</span>
            </div>
            <div id="f_standard_output" class="definition-function">
                (<span class="operator">standard-output</span>) → <span class="class">stream</span>
            </div>
            <div id="f_error_output" class="definition-function">
                (<span class="operator">error-output</span>) → <span class="class">stream</span>
            </div>
            
            <p>The function standard-input returns the stream used as the default stream for input functions.</p>
            <p>The function standard-output returns the stream used as the default stream for output functions.</p>
            <p>The function error-output returns the stream used as the default stream for warnings and non-interactive error messages.</p>
            <p>The value returned by each of these functions is initially <a href="#td_implementation_defined">implementation-defined</a>, but can be dynamically bound; see with-standard-input, with-standard-output, and with-error-output.</p>
            
            <div id="s_with_standard_input" class="definition-special">
                (<span class="operator">with-standard-input</span> <span class="arg">stream-form</span> <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            <div id="s_with_standard_output" class="definition-special">
                (<span class="operator">with-standard-output</span> <span class="arg">stream-form</span> <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            <div id="s_with_error_output" class="definition-special">
                (<span class="operator">with-error-output</span> <span class="arg">stream-form</span> <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            
            <p>These special forms first evaluate their stream-form argument to produce a stream s and then evaluate their body forms in a dynamic environment where the corresponding function (standard-input, standard-output, or error-output) returns the stream s. The returned value of each of these forms is the result of the evaluation of the last form of their body (or nil if there is none).</p>
            
<pre class="example">
(with-standard-input (create-string-input-stream "this is a string")
  (list (read) (read)))
⇒ (this is)
</pre>
            
            <h4 id="streams_to_files">Streams to files</h4>
            
            <p>Streams might be connected to files or devices. Given a name, a stream can be created that is connected to a file having that name. File systems in which files are not named are not supported.
            </p>
            <p>A filename is represented by a string. The correct syntax of filenames is <a href="#td_implementation_defined">implementation defined</a>.</p>
            <p>Streams to files are created by open-input-file, open-output-file, open-io-file, with-open-input-file, with-open-output-file, and with-open-io-file.</p>
            
            <div id="f_open_input_file" class="definition-function">
                (<span class="operator">open-input-file</span> <span class="arg">filename</span> [<span class="arg">element-class</span>]) → <span class="class">stream</span>
            </div>
            <div id="f_open_output_file" class="definition-function">
                (<span class="operator">open-output-file</span> <span class="arg">filename</span> [<span class="arg">element-class</span>]) → <span class="class">stream</span>
            </div>
            <div id="f_open_io_file" class="definition-function">
                (<span class="operator">open-io-file</span> <span class="arg">filename</span> [<span class="arg">element-class</span>]) → <span class="class">stream</span>
            </div>
            
            <p>open-input-file opens a file for input only. open-output-file opens a file for output only. open-io-file opens a file for both input and output.</p>
            <p>An error shall be signaled if filename is not a string. The corresponding file is opened in an <a href="#td_implementation_defined">implementation-defined</a> way. These functions return an instance of the <span class="class">stream</span> class connected to the file specified by filename.</p>
            <p>The element-class can be either the class <span class="class">character</span> (the default) or a positive integer that is a number of bits in a byte to be used for a binary stream. All implementations must support a value of 8 (denoting integer byte values from 0 to 255), but some implementations might support other byte sizes as well.</p>
            <div class="note">Note: When a binary stream is used, the order of bits within bytes and bytes within words (<span class="latin">i.e.</span>, whether it is right to left or left to right) are each <a href="#td_implementation_defined">implementation defined</a>.</div>
            
<pre class="example">
(open-input-file "example.lsp" 8)
⇒ <a href="#td_implementation_defined">implementation-defined</a>
</pre>
            
            <div id="s_with_open_output_file" class="definition-special">
                (<span class="operator">with-open-output-file</span> (<span class="arg">name</span> <span class="arg">filename</span> [<span class="arg">element-class</span>]) <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            <div id="s_with_open_io_file" class="definition-special">
                (<span class="operator">with-open-io-file</span> (<span class="arg">name</span> <span class="arg">filename</span> [<span class="arg">element-class</span>]) <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            <div id="s_with_open_input_file" class="definition-special">
                (<span class="operator">with-open-input-file</span> (<span class="arg">name</span> <span class="arg">filename</span> [<span class="arg">element-class</span>]) <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            
            <p>Each of these special forms opens a stream to a file (using open-input-file, open-output-file, or open-io-file, respectively), evaluates the forms, closes the file, and returns the value returned by the last form (or nil if there are no forms).</p>
            <p>The filename and element-class are evaluated and passed as arguments to the appropriate file-opening function. The stream created by opening the file is bound to the variable named by name (as if a let was used), so the identifier name can be used to refer to the stream.</p>
            <p>The stream is closed on exit, whether or not exit from these special forms is normal. For this reason, these special forms are usually preferred over the corresponding functions for opening and closing files.</p>
            
<pre class="example">
(with-open-output-file (outstream "example.dat")
  (format outstream "hello"))
⇒ nil
                
(with-open-input-file (instream "example.dat")
  (read instream))
⇒ hello
</pre>
            
            <div id="f_close" class="definition-function">
                (<span class="operator">close</span> <span class="arg">stream</span>) → <a href="#td_implementation_defined">implementation defined</a>
            </div>
            
            <p>The function close closes the stream stream. If stream is closed it may no longer be used in input or output operations. Closing a file stream ends the association between the stream and its file. If the stream was already closed this function performs nothing. The result value is <a href="#td_implementation_defined">implementation defined</a>. An error shall be signaled if stream is not a stream (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(defglobal input-str (open-input-file "data.lsp"))
                           ⇒ input-str

(close input-str)          ⇒ <a href="#td_implementation_defined">implementation-defined</a>

(close input-str)          ⇒ <a href="#td_implementation_defined">implementation-defined</a>
</pre>
            
            <div id="f_finish_output" class="definition-function">
                (<span class="operator">finish-output</span> <span class="arg">stream</span>) → <span class="class">null</span>
            </div>
            
            <p>Completes any pending output to the destination designated by stream. Waits until the pending output is complete and then returns nil. For instance, pending output might be stored in a buffer; in this case finish-output forces the buffer to be written to the stream's destination. An error shall be signaled if stream is not a stream that can handle output operations (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(defglobal output-str (open-output-file "data.lsp"))
                                  ⇒ output-str
                
(finish-output output-str)        ⇒ nil
</pre>
            
            <h4 id="other_streams">Other streams</h4>
            <p>Non-file streams can be created by the following functions:</p>
            <ul>
                <li>create-string-input-stream</li>
                <li>create-string-output-stream</li>
            </ul>
            <p>A string stream is a stream that is simply a string. For input, the reading functions construct objects from a character sequence obtained from an input string. For output, the printing functions deliver characters which are collected to a result string.</p>
            
            <div id="f_create_string_input_stream" class="definition-function">
                (<span class="operator">create-string-input-stream</span> <span class="arg">string</span>) → <span class="class">stream</span>
            </div>
            
            <p>Creates and returns an input stream from the string. An error shall be signaled if string is not a string (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(let ((str (create-string-input-stream "this is a string")))
  (list (read str) (read str) (read str)))
⇒ (this is a)
</pre>
            
            <div id="f_create_string_output_stream" class="definition-function">
                (<span class="operator">create-string-output-stream</span>) → <span class="class">stream</span>
            </div>
            
            <p>This function creates and returns a string output stream. The output to a string stream can be retrieved by get-output-stream-string.</p>
            
<pre class="example">
(let ((str (create-string-output-stream)))
  (format str "hello")
  (format str "world")
  (get-output-stream-string str))
⇒ "helloworld"
</pre>
            
            <div id="f_get_output_stream_string" class="definition-function">
                (<span class="operator">get-output-stream-string</span> <span class="arg">stream</span>) → <span class="class">string</span>
            </div>
            <p>Returns a string containing all characters written to stream since the last call to this function or since the creation of the stream, if this function has not been called with stream before. An error shall be signaled if stream is not a stream created with create-string-output-stream (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(let ((out-str (create-string-output-stream)))
  (format out-str "This is a string")
  (let ((part1 (get-output-stream-string out-str)))
    (format out-str "right!")
    (list part1 (get-output-stream-string out-str))))
⇒ ("This is a string" "right!")
</pre>
            
            <h3 id="input_and_output">Input and output</h3>
            <h4 id="argument_conventions">Argument conventions for input functions</h4>
            
            <p>Most of the reader functions that do input treat their arguments as follows:</p>
            <p>When end-of-stream is reached (<span class="latin">i.e.</span>, an attempt is made to read a stream element immediately after the last one in the stream), the behavior depends on the value of eos-error-p (which defaults to t): if eos-error-p is nil, the function returns the eos-value (which defaults to nil); otherwise, an error shall be signaled (error-id. <span class="error_id">end-of-stream</span>).</p>
            <p>If the input-stream is not specified, the standard input stream (the value returned by the standard-input function) is used. An error shall be signaled if an input-stream does not satisfy the input-stream-p predicate (error-id. <span class="error_id">not-an-input-stream</span>).</p>
            
            <h4 id="character_io">Character I/O</h4>
            
            <p>The following operations are used for character I/O. An error shall be signaled if an attempt is made to perform a character I/O operation on a stream that does not handle such operations.</p>
            
            <div id="f_read" class="definition-function">
                (<span class="operator">read</span> [<span class="arg">input-stream</span> [<span class="arg">eos-error-p</span> [<span class="arg">eos-value</span>]]]) → <span class="class">object</span>
            </div>
            
            <p>The function read returns the ISLISP object that is created as the result of reading its textual representation from the stream input-stream.</p>
            <p>See §27.1 for information about how input-stream, eos-error-p, and eos-value are treated.</p>
            
<pre class="example">
(defglobal str (create-string-input-stream "hello #(1 2 3) 123 #\\A"))
                         ⇒ str
                
(read str)               ⇒ hello

(read str)               ⇒ #(1 2 3)

(read str)               ⇒ 123

(read str)               ⇒ #\A

(read str nil "the end") ⇒ "the end"
</pre>
            
            <div id="f_read_char" class="definition-function">
                (<span class="operator">read-char</span> [<span class="arg">input-stream</span> [<span class="arg">eos-error-p</span> [<span class="arg">eos-value</span>]]]) → <span class="class">object</span>
            </div>
            
            <p>read-char reads a single character from input-stream and returns the corresponding character object.</p>
            <p>See §27.1 for information about how input-stream, eos-error-p, and eos-value are treated.</p>
            
<pre class="example">
(defglobal str (create-string-input-stream "hi"))
                   ⇒ str
                
(read-char str)    ⇒ #\h

(read-char str)    ⇒ #\i

(read-char str)    an error shall be signaled
</pre>
            
            <div id="f_preview_char" class="definition-function">
                (<span class="operator">preview-char</span> [<span class="arg">input-stream</span> [<span class="arg">eos-error-p</span> [<span class="arg">eos-value</span>]]]) → <span class="class">object</span>
            </div>
            
            <p>Returns the next character of input-stream, if any. The character is not consumed; the next attempt to peek at or read a character from the stream sees that same character.</p>
            <p>See §27.1 for information about how input-stream, eos-error-p, and eos-value are treated.</p>
<pre class="example">
(let ((s (create-string-input-stream "foo")))
  (list (preview-char s) (read-char s) (read-char s)))
⇒ (#\f #\f #\o)
</pre>
            
            <div id="f_read_line" class="definition-function">
                (<span class="operator">read-line</span> [<span class="arg">input-stream</span> [<span class="arg">eos-error-p</span> [<span class="arg">eos-value</span>]]]) → <span class="class">object</span>
            </div>
            
            <p>Reads a line of characters from input-stream and returns them as a string (without the newline character at the end of the line). If an end-of-stream is reached before the next newline character and a non-empty line has been read prior to the end-of-stream, that line is returned.</p>
            <p>See §27.1 for information about how input-stream, eos-error-p, and eos-value are treated.</p>
<pre class="example">
(with-open-output-file (out "newfile")
  (format out "This is an example")
  (format out "~%")
  (format out "look at the output file"))
                 ⇒ nil
                
(defglobal str (open-input-file "newfile"))
                 ⇒ str
                
(read-line str)  ⇒ "This is an example"

(read-line str)  ⇒ "look at the output file"
</pre>
            
            <div id="f_stream_ready_p" class="definition-function">
                (<span class="operator">stream-ready-p</span> <span class="arg">input-stream</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if an attempt to obtain the next element from the stream will not cause the processor to have to wait; otherwise, returns nil. An error shall be signaled if stream is not a stream that can handle input operations (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(with-open-output-file (out "testfile.dat")
  (format out "This is an example")) ⇒ nil

(with-open-input-file (in "testfile.dat")
  (stream-ready-p in))               ⇒ t
</pre>
            
            <div id="f_format" class="definition-function">
                (<span class="operator">format</span> <span class="arg">output-stream</span> <span class="arg">format-string</span> <span class="arg">obj</span>*) → <span class="class">null</span>
            </div>
            <div id="f_format_char" class="definition-function">
                (<span class="operator">format-char</span> <span class="arg">output-stream</span> <span class="arg">char</span>) → <span class="class">null</span>
            </div>
            <div id="f_format_float" class="definition-function">
                (<span class="operator">format-float</span> <span class="arg">output-stream</span> <span class="arg">float</span>) → <span class="class">null</span>
            </div>
            <div id="f_format_fresh_line" class="definition-function">
                (<span class="operator">format-fresh-line</span> <span class="arg">output-stream</span>) → <span class="class">null</span>
            </div>
            <div id="f_format_integer" class="definition-function">
                (<span class="operator">format-integer</span> <span class="arg">output-stream</span> <span class="arg">integer</span> <span class="arg">radix</span>) → <span class="class">null</span>
            </div>
            <div id="f_format_object" class="definition-function">
                (<span class="operator">format-object</span> <span class="arg">output-stream</span> <span class="arg">obj</span> <span class="arg">escape-p</span>) → <span class="class">null</span>
            </div>
            <div id="f_format_tab" class="definition-function">
                (<span class="operator">format-tab</span> <span class="arg">output-stream</span> <span class="arg">column</span>) → <span class="class">null</span>
            </div>
            
            <p>The function format has the side-effect of printing according to format-string. It returns nil. An error shall be signaled if the output-stream parameter does not satisfy the output-stream-p predicate (error-id. <span class="error_id">not-an-output-stream</span>). An error shall be signaled if format-string is not a string (error-id. <span class="error_id">domain-error</span>). The following is a summary of all the available format directives:</p>
            
            <p>obj refers to the next item of the set of obj* to be processed.</p>
            <dl>
                <dt>~A</dt>
                <dd>
                    <p>Aesthetic: The obj is any object. obj is printed as it would with ~S, but without escape characters. Characters are output directly without any conversion. That is, the output generated using this format directive is suitable for being read by a human reader.</p>
                    <p>This effect is implemented by (format-object output-stream obj nil).</p>
                </dd>
                <dt>~B</dt>
                <dd>
                    <p>Binary: An error shall be signaled if obj is not an integer. obj is printed in binary radix (radix 2).</p>
                    <p>This effect is implemented by (format-integer output-stream obj 2).</p>
                </dd>
                <dt>~C</dt>
                <dd>
                    <p>Character: An error shall be signaled if obj is not a character. obj is output directly without any conversion.</p>
                    <p>This effect is implemented by (format-char output-stream obj).</p>
                </dd>
                <dt>~D</dt>
                <dd>
                    <p>Decimal: An error shall be signaled if obj is not an integer. obj is printed in decimal radix (radix 10).</p>
                    <p>This effect is implemented by (format-integer output-stream obj 10).</p>
                </dd>
                <dt>~G</dt>
                <dd>
                    <p>General ﬂoating point: An error shall be signaled if obj is not a number. obj is printed as a ﬂoat.</p>
                    <p>This effect is implemented by (format-float output-stream obj).</p>
                </dd>
                <dt>~O</dt>
                <dd>
                    <p>Octal: An error shall be signaled if obj is not an integer. obj is printed in octal radix (radix 8).</p>
                    <p>This effect is implemented by (format-integer output-stream obj 8).</p>
                </dd>
                <dt>~nR</dt>
                <dd>
                    <p>Radix: An error shall be signaled if obj is not an integer. obj is printed in radix n (which must be between 2 and 36, inclusive).</p>
                    <p>This effect is implemented by (format-integer output-stream obj n).</p>
                </dd>
                <dt>~S</dt>
                <dd>
                    <p>S-expression: obj is any object. This format directive outputs the textual representation of obj , with escape characters as needed. That is, the output generated using this format directive is suitable for input to the function read.</p>
                    <p>This effect is implemented by (format-object output-stream obj t).</p>
                </dd>
                <dt>~nT</dt>
                <dd>
                    <p>Tab: output enough spaces to move to column n (where column 0 represents the left margin). If already at or beyond column n, one space is output. If an implementation cannot determine the current column position, the behavior is <a href="#td_implementation_defined">implementation defined</a>, but at least one space will be output.</p>
                    <p>This effect is implemented by (format-tab output-stream n).</p>
                </dd>
                <dt>~X</dt>
                <dd>
                    <p>Hexadecimal: An error shall be signaled if obj is not an integer. obj is printed in hexadecimal radix (radix 16).</p>
                    <p>This effect is implemented by (format-integer output-stream obj 16).</p>
                </dd>
                <dt>~%</dt>
                <dd>
                    <p>newline: output a #\newline character;</p>
                    <p>This effect is implemented by (format-char output-stream #\newline).</p>
                </dd>
                <dt>~&amp;</dt>
                <dd>
                    <p>conditional newline: output a #\newline character if it cannot be determined that the output stream is at the beginning of a fresh line;</p>
                    <p>This effect is implemented by (format-fresh-line output-stream).</p>
                </dd>
                <dt>~~</dt>
                <dd>
                    <p>tilde: output a tilde (˜).</p>
                    <p>This effect is implemented by (format-char output-stream #\~).</p>
                </dd>
            </dl>
<pre class="example">
(format output-stream "No result") ⇒ nil
Output is: No result
                
(format output-stream "The result is ~A and nothing else." "meningitis")
⇒ nil
Output is: The result is meningitis and nothing else.
                
(format output-stream "The result i~C" #\s)
⇒ nil
Output is: The result is
                
(format output-stream "The results are ~S and ~S." 1 #\a)
⇒ nil
Output is: The results are 1 and #\a.
                
(format output-stream "Binary code ~B" 150)
⇒ nil
Output is: Binary code 10010110
                
(format output-stream "permission ~O" 493)
⇒ nil
Output is: permission 755
                
(format output-stream "You ~X ~X" 2989 64206)
⇒ nil
Output is: You BAD FACE
                
(progn
  (format output-stream "~&amp;Name ~10Tincome ~20Ttax~%")
  (format output-stream "~A ~10T~D ~20T~D" "Grummy" 23000 7500))
⇒ nil
Output is: Name     income   tax
           Grummy   23000    7500
                
(format output-stream "This will be split into~%two lines.")
⇒ nil
Output is: This will be split into
           two lines.
                
(format output-stream "This is a tilde: ~~")
⇒ nil
Output is: This is a tilde: ~
</pre>
            
            <h4 id="binary_io">Binary I/O</h4>
            
            <p>The following operations are used for binary I/O. An error shall be signaled if an attempt is made to perform a binary I/O operation on a stream that does not handle such operations.</p>
            
            <div id="f_read_byte" class="definition-function">
                (<span class="operator">read-byte</span> <span class="arg">input-stream</span> [<span class="arg">eos-error-p</span> [<span class="arg">eos-value</span>]]) → <span class="class">integer</span>
            </div>
            
            <p>Reads a byte from the input-stream and returns it. The number of bits in a byte is determined by the stream element type of the input-stream; see open-input-file.</p>
            <p>See §27.1 for information about how input-stream, eos-error-p, and eos-value are treated.</p>
            
<pre class="example">
;; This example assumes 8-bit byte codes are stored in files.
(defglobal byte-example (open-output-stream "byte-ex"))
⇒ byte-example
                
(format byte-example "hello")     ⇒ nil

(close byte-example)              ⇒ <a href="#td_implementation_defined">implementation-defined</a>

(setq byte-example (open-input-stream "byte-ex" 8))
                                  ⇒ <a href="#td_implementation_defined">implementation-defined</a>
                
(read-byte byte-example)          ⇒ 104 (<a href="#td_implementation_defined">implementation-defined</a>)

(read-byte byte-example)          ⇒ 101 (<a href="#td_implementation_defined">implementation-defined</a>)

(read-byte byte-example)          ⇒ 108 (<a href="#td_implementation_defined">implementation-defined</a>)

(read-byte byte-example)          ⇒ 108 (<a href="#td_implementation_defined">implementation-defined</a>)

(read-byte byte-example)          ⇒ 111 (<a href="#td_implementation_defined">implementation-defined</a>)
</pre>
            
            <div id="f_write_byte" class="definition-function">
                (<span class="operator">write-byte</span> <span class="arg">z</span> <span class="arg">output-stream</span>) → <span class="class">integer</span>
            </div>
            
            <p>Writes z to the output-stream and returns it. An error shall be signaled if z is not an integer in the range appropriate to the stream element type of output-stream or if output-stream is not a stream capable of handling output operations (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(let ((out-str (open-output-stream "byte-example" 8)))
  (write-byte #b101 out-str)
  (close out-str))               ⇒ <a href="#td_implementation_defined">implementation-defined</a>
</pre>
            
            <h3 id="files">Files</h3>
            
            <div id="f_probe_file" class="definition-function">
                (<span class="operator">probe-file</span> <span class="arg">filename</span>) → <span class="nonterminal">boolean</span>
            </div>
            
            <p>Returns t if the file specified by filename exists; otherwise, returns nil. An error shall be signaled if filename is not a string (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(probe-file "notexist.lsp") ⇒ nil

(defglobal new-file (open-output-file "notexist.lsp"))
                            ⇒ new-file
                
(close new-file)            ⇒ <a href="#td_implementation_defined">implementation-defined</a>

(probe-file "notexist.lsp") ⇒ t
</pre>
            
            <div id="f_file_position" class="definition-function">
                (<span class="operator">file-position</span> <span class="arg">stream</span>) → <span class="class">integer</span>
            </div>
            
            <p>Returns the file position associated with stream.</p>
            <p>A file position is a non-negative integer that represents a position in the stream. For binary streams, the file position represents the number of preceding bytes in the stream. It is increased by one each time one of the following is done:</p>
<pre>
(read-byte stream)

(write-byte z stream)
</pre>
            <p>For character streams, the file position is increased by an <a href="#td_implementation_defined">implementation-defined</a> non-negative amount each time one of the following is done:</p>
<pre>
(format stream...)

(format-char stream char)

(format-float stream float)

(format-fresh-line stream)

(format-integer stream integer radix)

(format-object stream obj escape-p)

(format-tab stream column)

(report-condition condition stream)

(read-char stream)

(read-line stream)

(read stream)
</pre>
            <p>The amount may depend on the output and on the file position itself. It is <a href="#td_implementation_defined">implementation-defined</a> which integer represents the first element of the file. An error shall be signaled if stream is not a stream to or from a file (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
;; This example assumes 8-bit byte codes are stored in files.
(defglobal example (open-output-file "example.lsp"))
                               ⇒ example
                
(format example "hello")       ⇒ nil

(close example)                ⇒ <a href="#td_implementation_defined">implementation-defined</a>

(setq example (open-input-stream "example.lsp" 8))
                               ⇒ <a href="#td_implementation_defined">implementation-defined</a>
                
(file-position example)        ⇒ 0 (<a href="#td_implementation_defined">implementation-defined</a>)

(read-byte example)            ⇒ 104 (<a href="#td_implementation_defined">implementation-defined</a>)

(file-position example)        ⇒ 1 (<a href="#td_implementation_defined">implementation-defined</a>)
</pre>
            
            <div id="f_set_file_position" class="definition-function">
                (<span class="operator">set-file-position</span> <span class="arg">stream</span> <span class="arg">z</span>) → <span class="class">integer</span>
            </div>
            
            <p>Attempts to change the file position (see file-position) of the stream stream to z . If it is not possible to move to the exact position z , some <a href="#td_implementation_defined">implementation-defined</a> motion within the file might still be performed. The value returned is the new file position, which might or might not be z.</p>
            <p>An error shall be signaled if stream is not a stream to or from a file, or if z is not a non-negative integer (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(set-file-position example 4) ⇒ 4
</pre>
            
            <div id="f_file_length" class="definition-function">
                (<span class="operator">file-length</span> <span class="arg">filename</span> <span class="arg">element-class</span>) → <span class="class">object</span>
            </div>
            
            <p>Returns the length of the file named by filename, or returns nil if the length cannot be determined. The element-class determines the units. An error shall be signaled if filename is not a string (error-id. <span class="error_id">domain-error</span>).</p>
            
<pre class="example">
(file-length "file27.dat" 8)   ⇒ 25
;; Implementations are not required to support byte size 2.
(file-length "file27.dat" 2)   ⇒ 100
</pre>
            
            <h3 id="condition_system">Condition system</h3>
            
            <p id="error_system">The condition system, sometimes called the <q>error system,</q> is a facility which permits problem situations detected at runtime to be represented and resolved while still under the control of a conforming program.</p>
            
            <h4 id="conditions">Conditions</h4>
            <p>When a problem situation is detected, a representation of that situation called a condition (or sometimes a <q>condition object</q> to emphasize its nature as an ordinary ISLISP object) is constructed and the situation represented by the condition is announced by a process called signaling. This signaling process allows a dynamically established handler an opportunity to resolve the problem.</p>
            <p><a href="#figure_1">Figure 1</a> shows an inheritance graph for the various condition classes.</p>
            <p>Some condition classes require initialization arguments when using create so that associated data can be provided. For more information, see §29.3.</p>
            <p id="error_conditions">Conditions that represent situations involving dynamically detected program errors are called error conditions. Error conditions and those conditions that represent implementation limitations that may not be symptomatic of program errors are collectively called serious conditions.</p>
            <div class="note">Note: In some dialects of LISP a meaning is assigned to the idea of conditions that are not serious. Such conditions are beyond the scope of this document; hence the use of the class name <span class="class">serious-condition</span> as the most general kind of condition defined herein.</div>
            
            <h4 id="signaling_and_handling">Signaling and handling conditions</h4>
            
            <p>When a condition is signaled, the active handler is called with one argument, a condition which represents the situation. An initial active handler will have been established by the system; it will provide some <a href="#td_implementation_defined">implementation-defined</a> action (such as return to toplevel, program exit, or entry into an interactive debugger). User programs may also establish handlers (see with-handler).</p>
            <p>At any given time, only one handler is active. Establishing a new handler with with-handler shadows any previously active handler. This newly established handler is active throughout execution of its associated body of code unless shadowed by another use of with-handler.</p>
            <p>If called, a handler function will execute in the dynamic environment of the call to signal-condition, except that the handler context is re-bound to match the dynamic handler state that was current at the point the handler function was established as the active handler.</p>
            <div class="note">Note: This means that handlers are not expected to handle errors in themselves. If a programmer wishes to have a handler handle its own errors, he might use labels to allow the function a way to refer to itself and might have the function re-establish itself as a handler within its own body.</div>
            <p>When a handler is called, it must handle the condition by transferring control to a point outside of the call to signal-condition. Such a transfer of control might be made explicitly by use of go, throw, or return-from or implicitly by use of an abstract operation such as continue-condition that has an equivalent effect. The consequences are undefined if the handler returns normally; the handler is required to transfer control.</p>
            <p>A handler may defer to previously established handlers by calling signal-condition on the condition object which it received as an argument.</p>
            
            <h5 id="operations_relating_to_condition_signaling">Operations relating to condition signaling</h5>
            
            <div id="f_error" class="definition-function">
                (<span class="operator">error</span> <span class="arg">error-string</span> <span class="arg">obj</span>*) → <span class="class">object</span>
            </div>
            
            <p>An error shall be signaled.</p>
            <p>error-string and the objs are advice to the implementation about how the error message might be textually described (using format), but whether or not that advice is used is <a href="#td_implementation_defined">implementation defined</a>.</p>
            <p>This is equivalent to:</p>
<pre>
(signal-condition
  (create (class <span class="class">simple-error</span>)
          'format-string error-string
          'format-arguments (list obj*))
          nil)
</pre>
            
            <div id="f_cerror" class="definition-function">
                (<span class="operator">cerror</span> <span class="arg">continue-string</span> <span class="arg">error-string</span> <span class="arg">obj</span>*) → <span class="class">object</span>
            </div>
            
            <p>Like error, but the error that it signals is “continuable” (see continue-condition). The extra argument continue-string describes what happens if this function returns.</p>
            <p>This is equivalent to:</p>
<pre>
(signal-condition
  (create (class <span class="class">simple-error</span>)
          'format-string error-string
          'format-arguments (list obj*))
  (let ((str (create-string-output-stream)))
    (format str continue-string obj*)
    (get-output-stream-string str)))
</pre>
            
            <div id="f_signal_condition" class="definition-function">
                (<span class="operator">signal-condition</span> <span class="arg">condition</span> <span class="arg">continuable</span>) → <span class="class">object</span>
            </div>
            
            <p>Invokes the condition handling system on condition.</p>
            <p>If continuable is nil, the results of attempting to “continue” (see continue-condition) are not defined except that the call to signal-condition will not return normally.</p>
            <p>If continuable is not nil, it will be possible to return from the call to signal-condition (see continue-condition). In this case, the specific value of continuable may be a string indicating the effect of continuing, or it may be the symbol t, indicating that an <a href="#td_implementation_defined">implementation-defined</a> string such as "Continue with no special action." is to be used.</p>
            
<pre class="example">
(signal-condition (create (class <span class="class">simple-error</span>)
                          'format-string "A ~A problem occurred."
                          'format-arguments '(bad))
                  nil)
                
</pre>
            
            <h5 id="operations_relating_to_condition_handling">Operations relating to condition handling</h5>
            
            <div id="s_ignore_errors" class="definition-special">
                (<span class="operator">ignore-errors</span> <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            
            <p>Establishes a handler for <span class="class">error</span>, such that if an error occurs during execution of forms, ignore-errors will immediately return nil. Then it executes forms, returning the value returned by the last form (or nil if there were no forms) if execution terminates normally.</p>
            
            <div id="gf_report_condition" class="definition-generic">
                (<span class="operator">report-condition</span> <span class="arg">condition</span> <span class="arg">stream</span>) → <span class="class">condition</span>
            </div>
            
            <p>Presents a natural language description of condition to stream. This generic function may be specialized for user-defined condition classes.</p>
            
            <div id="f_condition_continuable" class="definition-function">
                (<span class="operator">condition-continuable</span> <span class="arg">condition</span>) → <span class="class">object</span>
            </div>
            
            <p>Returns nil if condition is not continuable, or a string describing the effect of continuing otherwise.</p>
            
            <div id="f_continue_condition" class="definition-function">
                (<span class="operator">continue-condition</span> <span class="arg">condition</span> [<span class="arg">value</span>]) <span class="comment">transfers control and data</span>
            </div>
            
            <p><q>Continues</q> from condition by finding the call to signal-condition and arranging for it to perform a normal return of the value, which defaults to nil. The consequences are undefined if the condition is not continuable.</p>
            
            <div id="s_with_handler" class="definition-special">
                (<span class="operator">with-handler</span> <span class="arg">handler</span> <span class="arg">form</span>*) → <span class="class">object</span>
            </div>
            
            <p>Evaluates handler , which must yield a function (called the “handler function”). The handler function is established as active handler (see §29.2) and then the forms are executed. If execution of forms finishes normally, the value of the last form (or nil if there are no forms) is returned.</p>
            
            <h4 id="data_associated_with_condition_classes">Data associated with condition classes</h4>
            <p>Some of the condition classes defined by ISLISP permit data to be associated with a condition object at its time of creation and later retrieved. Initialization arguments and accessors for such classes are defined here.</p>
            
            <h5 id="arithmetic_errors">Arithmetic errors</h5>
            
            <dl>
                <dt><span class="class">arithmetic-error</span></dt>
                <dd>
                    <p>operation operation</p>
                    <p>operands operands</p>
                    <p>The operation is the function that was being performed, and the operands is a list of the arguments it received.</p>
                </dd>
            </dl>
            
            <div id="f_arithmetic_error_operation" class="definition-function">
                (<span class="operator">arithmetic-error-operation</span> <span class="arg">arithmetic-error</span>) → <span class="class">function</span>
            </div>
            <div id="f_arithmetic_error_operands" class="definition-function">
                (<span class="operator">arithmetic-error-operands</span> <span class="arg">arithmetic-error</span>) → <span class="class">list</span>
            </div>
            
            <p>These functions return the operation and operands supplied as data when creating the arithmetic-error . An error shall be signaled if arithmetic-error is not a condition of class <span class="class">arithmetic-error</span> (error-id. <span class="error_id">domain-error</span>).</p>
            
            <h5 id="domain_errors">Domain errors</h5>
            <dl><dt><span class="class">domain-error</span></dt>
                <dd>
                    <p>object object</p>
                    <p>expected-class expected-class</p>
                    <p>The object is the offending object, and the expected-class is the class that it was expected to be.</p>
                </dd>
            </dl>
            
            <div id="f_domain_error_object" class="definition-function">
                (<span class="operator">domain-error-object</span> <span class="arg">domain-error</span>) → <span class="class">object</span>
            </div>
            <div id="f_domain_error_expected_class" class="definition-function">
                (<span class="operator">domain-error-expected-class</span> <span class="arg">domain-error</span>) → <span class="class">class</span>
            </div>
            
            <p>These functions return the object and expected-class supplied as data when creating the domain-error . An error shall be signaled if domain-error is not a condition of class <span class="class">domain-error</span> (error-id. <span class="error_id">domain-error</span>).</p>
            
            <h5 id="parse_errors">Parse errors</h5>
            <dl><dt><span class="class">parse-error</span></dt>
                <dd>
                    <p>string string</p>
                    <p>expected-class expected-class</p>
                    <p>The string is the string that was being parsed, and the expected-class is the class that the textual notation in the string was expected to represent.</p>
                </dd>
            </dl>
            
            <div id="f_parse_error_string" class="definition-function">
                (<span class="operator">parse-error-string</span> <span class="arg">parse-error</span>) → <span class="class">string</span>
            </div>
            <div id="f_parse_error_expected_class" class="definition-function">
                (<span class="operator">parse-error-expected-class</span> <span class="arg">parse-error</span>) → <span class="class">class</span>
            </div>
            
            <p>These functions return the string and expected-class supplied as data when creating the parse-error. An error shall be signaled if parse-error is not a condition of class <span class="class">parse-error</span> (error-id. <span class="error_id">domain-error</span>).</p>
            
            <h5 id="simple_errors">Simple errors</h5>
            <dl>
                <dt><span class="class">simple-error</span></dt>
                <dd>
                    <p>format-string format-string</p>
                    <p>format-arguments format-arguments</p>
                    <p>The format-string (a string) and format-arguments (a list of objects) are passed through to format to construct the error message. Each object in the list given as format-arguments becomes a separate data argument, obj , in the call to format.</p>
                </dd>
            </dl>
            
            <div id="f_simple_error_format_string" class="definition-function">
                (<span class="operator">simple-error-format-string</span> <span class="arg">simple-error</span>) → <span class="class">string</span>
            </div>
            <div id="f_simple_error_format_arguments" class="definition-function">
                (<span class="operator">simple-error-format-arguments</span> <span class="arg">simple-error</span>) → <span class="class">list</span>
            </div>
            
            <p>These functions return the format-string and format-arguments supplied as data when creating the simple-error . An error shall be signaled if simple-error is not a condition of class <span class="class">simple-error</span> (error-id. <span class="error_id">domain-error</span>).</p>
            
            <h5 id="stream_errors">Stream errors</h5>
            <dl><dt><span class="class">stream-error</span></dt>
                <dd>
                    <p>stream stream</p>
                    <p>The stream is the stream on which the error occurred.</p>
                </dd>
            </dl>
            
            <div id="f_stream_error_stream" class="definition-function">
                (<span class="operator">stream-error-stream</span> <span class="arg">stream-error</span>) → <span class="class">stream</span>
            </div>
            
            <p>Returns the stream supplied as data when creating the stream-error . An error shall be signaled if stream-error is not a condition of class <span class="class">stream-error</span> (error-id. <span class="error_id">domain-error</span>).</p>
            
            <h5 id="undefined_entity_errors">Undefined entity errors</h5>
            <dl>
                <dt><span class="class">undefined-entity</span></dt>
                <dd>
                    <p>name name</p>
                    <p>namespace namespace</p>
                    <p>The name is a symbol representing the identifier which was undefined. The namespace is one of the symbols variable, dynamic-variable, function, or class.</p>
                </dd>
            </dl>
            
            <div id="f_undefined_entity_name" class="definition-function">
                (<span class="operator">undefined-entity-name</span> <span class="arg">undefined-entity</span>) → <span class="class">symbol</span>
            </div>
            <div id="f_undefined_entity_namespace" class="definition-function">
                (<span class="operator">undefined-entity-namespace</span> <span class="arg">undefined-entity</span>) → <span class="class">symbol</span>
            </div>
            
            <p>These functions return the name and namespace supplied as data when creating the undefined-entity. An error shall be signaled if undefined-entity is not a condition of class <span class="class">undefined-entity</span> (error-id. <span class="error_id">domain-error</span>).</p>
            
            <p>The result of undefined-entity-namespace will be one of the symbols variable, dynamic-variable, function, or class.</p>
            
            <h4 id="error_identification">Error identification</h4>
            
            <p>The following is a summary of all named errors in the language and the semantics associated with each error.</p>
            
            <dl>
                <dt id="e_arity_error" class="error_id">arity-error</dt>
                <dd>Errors of this kind occur when a function is activated with a number of arguments that is not compatible with the number of parameters permitted by the function's definition. Errors of this kind are represented as conditions of class <span class="class">program-error</span>.</dd>
                <dt id="e_cannot_create_array" class="error_id">cannot-create-array</dt>
                <dd>Errors of this kind occur when a request is made to allocate an array that cannot be allocated. Errors of this kind are represented as conditions of class <span class="class">storage-exhausted</span>.</dd>
                <dt id="e_cannot_create_cons" class="error_id">cannot-create-cons</dt>
                <dd>Errors of this kind occur when a request is made to allocate a cons that cannot be allocated. Errors of this kind are represented as conditions of class <span class="class">storage-exhausted</span>.</dd>
                <dt id="e_cannot_create_list" class="error_id">cannot-create-list</dt>
                <dd>Errors of this kind occur when a request is made to allocate a list that cannot be allocated. Errors of this kind are represented as conditions of class <span class="class">storage-exhausted</span>.</dd>
                <dt id="e_cannot_create_sequence" class="error_id">cannot-create-sequence</dt>
                <dd>
                    Errors of this kind occur if a function that produces a sequence (<span class="latin">e.g.</span>, subseq) cannot allocate that sequence. Errors of this kind are represented as conditions of class <span class="class">storage-exhausted</span>.
                </dd>
                <dt id="e_cannot_create_string" class="error_id">cannot-create-string</dt>
                <dd>
                    Errors of this kind occur when a request is made to allocate a string that cannot be allocated. Errors of this kind are represented as conditions of class <span class="class">storage-exhausted</span>.
                </dd>
                <dt id="e_cannot_create_vector" class="error_id">cannot-create-vector</dt>
                <dd>
                    Errors of this kind occur when a request is made to allocate a vector that cannot be allocated. Errors of this kind are represented as conditions of class <span class="class">storage-exhausted</span>.
                </dd>
                
                <dt id="e_cannot_parse_number" class="error_id">cannot-parse-number</dt>
                <dd>
                    Errors of this kind occur when the string parameter received by the parse-number function cannot be classified as the textual representation of a number. Errors of this kind are represented as conditions of class <span class="class">parse-error</span>.
                </dd>
                <dt id="e_control_error" class="error_id">control-error</dt>
                <dd>
                    Errors of this kind occur when an attempt is made to leave a block more than once or when there is no outstanding catcher for a catch tag. Errors of this kind are represented as conditions of class <span class="class">control-error</span>.
                </dd>
                
                <dt id="e_division_by_zero" class="error_id">division-by-zero</dt>
                <dd>
                    Errors of this kind occur when an attempt is made to divide by zero. Errors of this kind are represented as conditions of class
                    <span class="class">division-by-zero</span>.
                </dd>
                <dt id="e_domain_error" class="error_id">domain-error</dt>
                <dd>
                    Errors of this kind occur when the object given as argument to a standard function for which an argument class restriction is in effect is not an instance of the class to which the argument is restricted. Errors of this kind are represented as conditions of class
                    <span class="class">domain-error</span>.
                </dd>
                
                <dt id="e_end_of_stream" class="error_id">end-of-stream</dt>
                <dd>
                    Errors of this kind occur when an attempt to read a character or byte at the end-of-stream when eos-error-p argument is true, or when an attempt to read a more complex object is about to begin (<span class="latin">e.g.</span>, by read or read-line) but the end-of-stream is seen before parsing of that object has finished. Errors of this kind are represented as conditions of class <span class="class">end-of-stream</span>.
                </dd>
                <dt id="e_immutable_binding" class="error_id">immutable-binding</dt>
                <dd>Errors of this kind occur when an attempt is made to change an immutable binding. Errors of this kind are represented as conditions of class <span class="class">program-error</span>.
                </dd>
                <dt id="e_improper_argument_list" class="error_id">improper-argument-list</dt>
                <dd>
                    Errors of this kind occur when the last argument given to the apply function is not a proper list. Errors of this kind are represented as conditions of class <span class="class">program-error</span>.
                </dd>
                <dt id="e_index_out_of_range" class="error_id">index-out-of-range</dt>
                <dd>Errors of this kind occur when the index given to a function that accesses an element in a sequence (such as elt) is an integer outside the range of the sequence. Errors of this kind are represented as conditions of class <span class="class">program-error</span>.
                </dd>
                <dt id="e_not_an_input_stream" class="error_id">not-an-input-stream</dt>
                <dd>Errors of this kind occur when an attempt is made to read from a stream which is not an input stream. Errors of this kind are represented as conditions of class <span class="class">domain-error</span>.</dd>
                <dt id="e_not_an_output_stream" class="error_id">not-an-output-stream</dt>
                <dd>
                    Errors of this kind occur when an attempt is made to write to a stream which is not an output stream. Errors of this kind are represented as conditions of class <span class="class">domain-error</span>.
                </dd>
                <dt id="e_unbound_variable" class="error_id">unbound-variable</dt>
                <dd>
                    Errors of this kind occur when an attempt is made to access an unbound variable. Errors of this kind are represented as conditions of class <span class="class">unbound-variable</span>.
                </dd>
                <dt id="e_undefined_entity" class="error_id">undefined-entity</dt>
                <dd>
                    Errors of this kind occur when the entity denoted by an identifier does not exist when an access to that entity is made. Errors of this kind are represented as conditions of class <span class="class">undefined-entity</span>.
                </dd>
                <dt id="e_undefined_function" class="error_id">undefined-function</dt>
                <dd>
                    Errors of this kind occur when a function does not exist at its activation point. Errors of this kind are represented as conditions of class <span class="class">undefined-function</span>.
                </dd>
            </dl>
            <p>Some errors that can occur have not been named in this document, and others might be added by the implementation. The above list should not be taken as an exhaustive list of all possible errors in the language.</p>
            
            <h3 id="miscellaneous">Miscellaneous</h3>
            <div id="f_identity" class="definition-function">
                (<span class="operator">identity</span> <span class="arg">obj</span>) → <span class="class">object</span>
            </div>
            
            <p>Returns an object that is the same as obj under eql. obj may be any ISLISP object.</p>
<pre class="example">
(identity '(a b c)) ⇒ (a b c)
</pre>
            <div id="f_get_universal_time" class="definition-function">
                (<span class="operator">get-universal-time</span>) → <span class="class">integer</span>
            </div>
            
            <p>Returns an approximation to the <q>current time</q> in Universal Time Format. The units are seconds. Universal Time Format represents time as an integer number of seconds since the beginning (<span class="latin">i.e.</span>, midnight), January 1, 1900 UT (ignoring leap seconds). If get-universal-time is called twice, the first value shall be less than or equal to the second value.</p>
            
            <p>No implementation is required to have a way to verify that the time returned is correct. However, an error shall be signaled if an implementation can determine that the time it would return would not be correct (<span class="latin">e.g.</span>, it can determine that the clock was never initialized).</p>
            
<pre class="example">
(get-universal-time) ⇒ 2901312000
</pre>
            
            <div id="f_get_internal_run_time" class="definition-function">
                (<span class="operator">get-internal-run-time</span>) → <span class="class">integer</span>
            </div>
            <div id="f_get_internal_real_time" class="definition-function">
                (<span class="operator">get-internal-real-time</span>) → <span class="class">integer</span>
            </div>
            
            <p>get-internal-real-time returns as an integer the current time in internal time units, relative to an arbitrary time base. The difference between the values of two calls to this function is the amount of elapsed real time (<span class="latin">i.e.</span>, clock time) between the two calls.</p>
            <p>get-internal-run-time returns as an integer the current run time in internal time units. The precise meaning of this quantity is <a href="#td_implementation_defined">implementation defined</a>. The difference between the values of two calls to this function is the amount of time between the two calls during which computational effort was expended on behalf of the executing program.</p>
            
            <div id="f_internal_time_units_per_second" class="definition-function">
                (<span class="operator">internal-time-units-per-second</span>) → <span class="class">integer</span>
            </div>
            
            <p>internal-time-units-per-second returns the number of time units per second for the implementation.</p>
            
            <h2 id="index">Index</h2>
<pre>
#' <a href="#s_function">23</a>
#| <a href="#comments">10</a>
&amp;rest <a href="#s_lambda">24</a>, <a href="#def_defgeneric">53</a>, <a href="#def_defmethod">54</a>, <a href="#congruent_lambda_lists">55</a>, <a href="#rest_66">66</a>
' <a href="#s_quote">33</a>
* <a href="#f_muptiply">70</a>
*most-negative-float* <a href="#c_most_negative_float">78</a>
*most-positive-float* <a href="#c_most_positive_float">78</a>
*pi* <a href="#c_pi">74</a>
+ <a href="#f_plus">70</a>
, <a href="#syn_comma">62</a>
,@ <a href="#syn_comma_at">62</a>
- <a href="#f_minus">71</a>
/= <a href="#f_math_neq">70</a>
:abstractp <a href="#def_defclass">48</a>, <a href="#abstractp">50</a>
:accessor <a href="#def_defclass">48</a>, <a href="#accessor">49</a>, <a href="#reader_writer_accessor">52</a>, <a href="#reader_writer_accessor2">53</a>
:after <a href="#def_defgeneric">53</a>, <a href="#def_defmethod">54</a>, <a href="#method_qualifier">55</a>, <a href="#standard_method_combination">57</a>, <a href="#semantics_of_standard_method_combination">58</a>, <a href="#rest_66">66</a>
:around <a href="#def_defgeneric">53</a>, <a href="#def_defmethod">54</a>, <a href="#method_qualifier">55</a>, <a href="#standard_method_combination">57</a>, <a href="#semantics_of_standard_method_combination">58</a>
:before <a href="#def_defgeneric">53</a>, <a href="#def_defmethod">54</a>, <a href="#method_qualifier">55</a>, <a href="#standard_method_combination">57</a>, <a href="#rest_66">66</a>
:boundp <a href="#def_defclass">48</a>, <a href="#boundp">49</a>
:generic-function-class <a href="#def_defgeneric">53</a>
:initarg <a href="#def_defclass">48</a>, <a href="#initarg">49</a>, <a href="#initialize_object">60</a>
:initform <a href="#def_defclass">48</a>, <a href="#initform">49</a>, <a href="#inheritance_of_slots">52</a>, <a href="#initialize_object">60</a>, <a href="#gf_initialize_object">61</a>
:metaclass <a href="#def_defclass">48</a>, <a href="#metaclass">50</a>
:method <a href="#def_defgeneric">53</a>
:method-combination <a href="#def_defgeneric">53</a>, <a href="#applying_methods">57</a>
:reader <a href="#def_defclass">48</a>, <a href="#reader">49</a>, <a href="#reader_writer_accessor">52</a>, <a href="#reader_writer_accessor2">53</a>
:rest <a href="#s_lambda">24</a>, <a href="#def_defgeneric">53</a>, <a href="#def_defmethod">54</a>, <a href="#congruent_lambda_lists">55</a>, <a href="#rest_66">66</a>
:writer <a href="#def_defclass">48</a>, <a href="#writer">49</a>, <a href="#reader_writer_accessor">52</a>, <a href="#reader_writer_accessor2">53</a>
&lt; <a href="#f_lt">70</a>
&lt;= <a href="#f_lteq">70</a>
= <a href="#f_math_eq">69</a>
&gt; <a href="#f_gt">70</a>
&gt;= <a href="#f_gteq">70</a>
` <a href="#syn_backquote">62</a>
|# <a href="#comments">10</a>
abs <a href="#f_abs">73</a>
abstract class <a href="#td_abstract_class">2</a>
accessible (of a slot) <a href="#accesible_slots">16</a>
accessor <a href="#td_accessor">2</a>
accessor (of a slot) <a href="#accessing_slots">51</a>
activation <a href="#td_activation">2</a>
active block <a href="#the_lexical_principle">17</a>
active handler <a href="#signaling_and_handling">115</a>
and <a href="#s_and">31</a>
append <a href="#f_append">88</a>
applicable (of a method) <a href="#selecting_the_applicable_methods">56</a>
applicable method <a href="#selecting_the_applicable_methods">56</a>
apply <a href="#f_apply">25</a>
aref <a href="#f_aref">94</a>
argument position <a href="#td_argument_position">2</a>
arithmetic-error-operands <a href="#f_arithmetic_error_operands">118</a>
arithmetic-error-operation <a href="#f_arithmetic_error_operation">118</a>
array <a href="#array">11</a>, <a href="#arrays">91</a>
array (general) <a href="#general_arrays">92</a>
array-dimensions <a href="#f_array_dimensions">95</a>
assignment <a href="#variables">34</a>
assoc <a href="#f_assoc">91</a>
assure <a href="#s_assure">63</a>
atan <a href="#f_atan">75</a>
atan2 <a href="#f_atan2">75</a>
atanh <a href="#f_atanh">77</a>
auxiliary method <a href="#standard_method_combination">57</a>
basic-array*-p <a href="#f_basic_array_s_p">93</a>
basic-array-p <a href="#f_basic_array_p">93</a>
basic-vector-p <a href="#f_basic_vector_p">95</a>
binary i/o <a href="#binary_io">111</a>
binding <a href="#td_binding">3</a>, <a href="#variables">34</a>
block <a href="#s_block">43</a>
boolean functions <a href="#predicates">28</a>
booleans <a href="#predicates">28</a>
call-next-method <a href="#l_call_next_method">59</a>
car <a href="#f_car">85</a>
case <a href="#s_case">39</a>
case forms <a href="#s_case">39</a>
case-using <a href="#s_case_using">39</a>
catch <a href="#s_catch">44</a>
catch tag <a href="#s_catch">44</a>
cdr <a href="#f_cdr">86</a>
ceiling <a href="#f_ceiling">79</a>
cerror <a href="#f_cerror">116</a>
char-index <a href="#f_char_index">98</a>
char/= <a href="#f_char_neq">83</a>
char&lt; <a href="#f_char_lt">83</a>
char&lt;= <a href="#f_char_lteq">83</a>
char= <a href="#f_char_eq">83</a>
char&gt; <a href="#f_char_gt">83</a>
char&gt;= <a href="#f_char_gteq">83</a>
character <a href="#character">10</a>, <a href="#character_class">83</a>
character i/o <a href="#character_io">107</a>
characterp <a href="#f_characterp">83</a>
class <a href="#td_class">3</a>, <a href="#classes">13</a>
class <a href="#s_class">61</a>, <a href="#undefined_entity_errors">119</a>, <a href="#f_undefined_entity_namespace">120</a>
class option <a href="#definition_of_a_class">48</a>
class precedence list <a href="#class_precedence_list">13</a>, <a href="#determining_the_class_precedence">50</a>
class-of <a href="#f_class_of">61</a>
close <a href="#f_close">105</a>
coercion <a href="#s_convert">64</a>
combination (of applicable methods) <a href="#selecting_the_applicable_methods">56</a>
comment begin <a href="#comments">10</a>
cond <a href="#s_cond">39</a>
condition <a href="#td_condition">3</a>, <a href="#conditions">115</a>
condition system <a href="#condition_system">114</a>
condition-continuable <a href="#f_condition_continuable">117</a>
conditional expressions <a href="#conditional_expressions">38</a>
cons <a href="#cons10">10</a>, <a href="#cons">84</a>
cons <a href="#f_cons">85</a>
consequences undefined <a href="#consequences_are_undefined">12</a>
consp <a href="#f_consp">85</a>
constant <a href="#constants">33</a>
constants <a href="#constants">33</a>
constructor <a href="#create_">9</a>
continue-condition <a href="#f_continue_condition">117</a>
control <a href="#control_structure">33</a>
conventions <a href="#conventions">9</a>
convert <a href="#f_convert">64</a>
cos <a href="#f_cos">75</a>
cosh <a href="#f_cosh">76</a>
create <a href="#gf_create">60</a>, <a href="#f_error">116</a>
create-array <a href="#f_create_array">93</a>
create-list <a href="#f_create_list">87</a>
create-string <a href="#f_create_string">97</a>
create-string-input-stream <a href="#f_create_string_input_stream">106</a>
create-string-output-stream <a href="#f_create_string_output_stream">106</a>, <a href="#f_cerror">116</a>
create-vector <a href="#f_create_vector">96</a>
declarations <a href="#declarations_and_coercions">63</a>
default method <a href="#default_method">56</a>
defclass <a href="#def_defclass">48</a>
defconstant <a href="#def_defconstant">26</a>
defdynamic <a href="#def_defdynamic">27</a>
defgeneric <a href="#def_defgeneric">53</a>
defglobal <a href="#def_defglobal">27</a>
define (a slot) <a href="#define_a_slot">16</a>
defining form <a href="#defining_forms">21</a>
defining operator <a href="#defining_forms">21</a>
defining-form <a href="#def_">9</a>
defining-form-name <a href="#defining_forms">21</a>
definition point <a href="#td_definition_point">3</a>
defmacro <a href="#def_defmacro">62</a>
defmethod <a href="#def_defmethod">54</a>
defun <a href="#def_defun">27</a>
destination <a href="#non_local_exits">42</a>
direct instance <a href="#td_direct_instance">3</a>
direct subclass <a href="#classes">13</a>
direct superclass <a href="#classes">13</a>
directed acyclic graph <a href="#classes">13</a>
disestablishing a binding <a href="#extent">19</a>
div <a href="#f_div">81</a>
domain-error-expected-class <a href="#f_domain_error_expected_class">118</a>
domain-error-object <a href="#f_domain_error_object">118</a>
dotted pair <a href="#cons">84</a>
dynamic <a href="#td_dynamic">3</a>
dynamic <a href="#s_dynamic">37</a>
dynamic binding <a href="#the_lexical_principle">17</a>
dynamic exit <a href="#dynamic_exits">43</a>
dynamic extent <a href="#dynamic_extent">18</a>
dynamic variable <a href="#td_dynamic_variable">3</a>
dynamic-let <a href="#s_dynamic_let">38</a>
dynamic-variable <a href="#undefined_entity_errors">119</a>, <a href="#f_undefined_entity_namespace">120</a>
effective method <a href="#effective_method">56</a>
elt <a href="#f_elt">100</a>
eq <a href="#f_eq">29</a>
eql <a href="#f_eql">29</a>
equal <a href="#f_equal">30</a>
error <a href="#errors">11</a>
error <a href="#f_error">116</a>
error condition <a href="#error_conditions">115</a>
error system <a href="#error_system">114</a>
error-id. <span class="error_id">arity-error</span> <a href="#arity_error">12</a>, <a href="#s_lambda">24</a>, <a href="#e_arity_error">120</a>
error-id. <span class="error_id">cannot-create-array</span> <a href="#f_create_array">93</a>, <a href="#e_cannot_create_array">120</a>
error-id. <span class="error_id">cannot-create-cons</span> <a href="#f_cons">85</a>, <a href="#e_cannot_create_cons">120</a>
error-id. <span class="error_id">cannot-create-list</span> <a href="#f_create_list">87</a>, <a href="#f_list">88</a>, <a href="#f_append">89</a>, <a href="#e_cannot_create_list">120</a>
error-id. <span class="error_id">cannot-create-sequence</span> <a href="#f_subseq">101</a>, <a href="#e_cannot_create_sequence">120</a>
error-id. <span class="error_id">cannot-create-string</span> <a href="#f_create_string">97</a>, <a href="#f_string_append">99</a>, <a href="#e_cannot_create_string">120</a>
error-id. <span class="error_id">cannot-create-vector</span> <a href="#f_vector">96</a>, <a href="#e_cannot_create_vector">120</a>
error-id. <span class="error_id">cannot-parse-number</span> <a href="#f_parse_number">69</a>, <a href="#e_cannot_parse_number">120</a>
error-id. <span class="error_id">control-error</span> <a href="#s_block">43</a>, <a href="#s_catch">44</a>, <a href="#s_unwind_protect">46</a>, <a href="#e_control_error">120</a>
error-id. <span class="error_id">division-by-zero</span> <a href="#f_quotient">72</a>, <a href="#f_div">81</a>, <a href="#e_division_by_zero">121</a>
error-id. <span class="error_id">domain-error</span> <a href="#domain_error">12</a>, <a href="#f_apply">25</a>, <a href="#f_funcall">26</a>, <a href="#f_subclassp">61</a>, <a href="#s_the">63</a>, <a href="#s_setf">67</a>,
<a href="#f_remove_property">68</a>, <a href="#f_parse_number">69</a>, <a href="#f_math_neq">70</a>,<a href="#f_minus">71</a>, <a href="#f_max">72</a>, <a href="#f_abs">73</a>, <a href="#f_sqrt">74</a>, <a href="#f_sin">75</a>, <a href="#f_sinh">76</a>, <a href="#f_atanh">77</a>,
<a href="#f_float">78</a>, <a href="#f_ceiling">79</a>, <a href="#f_div">81</a>, <a href="#f_lcm">82</a>, <a href="#f_char_eq">84</a>, <a href="#f_car">85</a>, <a href="#f_cdr">86</a>, <a href="#f_reverse">88</a>, <a href="#f_member">89</a>, <a href="#f_mapcar">90</a>,
<a href="#f_assoc">91</a>, <a href="#f_create_array">93</a>, <a href="#f_aref">94</a>, <a href="#f_array_dimensions">95</a>, <a href="#f_create_vector">96</a>, <a href="#f_create_string">97</a>, <a href="#f_char_index">98</a>, <a href="#f_string_append">99</a>, <a href="#f_elt">100</a>, <a href="#f_subseq">101</a>,
<a href="#f_close">105</a>, <a href="#f_create_string_input_stream">106</a>, <a href="#f_stream_ready_p">109</a>, <a href="#f_write_byte">112</a>, <a href="#f_file_position">113</a>, <a href="#f_set_file_position">114</a>, <a href="#f_arithmetic_error_operation">118</a>, <a href="#f_parse_error_string">119</a>,
<a href="#f_undefined_entity_name">120</a>, <a href="#e_domain_error">121</a>
error-id. <span class="error_id">end-of-stream</span> <a href="#input_and_output">107</a>, <a href="#e_end_of_stream">121</a>
error-id. <span class="error_id">immutable-binding</span> <a href="#td_immutable_binding">4</a>, <a href="#e_immutable_binding">121</a>
error-id. <span class="error_id">improper-argument-list</span> <a href="#f_apply">25</a>, <a href="#e_improper_argument_list">121</a>
error-id. <span class="error_id">index-out-of-range</span> <a href="#f_elt">100</a>, <a href="#f_subseq">101</a>, <a href="#e_index_out_of_range">121</a>
error-id. <span class="error_id">not-an-input-stream</span> <a href="#input_and_output">107</a>, <a href="#e_not_an_input_stream">121</a>
error-id. <span class="error_id">not-an-output-stream</span> <a href="#f_format">109</a>, <a href="#e_not_an_output_stream">121</a>
error-id. <span class="error_id">sample</span> <a href="#pervasive_error_types">12</a>
error-id. <span class="error_id">unbound-variable</span> <a href="#undefined_entity">12</a>, <a href="#the_evaluation_model">22</a>, <a href="#s_dynamic">37</a>, <a href="#s_set_dynamic">38</a>, <a href="#e_unbound_variable">121</a>
error-id. <span class="error_id">undefined-entity</span> <a href="#undefined_entity">12</a>, <a href="#undefined_entity">121</a>
error-id. <span class="error_id">undefined-function</span> <a href="#undefined_entity">12</a>, <a href="#the_evaluation_model">22</a>, <a href="#s_function">23</a>, <a href="#e_undefined_function">121</a>
error-output <a href="#f_error_output">103</a>
establishing a binding <a href="#binding_established_disestablished">19</a>
evaluation <a href="#td_evaluation">3</a>, <a href="#forms_and_evaluation">19</a>
evaluation model <a href="#evaluation_model">7</a>, <a href="#the_evaluation_model">21</a>
execution <a href="#td_execution">4</a>, <a href="#evaluation_model">7</a>
exp <a href="#f_exp">73</a>
expander <a href="#macros">61</a>
expected-class <a href="#domain_errors">118</a>, <a href="#parse_errors">119</a>
expt <a href="#f_expt">74</a>
extension <a href="#td_extension">4</a>
extent <a href="#extent">18</a>
file position <a href="#f_file_position">113</a>
file streams <a href="#streams_to_files">103</a>
file-length <a href="#f_file_length">114</a>
file-position <a href="#f_file_position">113</a>
filename <a href="#streams_to_files">104</a>
files <a href="#files">112</a>
finish-output <a href="#f_finish_output">105</a>
flet <a href="#s_flet">24</a>
ﬂoat <a href="#float11">11</a>, <a href="#float_class">77</a>
float <a href="#f_float">78</a>
floatp <a href="#f_floatp">78</a>
floor <a href="#f_floor">78</a>
for <a href="#s_for">41</a>
form <a href="#td_form">4</a>, <a href="#forms7">7</a>
format <a href="#f_format">109</a>
format-arguments <a href="#f_error">116</a>, <a href="#simple_errors">119</a>
format-char <a href="#f_format_char">109</a>
format-float <a href="#f_format_float">109</a>
format-fresh-line <a href="#f_format_fresh_line">109</a>
format-integer <a href="#f_format_integer">109</a>
format-object <a href="#f_format_object">109</a>
format-string <a href="#f_error">116</a>, <a href="#simple_errors">119</a>
format-tab <a href="#f_format_tab">109</a>
Forms and Evaluation <a href="#forms_and_evaluation">19</a>
funcall <a href="#f_funcall">26</a>
function <a href="#td_function">4</a>
function <a href="#s_function">23</a>, <a href="#undefined_entity_errors">119</a>, <a href="#f_undefined_entity_name">120</a>
function application form <a href="#function_application_forms">20</a>
function-name <a href="#function_application_forms">20</a>
functionp <a href="#f_functionp">23</a>
garef <a href="#f_garef">94</a>
gcd <a href="#f_gcd">81</a>
general array <a href="#general_arrays">92</a>
general-array*-p <a href="#f_general_array_s_p">93</a>
general-vector-p <a href="#f_general_vector_p">95</a>
generic function <a href="#td_generic_function">4</a>, <a href="#generic_functions">52</a>
generic-function-name <a href="#function_application_forms">20</a>
generic-function-p <a href="#f_generic_function_p">52</a>
gensym <a href="#f_gensym">68</a>
get-internal-real-time <a href="#f_get_internal_real_time">122</a>
get-internal-run-time <a href="#f_get_internal_run_time">122</a>
get-output-stream-string <a href="#f_create_string_output_stream">106</a>, <a href="#f_cerror">116</a>
get-universal-time <a href="#f_get_universal_time">122</a>
go <a href="#s_go">45</a>
handler <a href="#signaling_and_handling">115</a>
handler, active <a href="#signaling_and_handling">115</a>
identifier <a href="#td_identifier">4</a>
identity <a href="#f_identity">122</a>
if <a href="#s_if">38</a>
ignore-errors <a href="#s_ignore_errors">117</a>
immutable binding <a href="#td_immutable_binding">4</a>
immutable object <a href="#td_immutable_object">4</a>
implementation defined <a href="#td_implementation_defined">4</a>
implementation dependent <a href="#td_implementation_dependent">5</a>
indefinite extent <a href="#extent">18</a>
inheritance <a href="#td_inheritance">5</a>
inheritance (of slots) <a href="#inheritance_of_slots">51</a>
initialize-object <a href="#gf_initialize_object">60</a>
input-stream-p <a href="#f_input_stream_p">102</a>
instance <a href="#td_instance">5</a>, 13
instancep <a href="#f_instancep">61</a>
integer <a href="#integer10">10</a>, <a href="#integer_class">80</a>
integerp <a href="#f_integerp">80</a>
internal-time-units-per-second <a href="#f_internal_time_units_per_second">122</a>
isqrt <a href="#f_isqrt">82</a>
keyword <a href="#reserved_identifiers">11</a>
labels <a href="#s_labels">24</a>
lambda <a href="#s_lambda">23</a>
lcm <a href="#f_lcm">82</a>
length <a href="#f_length">99</a>
let <a href="#s_let">35</a>
let* <a href="#s_let_s">36</a>
lexical exit <a href="#establishing_and_invoking_non_local_exits">43</a>
Lexical Principle <a href="#the_lexical_principle">17</a>
lexical transfer of control <a href="#non_local_exits">43</a>
lexical visibility <a href="#the_lexical_principle">17</a>
list <a href="#list10">10</a>, <a href="#list_class">84</a>, <a href="#list_operations">87</a>
list <a href="#f_list">88</a>
listp <a href="#f_listp">87</a>
literal <a href="#td_literal">5</a>
local precedence order <a href="#local_precedence_order">50</a>
local-function-name <a href="#function_application_forms">20</a>
log <a href="#f_log">73</a>
macro expansion <a href="#s_tagbody">45</a>
map-into <a href="#f_map_into">101</a>
mapc <a href="#f_mapc">89</a>
mapcan <a href="#f_mapcan">89</a>
mapcar <a href="#f_mapcar">89</a>
mapcon <a href="#f_mapcon">89</a>
mapl <a href="#f_mapl">89</a>
maplist <a href="#f_maplist">89</a>
max <a href="#f_max">72</a>
member <a href="#f_member">89</a>
metaclass <a href="#td_metaclass">5</a>, <a href="#metaclasses">13</a>
method <a href="#td_method">5</a>, <a href="#generic_functions">52</a>
min <a href="#f_min">72</a>
mod <a href="#f_mod">81</a>
name <a href="#undefined_entity_errors">119</a>, <a href="#f_undefined_entity_name">120</a>
named (of a symbol) <a href="#symbol_names">65</a>
namespace <a href="#scope_and_extent">17</a>
namespace <a href="#undefined_entity_errors">119</a>, <a href="#f_undefined_entity_namespace">120</a>
neutral alphabetic case <a href="#neutral_alphabetic_case">66</a>
neutral alphabetic characters <a href="#notation_for_symbols">66</a>
next method <a href="#simple_method_combination">57</a>
next-method-p <a href="#l_next_method_p">59</a>
nil <a href="#c_nil">28</a>
non-local exit <a href="#non_local_exits">42</a>
non-local transfer of control <a href="#non_local_exits">42</a>
not <a href="#f_not">31</a>
nreverse <a href="#f_nreverse">88</a>
null <a href="#null10">10</a>, <a href="#null_class">87</a>
null <a href="#f_null">87</a>
number <a href="#number_class">68</a>
numberp <a href="#f_numberp">69</a>
object <a href="#td_object">5</a>
object <a href="#f_domain_error_object">118</a>
open-input-file <a href="#f_open_input_file">104</a>
open-io-file <a href="#f_open_io_file">104</a>
open-output-file <a href="#f_open_output_file">104</a>
open-stream-p <a href="#f_open_stream_p">102</a>
operands <a href="#f_arithmetic_error_operands">118</a>
operation <a href="#f_arithmetic_error_operation">118</a>
operator <a href="#td_operator">5</a>
operator position <a href="#td_operator_position">5</a>
or <a href="#s_or">32</a>
output-stream-p <a href="#f_output_stream_p">102</a>
pair <a href="#cons">84</a>
parameter profile <a href="#td_parameter_profile">6</a>
parameter specializer <a href="#method">52</a>
parse-error-expected-class <a href="#f_parse_error_expected_class">119</a>
parse-error-string <a href="#f_parse_error_string">119</a>
parse-number <a href="#f_parse_number">69</a>
patterns <a href="#form_patterns">8</a>
place <a href="#td_place">6</a>
predicates <a href="#predicates">28</a>
prepared for execution <a href="#evaluation_model">7</a>
preview-char <a href="#f_preview_char">108</a>
primary method <a href="#simple_method_combination">57</a>
print name <a href="#symbol_class">65</a>
probe-file <a href="#f_probe_file">112</a>
process <a href="#td_process">6</a>
processor <a href="#td_processor">6</a>
progn <a href="#s_progn">40</a>
program <a href="#td_program">6</a>
property <a href="#symbol_properties">67</a>
property <a href="#f_property">67</a>
property (of a symbol) <a href="#symbol_class">65</a>
property indicator <a href="#symbol_properties">67</a>
property value <a href="#symbol_properties">67</a>
qualified method <a href="#qualifiers">56</a>
qualifier <a href="#method">52</a>, <a href="#qualifiers">56</a>
quasi-boolean <a href="#quasi_booleans">28</a>
quasiquote <a href="#quasiquote">62</a>
quote <a href="#s_quote">33</a>
quotient <a href="#f_quotient">72</a>
read <a href="#f_read">107</a>
read-byte <a href="#f_read_byte">112</a>
read-char <a href="#f_read_char">108</a>
read-line <a href="#f_read_line">108</a>
reader (of a slot) <a href="#accessing_slots">51</a>
receive (arguments to a function) <a href="#functions">22</a>
reciprocal <a href="#f_reciprocal">72</a>
remove-property <a href="#f_remove_property">68</a>
report-condition <a href="#gf_report_condition">117</a>
return (a value from a function) <a href="#functions">22</a>
return-from <a href="#s_return_from">43</a>
reverse <a href="#f_reverse">88</a>
round <a href="#f_round">79</a>
satisfying parameter specializers <a href="#selecting_the_applicable_methods">56</a>
scope <a href="#td_scope">6</a>, <a href="#scope_of_identifiers">17</a>
sequence <a href="#sequence_functions">99</a>
sequence function <a href="#sequence_functions">99</a>
sequencing (of forms) <a href="#sequencing_forms">40</a>
serious condition <a href="#conditions">115</a>
set-aref <a href="#f_set_aref">94</a>
set-car <a href="#f_set_car">86</a>
set-cdr <a href="#f_set_cdr">86</a>
set-dynamic <a href="#s_set_dynamic">37</a>
set-elt <a href="#f_set_elt">100</a>
set-file-position <a href="#f_set_file_position">114</a>
set-garef <a href="#f_set_garef">94</a>
set-property <a href="#f_set_property">67</a>
set-up forms <a href="#toplevel_form">20</a>
setf <a href="#s_setf">35</a>, <a href="#s_setf_dynamic">37</a>, <a href="#s_setf_property">67</a>, <a href="#s_setf_cdr">86</a>, <a href="#s_setf_aref">94</a>, <a href="#s_setf_elt">100</a>
setq <a href="#s_setq">34</a>
shadow (a class) <a href="#class_precedence_list">13</a>
shadows <a href="#scope_of_identifiers">17</a>
signal (an error) <a href="#errors">11</a>
signal-condition <a href="#f_signal_condition">116</a>
signaling <a href="#classes_of_error_specification">12</a>, <a href="#conditions">115</a>
simple-error-format-arguments <a href="#f_simple_error_format_arguments">119</a>
simple-error-format-string <a href="#f_simple_error_format_string">119</a>
sin <a href="#f_sin">75</a>
sinh <a href="#f_sinh">76</a>
slot <a href="#td_slot">6</a>
slot accessors <a href="#slot_accessors">50</a>
slot option <a href="#defining_classes">48</a>
slot specifier <a href="#defining_classes">48</a>
special form <a href="#special_forms">20</a>
special operator <a href="#special_forms">20</a>
special-operator <a href="#special_operator">21</a>
specialize a generic funcition <a href="#generic_functions">52</a>
sqrt <a href="#f_sqrt">74</a>
standard-input <a href="#f_standard_input">103</a>
standard-output <a href="#f_standard_output">103</a>
stream <a href="#stream_class">102</a>
stream <a href="#stream_errors">119</a>
stream-error-stream <a href="#f_stream_error_stream">119</a>
stream-ready-p <a href="#f_stream_ready_p">109</a>
streamp <a href="#f_streamp">102</a>
string <a href="#string11">11</a>, <a href="#string_class">96</a>
string <a href="#parse_errors">118</a>, <a href="#simple_errors">119</a>
string streams <a href="#other_streams">105</a>
string-append <a href="#f_string_append">99</a>
string-index <a href="#f_string_index">98</a>
string/= <a href="#f_stringneq">97</a>
string&lt; <a href="#f_stringlt">97</a>
string&lt;= <a href="#f_stringlteq">97</a>
string= <a href="#f_stringeq">97</a>
string&gt; <a href="#f_stringgt">97</a>
string&gt;= <a href="#f_stringgteq">97</a>
stringp <a href="#f_stringp">96</a>
structure (of an instance) <a href="">51</a>
subclass <a href="#classes">13</a>
subclassp <a href="#f_subclassp">61</a>
subseq <a href="#f_subseq">101</a>
superclass <a href="#classes">13</a>
symbol <a href="#symbol11">11</a>, <a href="#variables">34</a>, <a href="#symbol_class">65</a>
symbolp <a href="#f_symbolp">65</a>
t <a href="#c_t">28</a>
tagbody <a href="#s_tagbody">45</a>
tagbody tag <a href="#s_tagbody">45</a>
tan <a href="#f_tan">75</a>
tanh <a href="#f_tanh">76</a>
terminology <a href="#terms_and_definitions">2</a>
text <a href="#td_text">6</a>
the <a href="#s_the">63</a>
throw <a href="#s_throw">44</a>
toplevel form <a href="#td_toplevel_form">6</a>, <a href="#toplevel_form">20</a>
toplevel scope <a href="#td_toplevel_scope">6</a>, <a href="#scope_of_identifiers">17</a>
truncate <a href="#f_truncate">79</a>
unbound <a href="#slots">16</a>
undefined consequences <a href="#classes_of_error_specification">12</a>
undefined-entity-name <a href="#f_undefined_entity_name">120</a>
undefined-entity-namespace <a href="#f_undefined_entity_namespace">120</a>
unnamed (of a symbol) <a href="#symbol_names">65</a>
unqualified method <a href="#qualifiers">56</a>
unwind-protect <a href="#s_unwind_protect">46</a>
value <a href="#executed_as_follows">22</a>
var <a href="#variables">34</a>
variable <a href="#variables">34</a>
variable <a href="#undefined_entity_errors">119</a>, <a href="#f_undefined_entity_namespace">120</a>
variable bindings <a href="#variables">34</a>
vector <a href="#vector11">11</a>, <a href="#vectors">95</a>
vector <a href="#f_vector">96</a>
violation <a href="#errors">11</a>
while <a href="#s_while">41</a>
with-error-output <a href="#s_with_error_output">103</a>
with-handler <a href="#s_with_handler">117</a>
with-open-input-file <a href="#s_with_open_input_file">104</a>, <a href="#f_stream_ready_p">109</a>
with-open-io-file <a href="#s_with_open_io_file">104</a>
with-open-output-file <a href="#s_with_open_output_file">104</a>, <a href="#f_read_line">108</a>, <a href="#f_stream_ready_p">109</a>
with-standard-input <a href="#s_with_standard_input">103</a>
with-standard-output <a href="#s_with_standard_output">103</a>
write-byte <a href="#f_write_byte">112</a>
writer <a href="#td_writer">7</a>
writer (of a slot) <a href="#accessing_slots">51</a>
</pre>
</main>
  <script type="text/javascript" src="https://islisp.js.org/api/eval.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <script type="text/javascript">
    $(".eval").on("click", function(e){
    var s = $(e.target).prev().text()
    $(e.target).next().html(islisp.eval(s))
    })
  </script>
</body>
    
</html>
